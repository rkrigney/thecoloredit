function ep(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ku={exports:{}},wi={},Gu={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),np=Symbol.for("react.portal"),rp=Symbol.for("react.fragment"),sp=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),lp=Symbol.for("react.provider"),op=Symbol.for("react.context"),ap=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),up=Symbol.for("react.memo"),dp=Symbol.for("react.lazy"),rc=Symbol.iterator;function fp(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var Ju={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yu=Object.assign,Xu={};function tr(e,t,n){this.props=e,this.context=t,this.refs=Xu,this.updater=n||Ju}tr.prototype.isReactComponent={};tr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zu(){}Zu.prototype=tr.prototype;function Bo(e,t,n){this.props=e,this.context=t,this.refs=Xu,this.updater=n||Ju}var Wo=Bo.prototype=new Zu;Wo.constructor=Bo;Yu(Wo,tr.prototype);Wo.isPureReactComponent=!0;var sc=Array.isArray,ed=Object.prototype.hasOwnProperty,Vo={current:null},td={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)ed.call(t,r)&&!td.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yr,type:e,key:i,ref:l,props:s,_owner:Vo.current}}function hp(e,t){return{$$typeof:Yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ho(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function pp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ic=/\/+/g;function Wi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pp(""+e.key):t.toString(36)}function Ps(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Yr:case np:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Wi(l,0):r,sc(s)?(n="",e!=null&&(n=e.replace(ic,"$&/")+"/"),Ps(s,t,n,"",function(u){return u})):s!=null&&(Ho(s)&&(s=hp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ic,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",sc(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Wi(i,a);l+=Ps(i,t,n,c,s)}else if(c=fp(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Wi(i,a++),l+=Ps(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function os(e,t,n){if(e==null)return e;var r=[],s=0;return Ps(e,r,"","",function(i){return t.call(n,i,s++)}),r}function mp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},Os={transition:null},gp={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Os,ReactCurrentOwner:Vo};function rd(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:os,forEach:function(e,t,n){os(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return os(e,function(){t++}),t},toArray:function(e){return os(e,function(t){return t})||[]},only:function(e){if(!Ho(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=tr;L.Fragment=rp;L.Profiler=ip;L.PureComponent=Bo;L.StrictMode=sp;L.Suspense=cp;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp;L.act=rd;L.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yu({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Vo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ed.call(t,c)&&!td.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Yr,type:e.type,key:s,ref:i,props:r,_owner:l}};L.createContext=function(e){return e={$$typeof:op,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lp,_context:e},e.Consumer=e};L.createElement=nd;L.createFactory=function(e){var t=nd.bind(null,e);return t.type=e,t};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:ap,render:e}};L.isValidElement=Ho;L.lazy=function(e){return{$$typeof:dp,_payload:{_status:-1,_result:e},_init:mp}};L.memo=function(e,t){return{$$typeof:up,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=Os.transition;Os.transition={};try{e()}finally{Os.transition=t}};L.unstable_act=rd;L.useCallback=function(e,t){return we.current.useCallback(e,t)};L.useContext=function(e){return we.current.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e){return we.current.useDeferredValue(e)};L.useEffect=function(e,t){return we.current.useEffect(e,t)};L.useId=function(){return we.current.useId()};L.useImperativeHandle=function(e,t,n){return we.current.useImperativeHandle(e,t,n)};L.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};L.useMemo=function(e,t){return we.current.useMemo(e,t)};L.useReducer=function(e,t,n){return we.current.useReducer(e,t,n)};L.useRef=function(e){return we.current.useRef(e)};L.useState=function(e){return we.current.useState(e)};L.useSyncExternalStore=function(e,t,n){return we.current.useSyncExternalStore(e,t,n)};L.useTransition=function(){return we.current.useTransition()};L.version="18.3.1";Gu.exports=L;var _=Gu.exports;const sd=tp(_),yp=ep({__proto__:null,default:sd},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=_,xp=Symbol.for("react.element"),wp=Symbol.for("react.fragment"),bp=Object.prototype.hasOwnProperty,jp=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sp={key:!0,ref:!0,__self:!0,__source:!0};function id(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)bp.call(t,r)&&!Sp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:xp,type:e,key:i,ref:l,props:s,_owner:jp.current}}wi.Fragment=wp;wi.jsx=id;wi.jsxs=id;Ku.exports=wi;var o=Ku.exports,kl={},ld={exports:{}},Ue={},od={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,I){var T=E.length;E.push(I);e:for(;0<T;){var V=T-1>>>1,Y=E[V];if(0<s(Y,I))E[V]=I,E[T]=Y,T=V;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var I=E[0],T=E.pop();if(T!==I){E[0]=T;e:for(var V=0,Y=E.length,jn=Y>>>1;V<jn;){var pt=2*(V+1)-1,ir=E[pt],en=pt+1,ls=E[en];if(0>s(ir,T))en<Y&&0>s(ls,ir)?(E[V]=ls,E[en]=T,V=en):(E[V]=ir,E[pt]=T,V=pt);else if(en<Y&&0>s(ls,T))E[V]=ls,E[en]=T,V=en;else break e}}return I}function s(E,I){var T=E.sortIndex-I.sortIndex;return T!==0?T:E.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var c=[],u=[],d=1,f=null,m=3,v=!1,x=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var I=n(u);I!==null;){if(I.callback===null)r(u);else if(I.startTime<=E)r(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=n(u)}}function w(E){if(y=!1,h(E),!x)if(n(c)!==null)x=!0,Je(j);else{var I=n(u);I!==null&&Pe(w,I.startTime-E)}}function j(E,I){x=!1,y&&(y=!1,g(N),N=-1),v=!0;var T=m;try{for(h(I),f=n(c);f!==null&&(!(f.expirationTime>I)||E&&!ee());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var Y=V(f.expirationTime<=I);I=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),h(I)}else r(c);f=n(c)}if(f!==null)var jn=!0;else{var pt=n(u);pt!==null&&Pe(w,pt.startTime-I),jn=!1}return jn}finally{f=null,m=T,v=!1}}var b=!1,k=null,N=-1,M=5,O=-1;function ee(){return!(e.unstable_now()-O<M)}function Ot(){if(k!==null){var E=e.unstable_now();O=E;var I=!0;try{I=k(!0,E)}finally{I?Tt():(b=!1,k=null)}}else b=!1}var Tt;if(typeof p=="function")Tt=function(){p(Ot)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,je=F.port2;F.port1.onmessage=Ot,Tt=function(){je.postMessage(null)}}else Tt=function(){S(Ot,0)};function Je(E){k=E,b||(b=!0,Tt())}function Pe(E,I){N=S(function(){E(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,Je(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var T=m;m=I;try{return E()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,I){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var T=m;m=E;try{return I()}finally{m=T}},e.unstable_scheduleCallback=function(E,I,T){var V=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?V+T:V):T=V,E){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=T+Y,E={id:d++,callback:I,priorityLevel:E,startTime:T,expirationTime:Y,sortIndex:-1},T>V?(E.sortIndex=T,t(u,E),n(c)===null&&E===n(u)&&(y?(g(N),N=-1):y=!0,Pe(w,T-V))):(E.sortIndex=Y,t(c,E),x||v||(x=!0,Je(j))),E},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(E){var I=m;return function(){var T=m;m=I;try{return E.apply(this,arguments)}finally{m=T}}}})(ad);od.exports=ad;var _p=od.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp=_,Fe=_p;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cd=new Set,Tr={};function vn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(Tr[e]=t,e=0;e<t.length;e++)cd.add(t[e])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nl=Object.prototype.hasOwnProperty,Np=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc={},oc={};function Cp(e){return Nl.call(oc,e)?!0:Nl.call(lc,e)?!1:Np.test(e)?oc[e]=!0:(lc[e]=!0,!1)}function Ep(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Pp(e,t,n,r){if(t===null||typeof t>"u"||Ep(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qo=/[\-:]([a-z])/g;function qo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qo,qo);ue[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qo,qo);ue[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qo,qo);ue[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ko(e,t,n,r){var s=ue.hasOwnProperty(t)?ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Pp(t,n,s,r)&&(n=null),r||s===null?Cp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Et=kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,as=Symbol.for("react.element"),kn=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),Go=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),ud=Symbol.for("react.provider"),dd=Symbol.for("react.context"),Jo=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),Yo=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),fd=Symbol.for("react.offscreen"),ac=Symbol.iterator;function lr(e){return e===null||typeof e!="object"?null:(e=ac&&e[ac]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Vi;function pr(e){if(Vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vi=t&&t[1]||""}return`
`+Vi+e}var Hi=!1;function Qi(e,t){if(!e||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=a);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pr(e):""}function Op(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Ol(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case kn:return"Portal";case Cl:return"Profiler";case Go:return"StrictMode";case El:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dd:return(e.displayName||"Context")+".Consumer";case ud:return(e._context.displayName||"Context")+".Provider";case Jo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yo:return t=e.displayName||null,t!==null?t:Ol(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return Ol(e(t))}catch{}}return null}function Tp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ol(t);case 8:return t===Go?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mp(e){var t=hd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cs(e){e._valueTracker||(e._valueTracker=Mp(e))}function pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tl(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function cc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Kt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function md(e,t){t=t.checked,t!=null&&Ko(e,"checked",t,!1)}function Ml(e,t){md(e,t);var n=Kt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Il(e,t.type,n):t.hasOwnProperty("defaultValue")&&Il(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Il(e,t,n){(t!=="number"||Vs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var mr=Array.isArray;function zn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Kt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function dc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(mr(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Kt(n)}}function gd(e,t){var n=Kt(t.value),r=Kt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var us,vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(us=us||document.createElement("div"),us.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=us.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ip=["Webkit","ms","Moz","O"];Object.keys(wr).forEach(function(e){Ip.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wr[t]=wr[e]})});function xd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wr.hasOwnProperty(e)&&wr[e]?(""+t).trim():t+"px"}function wd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Lp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(e,t){if(t){if(Lp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Dl=null,Fn=null,Dn=null;function hc(e){if(e=es(e)){if(typeof Dl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=ki(t),Dl(e.stateNode,e.type,t))}}function bd(e){Fn?Dn?Dn.push(e):Dn=[e]:Fn=e}function jd(){if(Fn){var e=Fn,t=Dn;if(Dn=Fn=null,hc(e),t)for(e=0;e<t.length;e++)hc(t[e])}}function Sd(e,t){return e(t)}function _d(){}var qi=!1;function kd(e,t,n){if(qi)return e(t,n);qi=!0;try{return Sd(e,t,n)}finally{qi=!1,(Fn!==null||Dn!==null)&&(_d(),jd())}}function Ir(e,t){var n=e.stateNode;if(n===null)return null;var r=ki(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Ul=!1;if(St)try{var or={};Object.defineProperty(or,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Ul=!1}function Rp(e,t,n,r,s,i,l,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var br=!1,Hs=null,Qs=!1,$l=null,Ap={onError:function(e){br=!0,Hs=e}};function zp(e,t,n,r,s,i,l,a,c){br=!1,Hs=null,Rp.apply(Ap,arguments)}function Fp(e,t,n,r,s,i,l,a,c){if(zp.apply(this,arguments),br){if(br){var u=Hs;br=!1,Hs=null}else throw Error(C(198));Qs||(Qs=!0,$l=u)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pc(e){if(xn(e)!==e)throw Error(C(188))}function Dp(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return pc(s),e;if(i===r)return pc(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Cd(e){return e=Dp(e),e!==null?Ed(e):null}function Ed(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ed(e);if(t!==null)return t;e=e.sibling}return null}var Pd=Fe.unstable_scheduleCallback,mc=Fe.unstable_cancelCallback,Up=Fe.unstable_shouldYield,$p=Fe.unstable_requestPaint,J=Fe.unstable_now,Bp=Fe.unstable_getCurrentPriorityLevel,Zo=Fe.unstable_ImmediatePriority,Od=Fe.unstable_UserBlockingPriority,qs=Fe.unstable_NormalPriority,Wp=Fe.unstable_LowPriority,Td=Fe.unstable_IdlePriority,bi=null,ut=null;function Vp(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(bi,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:qp,Hp=Math.log,Qp=Math.LN2;function qp(e){return e>>>=0,e===0?32:31-(Hp(e)/Qp|0)|0}var ds=64,fs=4194304;function gr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=gr(a):(i&=l,i!==0&&(r=gr(i)))}else l=n&~s,l!==0?r=gr(l):i!==0&&(r=gr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nt(t),s=1<<n,r|=e[n],t&=~s;return r}function Kp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-nt(i),a=1<<l,c=s[l];c===-1?(!(a&n)||a&r)&&(s[l]=Kp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Md(){var e=ds;return ds<<=1,!(ds&4194240)&&(ds=64),e}function Ki(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function Jp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-nt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function ea(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var D=0;function Id(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ld,ta,Rd,Ad,zd,Wl=!1,hs=[],Ut=null,$t=null,Bt=null,Lr=new Map,Rr=new Map,Rt=[],Yp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gc(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Lr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function ar(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=es(t),t!==null&&ta(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xp(e,t,n,r,s){switch(t){case"focusin":return Ut=ar(Ut,e,t,n,r,s),!0;case"dragenter":return $t=ar($t,e,t,n,r,s),!0;case"mouseover":return Bt=ar(Bt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Lr.set(i,ar(Lr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rr.set(i,ar(Rr.get(i)||null,e,t,n,r,s)),!0}return!1}function Fd(e){var t=sn(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Nd(n),t!==null){e.blockedOn=t,zd(e.priority,function(){Rd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ts(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return t=es(n),t!==null&&ta(t),e.blockedOn=n,!1;t.shift()}return!0}function yc(e,t,n){Ts(e)&&n.delete(t)}function Zp(){Wl=!1,Ut!==null&&Ts(Ut)&&(Ut=null),$t!==null&&Ts($t)&&($t=null),Bt!==null&&Ts(Bt)&&(Bt=null),Lr.forEach(yc),Rr.forEach(yc)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Wl||(Wl=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Zp)))}function Ar(e){function t(s){return cr(s,e)}if(0<hs.length){cr(hs[0],e);for(var n=1;n<hs.length;n++){var r=hs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ut!==null&&cr(Ut,e),$t!==null&&cr($t,e),Bt!==null&&cr(Bt,e),Lr.forEach(t),Rr.forEach(t),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)Fd(n),n.blockedOn===null&&Rt.shift()}var Un=Et.ReactCurrentBatchConfig,Gs=!0;function em(e,t,n,r){var s=D,i=Un.transition;Un.transition=null;try{D=1,na(e,t,n,r)}finally{D=s,Un.transition=i}}function tm(e,t,n,r){var s=D,i=Un.transition;Un.transition=null;try{D=4,na(e,t,n,r)}finally{D=s,Un.transition=i}}function na(e,t,n,r){if(Gs){var s=Vl(e,t,n,r);if(s===null)sl(e,t,r,Js,n),gc(e,r);else if(Xp(s,e,t,n,r))r.stopPropagation();else if(gc(e,r),t&4&&-1<Yp.indexOf(e)){for(;s!==null;){var i=es(s);if(i!==null&&Ld(i),i=Vl(e,t,n,r),i===null&&sl(e,t,r,Js,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sl(e,t,r,null,n)}}var Js=null;function Vl(e,t,n,r){if(Js=null,e=Xo(r),e=sn(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Js=e,null}function Dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bp()){case Zo:return 1;case Od:return 4;case qs:case Wp:return 16;case Td:return 536870912;default:return 16}default:return 16}}var zt=null,ra=null,Ms=null;function Ud(){if(Ms)return Ms;var e,t=ra,n=t.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Ms=s.slice(e,1<r?1-r:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ps(){return!0}function vc(){return!1}function $e(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ps:vc,this.isPropagationStopped=vc,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),t}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sa=$e(nr),Zr=q({},nr,{view:0,detail:0}),nm=$e(Zr),Gi,Ji,ur,ji=q({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ur&&(ur&&e.type==="mousemove"?(Gi=e.screenX-ur.screenX,Ji=e.screenY-ur.screenY):Ji=Gi=0,ur=e),Gi)},movementY:function(e){return"movementY"in e?e.movementY:Ji}}),xc=$e(ji),rm=q({},ji,{dataTransfer:0}),sm=$e(rm),im=q({},Zr,{relatedTarget:0}),Yi=$e(im),lm=q({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),om=$e(lm),am=q({},nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cm=$e(am),um=q({},nr,{data:0}),wc=$e(um),dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hm[e])?!!t[e]:!1}function ia(){return pm}var mm=q({},Zr,{key:function(e){if(e.key){var t=dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gm=$e(mm),ym=q({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bc=$e(ym),vm=q({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),xm=$e(vm),wm=q({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bm=$e(wm),jm=q({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sm=$e(jm),_m=[9,13,27,32],la=St&&"CompositionEvent"in window,jr=null;St&&"documentMode"in document&&(jr=document.documentMode);var km=St&&"TextEvent"in window&&!jr,$d=St&&(!la||jr&&8<jr&&11>=jr),jc=" ",Sc=!1;function Bd(e,t){switch(e){case"keyup":return _m.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Nm(e,t){switch(e){case"compositionend":return Wd(t);case"keypress":return t.which!==32?null:(Sc=!0,jc);case"textInput":return e=t.data,e===jc&&Sc?null:e;default:return null}}function Cm(e,t){if(Cn)return e==="compositionend"||!la&&Bd(e,t)?(e=Ud(),Ms=ra=zt=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $d&&t.locale!=="ko"?null:t.data;default:return null}}var Em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Em[e.type]:t==="textarea"}function Vd(e,t,n,r){bd(r),t=Ys(t,"onChange"),0<t.length&&(n=new sa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sr=null,zr=null;function Pm(e){tf(e,0)}function Si(e){var t=On(e);if(pd(t))return e}function Om(e,t){if(e==="change")return t}var Hd=!1;if(St){var Xi;if(St){var Zi="oninput"in document;if(!Zi){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Zi=typeof kc.oninput=="function"}Xi=Zi}else Xi=!1;Hd=Xi&&(!document.documentMode||9<document.documentMode)}function Nc(){Sr&&(Sr.detachEvent("onpropertychange",Qd),zr=Sr=null)}function Qd(e){if(e.propertyName==="value"&&Si(zr)){var t=[];Vd(t,zr,e,Xo(e)),kd(Pm,t)}}function Tm(e,t,n){e==="focusin"?(Nc(),Sr=t,zr=n,Sr.attachEvent("onpropertychange",Qd)):e==="focusout"&&Nc()}function Mm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(zr)}function Im(e,t){if(e==="click")return Si(t)}function Lm(e,t){if(e==="input"||e==="change")return Si(t)}function Rm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Rm;function Fr(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Nl.call(t,s)||!st(e[s],t[s]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ec(e,t){var n=Cc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cc(n)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kd(){for(var e=window,t=Vs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vs(e.document)}return t}function oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Am(e){var t=Kd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&qd(n.ownerDocument.documentElement,n)){if(r!==null&&oa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ec(n,i);var l=Ec(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zm=St&&"documentMode"in document&&11>=document.documentMode,En=null,Hl=null,_r=null,Ql=!1;function Pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||En==null||En!==Vs(r)||(r=En,"selectionStart"in r&&oa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&Fr(_r,r)||(_r=r,r=Ys(Hl,"onSelect"),0<r.length&&(t=new sa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}function ms(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionend:ms("Transition","TransitionEnd")},el={},Gd={};St&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function _i(e){if(el[e])return el[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gd)return el[e]=t[n];return e}var Jd=_i("animationend"),Yd=_i("animationiteration"),Xd=_i("animationstart"),Zd=_i("transitionend"),ef=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){ef.set(e,t),vn(t,[e])}for(var tl=0;tl<Oc.length;tl++){var nl=Oc[tl],Fm=nl.toLowerCase(),Dm=nl[0].toUpperCase()+nl.slice(1);Yt(Fm,"on"+Dm)}Yt(Jd,"onAnimationEnd");Yt(Yd,"onAnimationIteration");Yt(Xd,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(Zd,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Um=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function Tc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fp(r,t,void 0,e),e.currentTarget=null}function tf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Tc(s,a,u),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Tc(s,a,u),i=c}}}if(Qs)throw e=$l,Qs=!1,$l=null,e}function $(e,t){var n=t[Yl];n===void 0&&(n=t[Yl]=new Set);var r=e+"__bubble";n.has(r)||(nf(t,e,2,!1),n.add(r))}function rl(e,t,n){var r=0;t&&(r|=4),nf(n,e,r,t)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[gs]){e[gs]=!0,cd.forEach(function(n){n!=="selectionchange"&&(Um.has(n)||rl(n,!1,e),rl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gs]||(t[gs]=!0,rl("selectionchange",!1,t))}}function nf(e,t,n,r){switch(Dd(t)){case 1:var s=em;break;case 4:s=tm;break;default:s=na}n=s.bind(null,t,n,e),s=void 0,!Ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=sn(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}kd(function(){var u=i,d=Xo(n),f=[];e:{var m=ef.get(e);if(m!==void 0){var v=sa,x=e;switch(e){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":v=gm;break;case"focusin":x="focus",v=Yi;break;case"focusout":x="blur",v=Yi;break;case"beforeblur":case"afterblur":v=Yi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=xm;break;case Jd:case Yd:case Xd:v=om;break;case Zd:v=bm;break;case"scroll":v=nm;break;case"wheel":v=Sm;break;case"copy":case"cut":case"paste":v=cm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=bc}var y=(t&4)!==0,S=!y&&e==="scroll",g=y?m!==null?m+"Capture":null:m;y=[];for(var p=u,h;p!==null;){h=p;var w=h.stateNode;if(h.tag===5&&w!==null&&(h=w,g!==null&&(w=Ir(p,g),w!=null&&y.push(Ur(p,w,h)))),S)break;p=p.return}0<y.length&&(m=new v(m,x,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Fl&&(x=n.relatedTarget||n.fromElement)&&(sn(x)||x[_t]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?sn(x):null,x!==null&&(S=xn(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(y=xc,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=bc,w="onPointerLeave",g="onPointerEnter",p="pointer"),S=v==null?m:On(v),h=x==null?m:On(x),m=new y(w,p+"leave",v,n,d),m.target=S,m.relatedTarget=h,w=null,sn(d)===u&&(y=new y(g,p+"enter",x,n,d),y.target=h,y.relatedTarget=S,w=y),S=w,v&&x)t:{for(y=v,g=x,p=0,h=y;h;h=Sn(h))p++;for(h=0,w=g;w;w=Sn(w))h++;for(;0<p-h;)y=Sn(y),p--;for(;0<h-p;)g=Sn(g),h--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=Sn(y),g=Sn(g)}y=null}else y=null;v!==null&&Mc(f,m,v,y,!1),x!==null&&S!==null&&Mc(f,S,x,y,!0)}}e:{if(m=u?On(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=Om;else if(_c(m))if(Hd)j=Lm;else{j=Mm;var b=Tm}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Im);if(j&&(j=j(e,u))){Vd(f,j,n,d);break e}b&&b(e,m,u),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Il(m,"number",m.value)}switch(b=u?On(u):window,e){case"focusin":(_c(b)||b.contentEditable==="true")&&(En=b,Hl=u,_r=null);break;case"focusout":_r=Hl=En=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,Pc(f,n,d);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":Pc(f,n,d)}var k;if(la)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Cn?Bd(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&($d&&n.locale!=="ko"&&(Cn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Cn&&(k=Ud()):(zt=d,ra="value"in zt?zt.value:zt.textContent,Cn=!0)),b=Ys(u,N),0<b.length&&(N=new wc(N,e,null,n,d),f.push({event:N,listeners:b}),k?N.data=k:(k=Wd(n),k!==null&&(N.data=k)))),(k=km?Nm(e,n):Cm(e,n))&&(u=Ys(u,"onBeforeInput"),0<u.length&&(d=new wc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}tf(f,t)})}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ys(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ir(e,n),i!=null&&r.unshift(Ur(e,i,s)),i=Ir(e,t),i!=null&&r.push(Ur(e,i,s))),e=e.return}return r}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mc(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ir(n,i),c!=null&&l.unshift(Ur(n,c,a))):s||(c=Ir(n,i),c!=null&&l.push(Ur(n,c,a)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var $m=/\r\n?/g,Bm=/\u0000|\uFFFD/g;function Ic(e){return(typeof e=="string"?e:""+e).replace($m,`
`).replace(Bm,"")}function ys(e,t,n){if(t=Ic(t),Ic(e)!==t&&n)throw Error(C(425))}function Xs(){}var ql=null,Kl=null;function Gl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,Wm=typeof clearTimeout=="function"?clearTimeout:void 0,Lc=typeof Promise=="function"?Promise:void 0,Vm=typeof queueMicrotask=="function"?queueMicrotask:typeof Lc<"u"?function(e){return Lc.resolve(null).then(e).catch(Hm)}:Jl;function Hm(e){setTimeout(function(){throw e})}function il(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ar(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ar(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rr=Math.random().toString(36).slice(2),ct="__reactFiber$"+rr,$r="__reactProps$"+rr,_t="__reactContainer$"+rr,Yl="__reactEvents$"+rr,Qm="__reactListeners$"+rr,qm="__reactHandles$"+rr;function sn(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_t]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rc(e);e!==null;){if(n=e[ct])return n;e=Rc(e)}return t}e=n,n=e.parentNode}return null}function es(e){return e=e[ct]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function On(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function ki(e){return e[$r]||null}var Xl=[],Tn=-1;function Xt(e){return{current:e}}function B(e){0>Tn||(e.current=Xl[Tn],Xl[Tn]=null,Tn--)}function U(e,t){Tn++,Xl[Tn]=e.current,e.current=t}var Gt={},me=Xt(Gt),Ne=Xt(!1),hn=Gt;function Vn(e,t){var n=e.type.contextTypes;if(!n)return Gt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(e){return e=e.childContextTypes,e!=null}function Zs(){B(Ne),B(me)}function Ac(e,t,n){if(me.current!==Gt)throw Error(C(168));U(me,t),U(Ne,n)}function rf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,Tp(e)||"Unknown",s));return q({},n,r)}function ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,hn=me.current,U(me,e),U(Ne,Ne.current),!0}function zc(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=rf(e,t,hn),r.__reactInternalMemoizedMergedChildContext=e,B(Ne),B(me),U(me,e)):B(Ne),U(Ne,n)}var vt=null,Ni=!1,ll=!1;function sf(e){vt===null?vt=[e]:vt.push(e)}function Km(e){Ni=!0,sf(e)}function Zt(){if(!ll&&vt!==null){ll=!0;var e=0,t=D;try{var n=vt;for(D=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}vt=null,Ni=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),Pd(Zo,Zt),s}finally{D=t,ll=!1}}return null}var Mn=[],In=0,ti=null,ni=0,Ve=[],He=0,pn=null,xt=1,wt="";function tn(e,t){Mn[In++]=ni,Mn[In++]=ti,ti=e,ni=t}function lf(e,t,n){Ve[He++]=xt,Ve[He++]=wt,Ve[He++]=pn,pn=e;var r=xt;e=wt;var s=32-nt(r)-1;r&=~(1<<s),n+=1;var i=32-nt(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,xt=1<<32-nt(t)+s|n<<s|r,wt=i+e}else xt=1<<i|n<<s|r,wt=e}function aa(e){e.return!==null&&(tn(e,1),lf(e,1,0))}function ca(e){for(;e===ti;)ti=Mn[--In],Mn[In]=null,ni=Mn[--In],Mn[In]=null;for(;e===pn;)pn=Ve[--He],Ve[He]=null,wt=Ve[--He],Ve[He]=null,xt=Ve[--He],Ve[He]=null}var Ae=null,Ie=null,W=!1,tt=null;function of(e,t){var n=Qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Fc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ae=e,Ie=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ae=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:xt,overflow:wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ae=e,Ie=null,!0):!1;default:return!1}}function Zl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eo(e){if(W){var t=Ie;if(t){var n=t;if(!Fc(e,t)){if(Zl(e))throw Error(C(418));t=Wt(n.nextSibling);var r=Ae;t&&Fc(e,t)?of(r,n):(e.flags=e.flags&-4097|2,W=!1,Ae=e)}}else{if(Zl(e))throw Error(C(418));e.flags=e.flags&-4097|2,W=!1,Ae=e}}}function Dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ae=e}function vs(e){if(e!==Ae)return!1;if(!W)return Dc(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gl(e.type,e.memoizedProps)),t&&(t=Ie)){if(Zl(e))throw af(),Error(C(418));for(;t;)of(e,t),t=Wt(t.nextSibling)}if(Dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Ae?Wt(e.stateNode.nextSibling):null;return!0}function af(){for(var e=Ie;e;)e=Wt(e.nextSibling)}function Hn(){Ie=Ae=null,W=!1}function ua(e){tt===null?tt=[e]:tt.push(e)}var Gm=Et.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var a=s.refs;l===null?delete a[i]:a[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uc(e){var t=e._init;return t(e._payload)}function cf(e){function t(g,p){if(e){var h=g.deletions;h===null?(g.deletions=[p],g.flags|=16):h.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=qt(g,p),g.index=0,g.sibling=null,g}function i(g,p,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<p?(g.flags|=2,p):h):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,h,w){return p===null||p.tag!==6?(p=hl(h,g.mode,w),p.return=g,p):(p=s(p,h),p.return=g,p)}function c(g,p,h,w){var j=h.type;return j===Nn?d(g,p,h.props.children,w,h.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===It&&Uc(j)===p.type)?(w=s(p,h.props),w.ref=dr(g,p,h),w.return=g,w):(w=Us(h.type,h.key,h.props,null,g.mode,w),w.ref=dr(g,p,h),w.return=g,w)}function u(g,p,h,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=pl(h,g.mode,w),p.return=g,p):(p=s(p,h.children||[]),p.return=g,p)}function d(g,p,h,w,j){return p===null||p.tag!==7?(p=un(h,g.mode,w,j),p.return=g,p):(p=s(p,h),p.return=g,p)}function f(g,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=hl(""+p,g.mode,h),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case as:return h=Us(p.type,p.key,p.props,null,g.mode,h),h.ref=dr(g,null,p),h.return=g,h;case kn:return p=pl(p,g.mode,h),p.return=g,p;case It:var w=p._init;return f(g,w(p._payload),h)}if(mr(p)||lr(p))return p=un(p,g.mode,h,null),p.return=g,p;xs(g,p)}return null}function m(g,p,h,w){var j=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return j!==null?null:a(g,p,""+h,w);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case as:return h.key===j?c(g,p,h,w):null;case kn:return h.key===j?u(g,p,h,w):null;case It:return j=h._init,m(g,p,j(h._payload),w)}if(mr(h)||lr(h))return j!==null?null:d(g,p,h,w,null);xs(g,h)}return null}function v(g,p,h,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(h)||null,a(p,g,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case as:return g=g.get(w.key===null?h:w.key)||null,c(p,g,w,j);case kn:return g=g.get(w.key===null?h:w.key)||null,u(p,g,w,j);case It:var b=w._init;return v(g,p,h,b(w._payload),j)}if(mr(w)||lr(w))return g=g.get(h)||null,d(p,g,w,j,null);xs(p,w)}return null}function x(g,p,h,w){for(var j=null,b=null,k=p,N=p=0,M=null;k!==null&&N<h.length;N++){k.index>N?(M=k,k=null):M=k.sibling;var O=m(g,k,h[N],w);if(O===null){k===null&&(k=M);break}e&&k&&O.alternate===null&&t(g,k),p=i(O,p,N),b===null?j=O:b.sibling=O,b=O,k=M}if(N===h.length)return n(g,k),W&&tn(g,N),j;if(k===null){for(;N<h.length;N++)k=f(g,h[N],w),k!==null&&(p=i(k,p,N),b===null?j=k:b.sibling=k,b=k);return W&&tn(g,N),j}for(k=r(g,k);N<h.length;N++)M=v(k,g,N,h[N],w),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?N:M.key),p=i(M,p,N),b===null?j=M:b.sibling=M,b=M);return e&&k.forEach(function(ee){return t(g,ee)}),W&&tn(g,N),j}function y(g,p,h,w){var j=lr(h);if(typeof j!="function")throw Error(C(150));if(h=j.call(h),h==null)throw Error(C(151));for(var b=j=null,k=p,N=p=0,M=null,O=h.next();k!==null&&!O.done;N++,O=h.next()){k.index>N?(M=k,k=null):M=k.sibling;var ee=m(g,k,O.value,w);if(ee===null){k===null&&(k=M);break}e&&k&&ee.alternate===null&&t(g,k),p=i(ee,p,N),b===null?j=ee:b.sibling=ee,b=ee,k=M}if(O.done)return n(g,k),W&&tn(g,N),j;if(k===null){for(;!O.done;N++,O=h.next())O=f(g,O.value,w),O!==null&&(p=i(O,p,N),b===null?j=O:b.sibling=O,b=O);return W&&tn(g,N),j}for(k=r(g,k);!O.done;N++,O=h.next())O=v(k,g,N,O.value,w),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?N:O.key),p=i(O,p,N),b===null?j=O:b.sibling=O,b=O);return e&&k.forEach(function(Ot){return t(g,Ot)}),W&&tn(g,N),j}function S(g,p,h,w){if(typeof h=="object"&&h!==null&&h.type===Nn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case as:e:{for(var j=h.key,b=p;b!==null;){if(b.key===j){if(j=h.type,j===Nn){if(b.tag===7){n(g,b.sibling),p=s(b,h.props.children),p.return=g,g=p;break e}}else if(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===It&&Uc(j)===b.type){n(g,b.sibling),p=s(b,h.props),p.ref=dr(g,b,h),p.return=g,g=p;break e}n(g,b);break}else t(g,b);b=b.sibling}h.type===Nn?(p=un(h.props.children,g.mode,w,h.key),p.return=g,g=p):(w=Us(h.type,h.key,h.props,null,g.mode,w),w.ref=dr(g,p,h),w.return=g,g=w)}return l(g);case kn:e:{for(b=h.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(g,p.sibling),p=s(p,h.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=pl(h,g.mode,w),p.return=g,g=p}return l(g);case It:return b=h._init,S(g,p,b(h._payload),w)}if(mr(h))return x(g,p,h,w);if(lr(h))return y(g,p,h,w);xs(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,h),p.return=g,g=p):(n(g,p),p=hl(h,g.mode,w),p.return=g,g=p),l(g)):n(g,p)}return S}var Qn=cf(!0),uf=cf(!1),ri=Xt(null),si=null,Ln=null,da=null;function fa(){da=Ln=si=null}function ha(e){var t=ri.current;B(ri),e._currentValue=t}function to(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $n(e,t){si=e,da=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(da!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(si===null)throw Error(C(308));Ln=e,si.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var ln=null;function pa(e){ln===null?ln=[e]:ln.push(e)}function df(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,pa(t)):(n.next=s.next,s.next=n),t.interleaved=n,kt(e,r)}function kt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Lt=!1;function ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ff(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,kt(e,n)}return s=r.interleaved,s===null?(t.next=t,pa(r)):(t.next=s.next,s.next=t),r.interleaved=t,kt(e,n)}function Ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ea(e,n)}}function $c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ii(e,t,n,r){var s=e.updateQueue;Lt=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==l&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,d=u=c=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(m=t,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(v,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(v,f,m):x,m==null)break e;f=q({},f,m);break e;case 2:Lt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,l|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);gn|=l,e.lanes=l,e.memoizedState=f}}function Bc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var ts={},dt=Xt(ts),Br=Xt(ts),Wr=Xt(ts);function on(e){if(e===ts)throw Error(C(174));return e}function ga(e,t){switch(U(Wr,t),U(Br,e),U(dt,ts),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}B(dt),U(dt,t)}function qn(){B(dt),B(Br),B(Wr)}function hf(e){on(Wr.current);var t=on(dt.current),n=Rl(t,e.type);t!==n&&(U(Br,e),U(dt,n))}function ya(e){Br.current===e&&(B(dt),B(Br))}var H=Xt(0);function li(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ol=[];function va(){for(var e=0;e<ol.length;e++)ol[e]._workInProgressVersionPrimary=null;ol.length=0}var Rs=Et.ReactCurrentDispatcher,al=Et.ReactCurrentBatchConfig,mn=0,Q=null,te=null,ie=null,oi=!1,kr=!1,Vr=0,Jm=0;function de(){throw Error(C(321))}function xa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function wa(e,t,n,r,s,i){if(mn=i,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rs.current=e===null||e.memoizedState===null?eg:tg,e=n(r,s),kr){i=0;do{if(kr=!1,Vr=0,25<=i)throw Error(C(301));i+=1,ie=te=null,t.updateQueue=null,Rs.current=ng,e=n(r,s)}while(kr)}if(Rs.current=ai,t=te!==null&&te.next!==null,mn=0,ie=te=Q=null,oi=!1,t)throw Error(C(300));return e}function ba(){var e=Vr!==0;return Vr=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?Q.memoizedState=ie=e:ie=ie.next=e,ie}function Ge(){if(te===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=ie===null?Q.memoizedState:ie.next;if(t!==null)ie=t,te=e;else{if(e===null)throw Error(C(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ie===null?Q.memoizedState=ie=e:ie=ie.next=e}return ie}function Hr(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Ge(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=l=null,c=null,u=i;do{var d=u.lane;if((mn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,l=r):c=c.next=f,Q.lanes|=d,gn|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=a,st(r,t.memoizedState)||(ke=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Q.lanes|=i,gn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ul(e){var t=Ge(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);st(i,t.memoizedState)||(ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pf(){}function mf(e,t){var n=Q,r=Ge(),s=t(),i=!st(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,ja(vf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Qr(9,yf.bind(null,n,r,s,t),void 0,null),le===null)throw Error(C(349));mn&30||gf(n,t,s)}return s}function gf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yf(e,t,n,r){t.value=n,t.getSnapshot=r,xf(t)&&wf(e)}function vf(e,t,n){return n(function(){xf(t)&&wf(e)})}function xf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!st(e,n)}catch{return!0}}function wf(e){var t=kt(e,1);t!==null&&rt(t,e,1,-1)}function Wc(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t.queue=e,e=e.dispatch=Zm.bind(null,Q,e),[t.memoizedState,e]}function Qr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bf(){return Ge().memoizedState}function As(e,t,n,r){var s=at();Q.flags|=e,s.memoizedState=Qr(1|t,n,void 0,r===void 0?null:r)}function Ci(e,t,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(te!==null){var l=te.memoizedState;if(i=l.destroy,r!==null&&xa(r,l.deps)){s.memoizedState=Qr(t,n,i,r);return}}Q.flags|=e,s.memoizedState=Qr(1|t,n,i,r)}function Vc(e,t){return As(8390656,8,e,t)}function ja(e,t){return Ci(2048,8,e,t)}function jf(e,t){return Ci(4,2,e,t)}function Sf(e,t){return Ci(4,4,e,t)}function _f(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kf(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4,4,_f.bind(null,t,e),n)}function Sa(){}function Nf(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cf(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ef(e,t,n){return mn&21?(st(n,t)||(n=Md(),Q.lanes|=n,gn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=n)}function Ym(e,t){var n=D;D=n!==0&&4>n?n:4,e(!0);var r=al.transition;al.transition={};try{e(!1),t()}finally{D=n,al.transition=r}}function Pf(){return Ge().memoizedState}function Xm(e,t,n){var r=Qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Of(e))Tf(t,n);else if(n=df(e,t,n,r),n!==null){var s=xe();rt(n,e,r,s),Mf(n,t,r)}}function Zm(e,t,n){var r=Qt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Of(e))Tf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,a=i(l,n);if(s.hasEagerState=!0,s.eagerState=a,st(a,l)){var c=t.interleaved;c===null?(s.next=s,pa(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=df(e,t,s,r),n!==null&&(s=xe(),rt(n,e,r,s),Mf(n,t,r))}}function Of(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Tf(e,t){kr=oi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ea(e,n)}}var ai={readContext:Ke,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},eg={readContext:Ke,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Vc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,As(4194308,4,_f.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Xm.bind(null,Q,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Wc,useDebugValue:Sa,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Wc(!1),t=e[0];return e=Ym.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Q,s=at();if(W){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),le===null)throw Error(C(349));mn&30||gf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Vc(vf.bind(null,r,i,e),[e]),r.flags|=2048,Qr(9,yf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=at(),t=le.identifierPrefix;if(W){var n=wt,r=xt;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tg={readContext:Ke,useCallback:Nf,useContext:Ke,useEffect:ja,useImperativeHandle:kf,useInsertionEffect:jf,useLayoutEffect:Sf,useMemo:Cf,useReducer:cl,useRef:bf,useState:function(){return cl(Hr)},useDebugValue:Sa,useDeferredValue:function(e){var t=Ge();return Ef(t,te.memoizedState,e)},useTransition:function(){var e=cl(Hr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:pf,useSyncExternalStore:mf,useId:Pf,unstable_isNewReconciler:!1},ng={readContext:Ke,useCallback:Nf,useContext:Ke,useEffect:ja,useImperativeHandle:kf,useInsertionEffect:jf,useLayoutEffect:Sf,useMemo:Cf,useReducer:ul,useRef:bf,useState:function(){return ul(Hr)},useDebugValue:Sa,useDeferredValue:function(e){var t=Ge();return te===null?t.memoizedState=e:Ef(t,te.memoizedState,e)},useTransition:function(){var e=ul(Hr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:pf,useSyncExternalStore:mf,useId:Pf,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ei={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Qt(e),i=bt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(rt(t,e,s,r),Ls(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Qt(e),i=bt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Vt(e,i,s),t!==null&&(rt(t,e,s,r),Ls(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xe(),r=Qt(e),s=bt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(rt(t,e,r,n),Ls(t,e,r))}};function Hc(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Fr(n,r)||!Fr(s,i):!0}function If(e,t,n){var r=!1,s=Gt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ce(t)?hn:me.current,r=t.contextTypes,i=(r=r!=null)?Vn(e,s):Gt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function ro(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ma(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ce(t)?hn:me.current,s.context=Vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(no(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ei.enqueueReplaceState(s,s.state,null),ii(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=Op(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function dl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function so(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rg=typeof WeakMap=="function"?WeakMap:Map;function Lf(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ui||(ui=!0,mo=r),so(e,t)},n}function Rf(e,t,n){n=bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){so(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){so(e,t),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function qc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=yg.bind(null,e,t,n),t.then(e,e))}function Kc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var sg=Et.ReactCurrentOwner,ke=!1;function ge(e,t,n,r){t.child=e===null?uf(t,null,n,r):Qn(t,e.child,n,r)}function Jc(e,t,n,r,s){n=n.render;var i=t.ref;return $n(t,s),r=wa(e,t,n,r,i,s),n=ba(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(W&&n&&aa(t),t.flags|=1,ge(e,t,r,s),t.child)}function Yc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Ta(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Af(e,t,i,r,s)):(e=Us(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fr,n(l,r)&&e.ref===t.ref)return Nt(e,t,s)}return t.flags|=1,e=qt(i,r),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Fr(i,r)&&e.ref===t.ref)if(ke=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,Nt(e,t,s)}return io(e,t,n,r,s)}function zf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},U(An,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,U(An,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,U(An,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,U(An,Oe),Oe|=r;return ge(e,t,s,n),t.child}function Ff(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function io(e,t,n,r,s){var i=Ce(n)?hn:me.current;return i=Vn(t,i),$n(t,s),n=wa(e,t,n,r,i,s),r=ba(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Nt(e,t,s)):(W&&r&&aa(t),t.flags|=1,ge(e,t,n,s),t.child)}function Xc(e,t,n,r,s){if(Ce(n)){var i=!0;ei(t)}else i=!1;if($n(t,s),t.stateNode===null)zs(e,t),If(t,n,r),ro(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,a=t.memoizedProps;l.props=a;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ce(n)?hn:me.current,u=Vn(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Qc(t,l,r,u),Lt=!1;var m=t.memoizedState;l.state=m,ii(t,r,l,s),c=t.memoizedState,a!==r||m!==c||Ne.current||Lt?(typeof d=="function"&&(no(t,n,d,r),c=t.memoizedState),(a=Lt||Hc(t,n,a,r,m,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=a):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,ff(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Xe(t.type,a),l.props=u,f=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ke(c):(c=Ce(n)?hn:me.current,c=Vn(t,c));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==f||m!==c)&&Qc(t,l,r,c),Lt=!1,m=t.memoizedState,l.state=m,ii(t,r,l,s);var x=t.memoizedState;a!==f||m!==x||Ne.current||Lt?(typeof v=="function"&&(no(t,n,v,r),x=t.memoizedState),(u=Lt||Hc(t,n,u,r,m,x,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return lo(e,t,n,r,i,s)}function lo(e,t,n,r,s,i){Ff(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&zc(t,n,!1),Nt(e,t,i);r=t.stateNode,sg.current=t;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Qn(t,e.child,null,i),t.child=Qn(t,null,a,i)):ge(e,t,a,i),t.memoizedState=r.state,s&&zc(t,n,!0),t.child}function Df(e){var t=e.stateNode;t.pendingContext?Ac(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ac(e,t.context,!1),ga(e,t.containerInfo)}function Zc(e,t,n,r,s){return Hn(),ua(s),t.flags|=256,ge(e,t,n,r),t.child}var oo={dehydrated:null,treeContext:null,retryLane:0};function ao(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uf(e,t,n){var r=t.pendingProps,s=H.current,i=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),U(H,s&1),e===null)return eo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ti(l,r,0,null),e=un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ao(n),t.memoizedState=oo,e):_a(t,l));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ig(e,t,l,r,a,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=qt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qt(a,i):(i=un(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?ao(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=oo,r}return i=e.child,e=i.sibling,r=qt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function _a(e,t){return t=Ti({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ws(e,t,n,r){return r!==null&&ua(r),Qn(t,e.child,null,n),e=_a(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ig(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=dl(Error(C(422))),ws(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ti({mode:"visible",children:r.children},s,0,null),i=un(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Qn(t,e.child,null,l),t.child.memoizedState=ao(l),t.memoizedState=oo,i);if(!(t.mode&1))return ws(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=dl(i,r,void 0),ws(e,t,l,r)}if(a=(l&e.childLanes)!==0,ke||a){if(r=le,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(e,s),rt(r,e,s,-1))}return Oa(),r=dl(Error(C(421))),ws(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Wt(s.nextSibling),Ae=t,W=!0,tt=null,e!==null&&(Ve[He++]=xt,Ve[He++]=wt,Ve[He++]=pn,xt=e.id,wt=e.overflow,pn=t),t=_a(t,r.children),t.flags|=4096,t)}function eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),to(e.return,t,n)}function fl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $f(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ge(e,t,r.children,n),r=H.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eu(e,n,t);else if(e.tag===19)eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(U(H,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&li(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&li(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fl(t,!0,n,null,i);break;case"together":fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Nt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lg(e,t,n){switch(t.tag){case 3:Df(t),Hn();break;case 5:hf(t);break;case 1:Ce(t.type)&&ei(t);break;case 4:ga(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;U(ri,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(U(H,H.current&1),t.flags|=128,null):n&t.child.childLanes?Uf(e,t,n):(U(H,H.current&1),e=Nt(e,t,n),e!==null?e.sibling:null);U(H,H.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $f(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(H,H.current),r)break;return null;case 22:case 23:return t.lanes=0,zf(e,t,n)}return Nt(e,t,n)}var Bf,co,Wf,Vf;Bf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};co=function(){};Wf=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,on(dt.current);var i=null;switch(n){case"input":s=Tl(e,s),r=Tl(e,r),i=[];break;case"select":s=q({},s,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":s=Ll(e,s),r=Ll(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xs)}Al(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Vf=function(e,t,n,r){n!==r&&(t.flags|=4)};function fr(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function og(e,t,n){var r=t.pendingProps;switch(ca(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ce(t.type)&&Zs(),fe(t),null;case 3:return r=t.stateNode,qn(),B(Ne),B(me),va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(vo(tt),tt=null))),co(e,t),fe(t),null;case 5:ya(t);var s=on(Wr.current);if(n=t.type,e!==null&&t.stateNode!=null)Wf(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return fe(t),null}if(e=on(dt.current),vs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ct]=t,r[$r]=i,e=(t.mode&1)!==0,n){case"dialog":$("cancel",r),$("close",r);break;case"iframe":case"object":case"embed":$("load",r);break;case"video":case"audio":for(s=0;s<yr.length;s++)$(yr[s],r);break;case"source":$("error",r);break;case"img":case"image":case"link":$("error",r),$("load",r);break;case"details":$("toggle",r);break;case"input":cc(r,i),$("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},$("invalid",r);break;case"textarea":dc(r,i),$("invalid",r)}Al(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,a,e),s=["children",""+a]):Tr.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&$("scroll",r)}switch(n){case"input":cs(r),uc(r,i,!0);break;case"textarea":cs(r),fc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Xs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ct]=t,e[$r]=r,Bf(e,t,!1,!1),t.stateNode=e;e:{switch(l=zl(n,r),n){case"dialog":$("cancel",e),$("close",e),s=r;break;case"iframe":case"object":case"embed":$("load",e),s=r;break;case"video":case"audio":for(s=0;s<yr.length;s++)$(yr[s],e);s=r;break;case"source":$("error",e),s=r;break;case"img":case"image":case"link":$("error",e),$("load",e),s=r;break;case"details":$("toggle",e),s=r;break;case"input":cc(e,r),s=Tl(e,r),$("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=q({},r,{value:void 0}),$("invalid",e);break;case"textarea":dc(e,r),s=Ll(e,r),$("invalid",e);break;default:s=r}Al(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?wd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Mr(e,c):typeof c=="number"&&Mr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Tr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&$("scroll",e):c!=null&&Ko(e,i,c,l))}switch(n){case"input":cs(e),uc(e,r,!1);break;case"textarea":cs(e),fc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Kt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?zn(e,!!r.multiple,i,!1):r.defaultValue!=null&&zn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)Vf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=on(Wr.current),on(dt.current),vs(t)){if(r=t.stateNode,n=t.memoizedProps,r[ct]=t,(i=r.nodeValue!==n)&&(e=Ae,e!==null))switch(e.tag){case 3:ys(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=t,t.stateNode=r}return fe(t),null;case 13:if(B(H),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&Ie!==null&&t.mode&1&&!(t.flags&128))af(),Hn(),t.flags|=98560,i=!1;else if(i=vs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[ct]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else tt!==null&&(vo(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||H.current&1?ne===0&&(ne=3):Oa())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return qn(),co(e,t),e===null&&Dr(t.stateNode.containerInfo),fe(t),null;case 10:return ha(t.type._context),fe(t),null;case 17:return Ce(t.type)&&Zs(),fe(t),null;case 19:if(B(H),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)fr(i,!1);else{if(ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=li(e),l!==null){for(t.flags|=128,fr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return U(H,H.current&1|2),t.child}e=e.sibling}i.tail!==null&&J()>Gn&&(t.flags|=128,r=!0,fr(i,!1),t.lanes=4194304)}else{if(!r)if(e=li(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!W)return fe(t),null}else 2*J()-i.renderingStartTime>Gn&&n!==1073741824&&(t.flags|=128,r=!0,fr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=J(),t.sibling=null,n=H.current,U(H,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return Pa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function ag(e,t){switch(ca(t),t.tag){case 1:return Ce(t.type)&&Zs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),B(Ne),B(me),va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ya(t),null;case 13:if(B(H),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(H),null;case 4:return qn(),null;case 10:return ha(t.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var bs=!1,pe=!1,cg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Rn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){K(e,t,r)}else n.current=null}function uo(e,t,n){try{n()}catch(r){K(e,t,r)}}var tu=!1;function ug(e,t){if(ql=Gs,e=Kd(),oa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(a=l+s),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===n&&++u===s&&(a=l),m===i&&++d===r&&(c=l),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kl={focusedElem:e,selectionRange:n},Gs=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,S=x.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Xe(t.type,y),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){K(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return x=tu,tu=!1,x}function Nr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&uo(t,n,i)}s=s.next}while(s!==r)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hf(e){var t=e.alternate;t!==null&&(e.alternate=null,Hf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[$r],delete t[Yl],delete t[Qm],delete t[qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qf(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ho(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xs));else if(r!==4&&(e=e.child,e!==null))for(ho(e,t,n),e=e.sibling;e!==null;)ho(e,t,n),e=e.sibling}function po(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(po(e,t,n),e=e.sibling;e!==null;)po(e,t,n),e=e.sibling}var ae=null,Ze=!1;function Mt(e,t,n){for(n=n.child;n!==null;)qf(e,t,n),n=n.sibling}function qf(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(bi,n)}catch{}switch(n.tag){case 5:pe||Rn(n,t);case 6:var r=ae,s=Ze;ae=null,Mt(e,t,n),ae=r,Ze=s,ae!==null&&(Ze?(e=ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(Ze?(e=ae,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),Ar(e)):il(ae,n.stateNode));break;case 4:r=ae,s=Ze,ae=n.stateNode.containerInfo,Ze=!0,Mt(e,t,n),ae=r,Ze=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&uo(n,t,l),s=s.next}while(s!==r)}Mt(e,t,n);break;case 1:if(!pe&&(Rn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){K(n,t,a)}Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,Mt(e,t,n),pe=r):Mt(e,t,n);break;default:Mt(e,t,n)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cg),t.forEach(function(r){var s=xg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,a=l;e:for(;a!==null;){switch(a.tag){case 5:ae=a.stateNode,Ze=!1;break e;case 3:ae=a.stateNode.containerInfo,Ze=!0;break e;case 4:ae=a.stateNode.containerInfo,Ze=!0;break e}a=a.return}if(ae===null)throw Error(C(160));qf(i,l,s),ae=null,Ze=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){K(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kf(t,e),t=t.sibling}function Kf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),ot(e),r&4){try{Nr(3,e,e.return),Pi(3,e)}catch(y){K(e,e.return,y)}try{Nr(5,e,e.return)}catch(y){K(e,e.return,y)}}break;case 1:Ye(t,e),ot(e),r&512&&n!==null&&Rn(n,n.return);break;case 5:if(Ye(t,e),ot(e),r&512&&n!==null&&Rn(n,n.return),e.flags&32){var s=e.stateNode;try{Mr(s,"")}catch(y){K(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&md(s,i),zl(a,l);var u=zl(a,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?wd(s,f):d==="dangerouslySetInnerHTML"?vd(s,f):d==="children"?Mr(s,f):Ko(s,d,f,u)}switch(a){case"input":Ml(s,i);break;case"textarea":gd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?zn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?zn(s,!!i.multiple,i.defaultValue,!0):zn(s,!!i.multiple,i.multiple?[]:"",!1))}s[$r]=i}catch(y){K(e,e.return,y)}}break;case 6:if(Ye(t,e),ot(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){K(e,e.return,y)}}break;case 3:if(Ye(t,e),ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(t.containerInfo)}catch(y){K(e,e.return,y)}break;case 4:Ye(t,e),ot(e);break;case 13:Ye(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ca=J())),r&4&&ru(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(u=pe)||d,Ye(t,e),pe=u):Ye(t,e),ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(f=P=d;P!==null;){switch(m=P,v=m.child,m.tag){case 0:case 11:case 14:case 15:Nr(4,m,m.return);break;case 1:Rn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){K(r,n,y)}}break;case 5:Rn(m,m.return);break;case 22:if(m.memoizedState!==null){iu(f);continue}}v!==null?(v.return=m,P=v):iu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=xd("display",l))}catch(y){K(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){K(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ye(t,e),ot(e),r&4&&ru(e);break;case 21:break;default:Ye(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qf(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Mr(s,""),r.flags&=-33);var i=nu(e);po(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=nu(e);ho(e,a,l);break;default:throw Error(C(161))}}catch(c){K(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dg(e,t,n){P=e,Gf(e)}function Gf(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||bs;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||pe;a=bs;var u=pe;if(bs=l,(pe=c)&&!u)for(P=s;P!==null;)l=P,c=l.child,l.tag===22&&l.memoizedState!==null?lu(s):c!==null?(c.return=l,P=c):lu(s);for(;i!==null;)P=i,Gf(i),i=i.sibling;P=s,bs=a,pe=u}su(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):su(e)}}function su(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||Pi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Xe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Bc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Bc(t,l,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ar(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}pe||t.flags&512&&fo(t)}catch(m){K(t,t.return,m)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function iu(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function lu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pi(4,t)}catch(c){K(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){K(t,s,c)}}var i=t.return;try{fo(t)}catch(c){K(t,i,c)}break;case 5:var l=t.return;try{fo(t)}catch(c){K(t,l,c)}}}catch(c){K(t,t.return,c)}if(t===e){P=null;break}var a=t.sibling;if(a!==null){a.return=t.return,P=a;break}P=t.return}}var fg=Math.ceil,ci=Et.ReactCurrentDispatcher,ka=Et.ReactCurrentOwner,qe=Et.ReactCurrentBatchConfig,z=0,le=null,X=null,ce=0,Oe=0,An=Xt(0),ne=0,qr=null,gn=0,Oi=0,Na=0,Cr=null,Se=null,Ca=0,Gn=1/0,yt=null,ui=!1,mo=null,Ht=null,js=!1,Ft=null,di=0,Er=0,go=null,Fs=-1,Ds=0;function xe(){return z&6?J():Fs!==-1?Fs:Fs=J()}function Qt(e){return e.mode&1?z&2&&ce!==0?ce&-ce:Gm.transition!==null?(Ds===0&&(Ds=Md()),Ds):(e=D,e!==0||(e=window.event,e=e===void 0?16:Dd(e.type)),e):1}function rt(e,t,n,r){if(50<Er)throw Er=0,go=null,Error(C(185));Xr(e,n,r),(!(z&2)||e!==le)&&(e===le&&(!(z&2)&&(Oi|=n),ne===4&&At(e,ce)),Ee(e,r),n===1&&z===0&&!(t.mode&1)&&(Gn=J()+500,Ni&&Zt()))}function Ee(e,t){var n=e.callbackNode;Gp(e,t);var r=Ks(e,e===le?ce:0);if(r===0)n!==null&&mc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&mc(n),t===1)e.tag===0?Km(ou.bind(null,e)):sf(ou.bind(null,e)),Vm(function(){!(z&6)&&Zt()}),n=null;else{switch(Id(r)){case 1:n=Zo;break;case 4:n=Od;break;case 16:n=qs;break;case 536870912:n=Td;break;default:n=qs}n=rh(n,Jf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Jf(e,t){if(Fs=-1,Ds=0,z&6)throw Error(C(327));var n=e.callbackNode;if(Bn()&&e.callbackNode!==n)return null;var r=Ks(e,e===le?ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fi(e,r);else{t=r;var s=z;z|=2;var i=Xf();(le!==e||ce!==t)&&(yt=null,Gn=J()+500,cn(e,t));do try{mg();break}catch(a){Yf(e,a)}while(!0);fa(),ci.current=i,z=s,X!==null?t=0:(le=null,ce=0,t=ne)}if(t!==0){if(t===2&&(s=Bl(e),s!==0&&(r=s,t=yo(e,s))),t===1)throw n=qr,cn(e,0),At(e,r),Ee(e,J()),n;if(t===6)At(e,r);else{if(s=e.current.alternate,!(r&30)&&!hg(s)&&(t=fi(e,r),t===2&&(i=Bl(e),i!==0&&(r=i,t=yo(e,i))),t===1))throw n=qr,cn(e,0),At(e,r),Ee(e,J()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:nn(e,Se,yt);break;case 3:if(At(e,r),(r&130023424)===r&&(t=Ca+500-J(),10<t)){if(Ks(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Jl(nn.bind(null,e,Se,yt),t);break}nn(e,Se,yt);break;case 4:if(At(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-nt(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fg(r/1960))-r,10<r){e.timeoutHandle=Jl(nn.bind(null,e,Se,yt),r);break}nn(e,Se,yt);break;case 5:nn(e,Se,yt);break;default:throw Error(C(329))}}}return Ee(e,J()),e.callbackNode===n?Jf.bind(null,e):null}function yo(e,t){var n=Cr;return e.current.memoizedState.isDehydrated&&(cn(e,t).flags|=256),e=fi(e,t),e!==2&&(t=Se,Se=n,t!==null&&vo(t)),e}function vo(e){Se===null?Se=e:Se.push.apply(Se,e)}function hg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~Na,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),r=1<<n;e[n]=-1,t&=~r}}function ou(e){if(z&6)throw Error(C(327));Bn();var t=Ks(e,0);if(!(t&1))return Ee(e,J()),null;var n=fi(e,t);if(e.tag!==0&&n===2){var r=Bl(e);r!==0&&(t=r,n=yo(e,r))}if(n===1)throw n=qr,cn(e,0),At(e,t),Ee(e,J()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,Se,yt),Ee(e,J()),null}function Ea(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&(Gn=J()+500,Ni&&Zt())}}function yn(e){Ft!==null&&Ft.tag===0&&!(z&6)&&Bn();var t=z;z|=1;var n=qe.transition,r=D;try{if(qe.transition=null,D=1,e)return e()}finally{D=r,qe.transition=n,z=t,!(z&6)&&Zt()}}function Pa(){Oe=An.current,B(An)}function cn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wm(n)),X!==null)for(n=X.return;n!==null;){var r=n;switch(ca(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zs();break;case 3:qn(),B(Ne),B(me),va();break;case 5:ya(r);break;case 4:qn();break;case 13:B(H);break;case 19:B(H);break;case 10:ha(r.type._context);break;case 22:case 23:Pa()}n=n.return}if(le=e,X=e=qt(e.current,null),ce=Oe=t,ne=0,qr=null,Na=Oi=gn=0,Se=Cr=null,ln!==null){for(t=0;t<ln.length;t++)if(n=ln[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}ln=null}return e}function Yf(e,t){do{var n=X;try{if(fa(),Rs.current=ai,oi){for(var r=Q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}oi=!1}if(mn=0,ie=te=Q=null,kr=!1,Vr=0,ka.current=null,n===null||n.return===null){ne=1,qr=t,X=null;break}e:{var i=e,l=n.return,a=n,c=t;if(t=ce,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Kc(l);if(v!==null){v.flags&=-257,Gc(v,l,a,i,t),v.mode&1&&qc(i,u,t),t=v,c=u;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){qc(i,u,t),Oa();break e}c=Error(C(426))}}else if(W&&a.mode&1){var S=Kc(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Gc(S,l,a,i,t),ua(Kn(c,a));break e}}i=c=Kn(c,a),ne!==4&&(ne=2),Cr===null?Cr=[i]:Cr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Lf(i,c,t);$c(i,g);break e;case 1:a=c;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ht===null||!Ht.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Rf(i,a,t);$c(i,w);break e}}i=i.return}while(i!==null)}eh(n)}catch(j){t=j,X===n&&n!==null&&(X=n=n.return);continue}break}while(!0)}function Xf(){var e=ci.current;return ci.current=ai,e===null?ai:e}function Oa(){(ne===0||ne===3||ne===2)&&(ne=4),le===null||!(gn&268435455)&&!(Oi&268435455)||At(le,ce)}function fi(e,t){var n=z;z|=2;var r=Xf();(le!==e||ce!==t)&&(yt=null,cn(e,t));do try{pg();break}catch(s){Yf(e,s)}while(!0);if(fa(),z=n,ci.current=r,X!==null)throw Error(C(261));return le=null,ce=0,ne}function pg(){for(;X!==null;)Zf(X)}function mg(){for(;X!==null&&!Up();)Zf(X)}function Zf(e){var t=nh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?eh(e):X=t,ka.current=null}function eh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ag(n,t),n!==null){n.flags&=32767,X=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ne=6,X=null;return}}else if(n=og(n,t,Oe),n!==null){X=n;return}if(t=t.sibling,t!==null){X=t;return}X=t=e}while(t!==null);ne===0&&(ne=5)}function nn(e,t,n){var r=D,s=qe.transition;try{qe.transition=null,D=1,gg(e,t,n,r)}finally{qe.transition=s,D=r}return null}function gg(e,t,n,r){do Bn();while(Ft!==null);if(z&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Jp(e,i),e===le&&(X=le=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||js||(js=!0,rh(qs,function(){return Bn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var l=D;D=1;var a=z;z|=4,ka.current=null,ug(e,n),Kf(n,e),Am(Kl),Gs=!!ql,Kl=ql=null,e.current=n,dg(n),$p(),z=a,D=l,qe.transition=i}else e.current=n;if(js&&(js=!1,Ft=e,di=s),i=e.pendingLanes,i===0&&(Ht=null),Vp(n.stateNode),Ee(e,J()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ui)throw ui=!1,e=mo,mo=null,e;return di&1&&e.tag!==0&&Bn(),i=e.pendingLanes,i&1?e===go?Er++:(Er=0,go=e):Er=0,Zt(),null}function Bn(){if(Ft!==null){var e=Id(di),t=qe.transition,n=D;try{if(qe.transition=null,D=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,di=0,z&6)throw Error(C(331));var s=z;for(z|=4,P=e.current;P!==null;){var i=P,l=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Nr(8,d,i)}var f=d.child;if(f!==null)f.return=d,P=f;else for(;P!==null;){d=P;var m=d.sibling,v=d.return;if(Hf(d),d===u){P=null;break}if(m!==null){m.return=v,P=m;break}P=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,P=l;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=e.current;for(P=p;P!==null;){l=P;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,P=h;else e:for(l=p;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pi(9,a)}}catch(j){K(a,a.return,j)}if(a===l){P=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,P=w;break e}P=a.return}}if(z=s,Zt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(bi,e)}catch{}r=!0}return r}finally{D=n,qe.transition=t}}return!1}function au(e,t,n){t=Kn(n,t),t=Lf(e,t,1),e=Vt(e,t,1),t=xe(),e!==null&&(Xr(e,1,t),Ee(e,t))}function K(e,t,n){if(e.tag===3)au(e,e,n);else for(;t!==null;){if(t.tag===3){au(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){e=Kn(n,e),e=Rf(t,e,1),t=Vt(t,e,1),e=xe(),t!==null&&(Xr(t,1,e),Ee(t,e));break}}t=t.return}}function yg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&n,le===e&&(ce&n)===n&&(ne===4||ne===3&&(ce&130023424)===ce&&500>J()-Ca?cn(e,0):Na|=n),Ee(e,t)}function th(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=xe();e=kt(e,t),e!==null&&(Xr(e,t,n),Ee(e,n))}function vg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),th(e,n)}function xg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),th(e,n)}var nh;nh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ke=!1,lg(e,t,n);ke=!!(e.flags&131072)}else ke=!1,W&&t.flags&1048576&&lf(t,ni,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var s=Vn(t,me.current);$n(t,n),s=wa(null,t,r,e,s,n);var i=ba();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(i=!0,ei(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ma(t),s.updater=Ei,t.stateNode=s,s._reactInternals=t,ro(t,r,e,n),t=lo(null,t,r,!0,i,n)):(t.tag=0,W&&i&&aa(t),ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bg(r),e=Xe(r,e),s){case 0:t=io(null,t,r,e,n);break e;case 1:t=Xc(null,t,r,e,n);break e;case 11:t=Jc(null,t,r,e,n);break e;case 14:t=Yc(null,t,r,Xe(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),io(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Xc(e,t,r,s,n);case 3:e:{if(Df(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ff(e,t),ii(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Kn(Error(C(423)),t),t=Zc(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(C(424)),t),t=Zc(e,t,r,n,s);break e}else for(Ie=Wt(t.stateNode.containerInfo.firstChild),Ae=t,W=!0,tt=null,n=uf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===s){t=Nt(e,t,n);break e}ge(e,t,r,n)}t=t.child}return t;case 5:return hf(t),e===null&&eo(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,Gl(r,s)?l=null:i!==null&&Gl(r,i)&&(t.flags|=32),Ff(e,t),ge(e,t,l,n),t.child;case 6:return e===null&&eo(t),null;case 13:return Uf(e,t,n);case 4:return ga(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Jc(e,t,r,s,n);case 7:return ge(e,t,t.pendingProps,n),t.child;case 8:return ge(e,t,t.pendingProps.children,n),t.child;case 12:return ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,U(ri,r._currentValue),r._currentValue=l,i!==null)if(st(i.value,l)){if(i.children===s.children&&!Ne.current){t=Nt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=bt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),to(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(C(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),to(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,$n(t,n),s=Ke(s),r=r(s),t.flags|=1,ge(e,t,r,n),t.child;case 14:return r=t.type,s=Xe(r,t.pendingProps),s=Xe(r.type,s),Yc(e,t,r,s,n);case 15:return Af(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),zs(e,t),t.tag=1,Ce(r)?(e=!0,ei(t)):e=!1,$n(t,n),If(t,r,s),ro(t,r,s,n),lo(null,t,r,!0,e,n);case 19:return $f(e,t,n);case 22:return zf(e,t,n)}throw Error(C(156,t.tag))};function rh(e,t){return Pd(e,t)}function wg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,n,r){return new wg(e,t,n,r)}function Ta(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bg(e){if(typeof e=="function")return Ta(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jo)return 11;if(e===Yo)return 14}return 2}function qt(e,t){var n=e.alternate;return n===null?(n=Qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Us(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Ta(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Nn:return un(n.children,s,i,t);case Go:l=8,s|=8;break;case Cl:return e=Qe(12,n,t,s|2),e.elementType=Cl,e.lanes=i,e;case El:return e=Qe(13,n,t,s),e.elementType=El,e.lanes=i,e;case Pl:return e=Qe(19,n,t,s),e.elementType=Pl,e.lanes=i,e;case fd:return Ti(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ud:l=10;break e;case dd:l=9;break e;case Jo:l=11;break e;case Yo:l=14;break e;case It:l=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Qe(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function un(e,t,n,r){return e=Qe(7,e,r,t),e.lanes=n,e}function Ti(e,t,n,r){return e=Qe(22,e,r,t),e.elementType=fd,e.lanes=n,e.stateNode={isHidden:!1},e}function hl(e,t,n){return e=Qe(6,e,null,t),e.lanes=n,e}function pl(e,t,n){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ki(0),this.expirationTimes=Ki(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ma(e,t,n,r,s,i,l,a,c){return e=new jg(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ma(i),e}function Sg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sh(e){if(!e)return Gt;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Ce(n))return rf(e,n,t)}return t}function ih(e,t,n,r,s,i,l,a,c){return e=Ma(n,r,!0,e,s,i,l,a,c),e.context=sh(null),n=e.current,r=xe(),s=Qt(n),i=bt(r,s),i.callback=t??null,Vt(n,i,s),e.current.lanes=s,Xr(e,s,r),Ee(e,r),e}function Mi(e,t,n,r){var s=t.current,i=xe(),l=Qt(s);return n=sh(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,l),e!==null&&(rt(e,s,l,i),Ls(e,s,l)),l}function hi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function cu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ia(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function _g(){return null}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function La(e){this._internalRoot=e}Ii.prototype.render=La.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Mi(e,t,null,null)};Ii.prototype.unmount=La.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){Mi(null,e,null,null)}),t[_t]=null}};function Ii(e){this._internalRoot=e}Ii.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&t!==0&&t<Rt[n].priority;n++);Rt.splice(n,0,e),n===0&&Fd(e)}};function Ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uu(){}function kg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=hi(l);i.call(u)}}var l=ih(t,r,e,0,null,!1,!1,"",uu);return e._reactRootContainer=l,e[_t]=l.current,Dr(e.nodeType===8?e.parentNode:e),yn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=hi(c);a.call(u)}}var c=Ma(e,0,!1,null,null,!1,!1,"",uu);return e._reactRootContainer=c,e[_t]=c.current,Dr(e.nodeType===8?e.parentNode:e),yn(function(){Mi(t,c,n,r)}),c}function Ri(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var c=hi(l);a.call(c)}}Mi(t,l,e,s)}else l=kg(n,t,e,s,r);return hi(l)}Ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=gr(t.pendingLanes);n!==0&&(ea(t,n|1),Ee(t,J()),!(z&6)&&(Gn=J()+500,Zt()))}break;case 13:yn(function(){var r=kt(e,1);if(r!==null){var s=xe();rt(r,e,1,s)}}),Ia(e,1)}};ta=function(e){if(e.tag===13){var t=kt(e,134217728);if(t!==null){var n=xe();rt(t,e,134217728,n)}Ia(e,134217728)}};Rd=function(e){if(e.tag===13){var t=Qt(e),n=kt(e,t);if(n!==null){var r=xe();rt(n,e,t,r)}Ia(e,t)}};Ad=function(){return D};zd=function(e,t){var n=D;try{return D=e,t()}finally{D=n}};Dl=function(e,t,n){switch(t){case"input":if(Ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ki(r);if(!s)throw Error(C(90));pd(r),Ml(r,s)}}}break;case"textarea":gd(e,n);break;case"select":t=n.value,t!=null&&zn(e,!!n.multiple,t,!1)}};Sd=Ea;_d=yn;var Ng={usingClientEntryPoint:!1,Events:[es,On,ki,bd,jd,Ea]},hr={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cg={bundleType:hr.bundleType,version:hr.version,rendererPackageName:hr.rendererPackageName,rendererConfig:hr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cd(e),e===null?null:e.stateNode},findFiberByHostInstance:hr.findFiberByHostInstance||_g,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ss=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ss.isDisabled&&Ss.supportsFiber)try{bi=Ss.inject(Cg),ut=Ss}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ng;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ra(t))throw Error(C(200));return Sg(e,t,null,n)};Ue.createRoot=function(e,t){if(!Ra(e))throw Error(C(299));var n=!1,r="",s=lh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ma(e,1,!1,null,null,n,!1,r,s),e[_t]=t.current,Dr(e.nodeType===8?e.parentNode:e),new La(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Cd(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return yn(e)};Ue.hydrate=function(e,t,n){if(!Li(t))throw Error(C(200));return Ri(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!Ra(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=lh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=ih(t,null,e,1,n??null,s,!1,i,l),e[_t]=t.current,Dr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ii(t)};Ue.render=function(e,t,n){if(!Li(t))throw Error(C(200));return Ri(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!Li(e))throw Error(C(40));return e._reactRootContainer?(yn(function(){Ri(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Ue.unstable_batchedUpdates=Ea;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Li(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Ri(e,t,n,!1,r)};Ue.version="18.3.1-next-f1338f8080-20240426";function oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oh)}catch(e){console.error(e)}}oh(),ld.exports=Ue;var ah=ld.exports,du=ah;kl.createRoot=du.createRoot,kl.hydrateRoot=du.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const fu="popstate";function Eg(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:l,hash:a}=r.location;return xo("",{pathname:i,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ch(s)}return Og(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Aa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pg(){return Math.random().toString(36).substr(2,8)}function hu(e,t){return{usr:e.state,key:e.key,idx:t}}function xo(e,t,n,r){return n===void 0&&(n=null),Kr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sr(t):t,{state:n,key:t&&t.key||r||Pg()})}function ch(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Og(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,a=Dt.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Kr({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){a=Dt.Pop;let S=d(),g=S==null?null:S-u;u=S,c&&c({action:a,location:y.location,delta:g})}function m(S,g){a=Dt.Push;let p=xo(y.location,S,g);u=d()+1;let h=hu(p,u),w=y.createHref(p);try{l.pushState(h,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(w)}i&&c&&c({action:a,location:y.location,delta:1})}function v(S,g){a=Dt.Replace;let p=xo(y.location,S,g);u=d();let h=hu(p,u),w=y.createHref(p);l.replaceState(h,"",w),i&&c&&c({action:a,location:y.location,delta:0})}function x(S){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof S=="string"?S:ch(S);return p=p.replace(/ $/,"%20"),re(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return a},get location(){return e(s,l)},listen(S){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fu,f),c=S,()=>{s.removeEventListener(fu,f),c=null}},createHref(S){return t(s,S)},createURL:x,encodeLocation(S){let g=x(S);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(S){return l.go(S)}};return y}var pu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pu||(pu={}));function Tg(e,t,n){return n===void 0&&(n="/"),Mg(e,t,n)}function Mg(e,t,n,r){let s=typeof t=="string"?sr(t):t,i=fh(s.pathname||"/",n);if(i==null)return null;let l=uh(e);Ig(l);let a=null;for(let c=0;a==null&&c<l.length;++c){let u=Hg(i);a=Bg(l[c],u)}return a}function uh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=dn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),uh(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ug(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,l);else for(let c of dh(i.path))s(i,l,c)}),t}function dh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=dh(r.join("/")),a=[];return a.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...l),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ig(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$g(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Lg=/^:[\w-]+$/,Rg=3,Ag=2,zg=1,Fg=10,Dg=-2,mu=e=>e==="*";function Ug(e,t){let n=e.split("/"),r=n.length;return n.some(mu)&&(r+=Dg),t&&(r+=Ag),n.filter(s=>!mu(s)).reduce((s,i)=>s+(Lg.test(i)?Rg:i===""?zg:Fg),r)}function $g(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Bg(e,t,n){let{routesMeta:r}=e,s={},i="/",l=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Wg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:dn([i,f.pathname]),pathnameBase:Xg(dn([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=dn([i,f.pathnameBase]))}return l}function Wg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Vg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let y=a[f]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[f];return v&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Vg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Aa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Hg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Aa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function fh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Qg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qg=e=>Qg.test(e);function Kg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?sr(e):e,i;if(n)if(qg(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Aa(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=gu(n.substring(1),"/"):i=gu(n,t)}else i=t;return{pathname:i,search:Zg(r),hash:ey(s)}}function gu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ml(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jg(e,t){let n=Gg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=sr(e):(s=Kr({},e),re(!s.pathname||!s.pathname.includes("?"),ml("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),ml("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),ml("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,a;if(l==null)a=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?t[f]:"/"}let c=Kg(s,a),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const dn=e=>e.join("/").replace(/\/\/+/g,"/"),Xg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ey=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ty(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const hh=["post","put","patch","delete"];new Set(hh);const ny=["get",...hh];new Set(ny);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gr.apply(this,arguments)}const za=_.createContext(null),ry=_.createContext(null),Ai=_.createContext(null),zi=_.createContext(null),wn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),ph=_.createContext(null);function Fi(){return _.useContext(zi)!=null}function Fa(){return Fi()||re(!1),_.useContext(zi).location}function mh(e){_.useContext(Ai).static||_.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=_.useContext(wn);return e?gy():sy()}function sy(){Fi()||re(!1);let e=_.useContext(za),{basename:t,future:n,navigator:r}=_.useContext(Ai),{matches:s}=_.useContext(wn),{pathname:i}=Fa(),l=JSON.stringify(Jg(s,n.v7_relativeSplatPath)),a=_.useRef(!1);return mh(()=>{a.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Yg(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:dn([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,l,i,e])}function gh(){let{matches:e}=_.useContext(wn),t=e[e.length-1];return t?t.params:{}}function iy(e,t){return ly(e,t)}function ly(e,t,n,r){Fi()||re(!1);let{navigator:s}=_.useContext(Ai),{matches:i}=_.useContext(wn),l=i[i.length-1],a=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Fa(),d;if(t){var f;let S=typeof t=="string"?sr(t):t;c==="/"||(f=S.pathname)!=null&&f.startsWith(c)||re(!1),d=S}else d=u;let m=d.pathname||"/",v=m;if(c!=="/"){let S=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(S.length).join("/")}let x=Tg(e,{pathname:v}),y=dy(x&&x.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:dn([c,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?c:dn([c,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,n,r);return t&&y?_.createElement(zi.Provider,{value:{location:Gr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dt.Pop}},y):y}function oy(){let e=my(),t=ty(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const ay=_.createElement(oy,null);class cy extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(wn.Provider,{value:this.props.routeContext},_.createElement(ph.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uy(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(za);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(wn.Provider,{value:t},r)}function dy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=l.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||re(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:v}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,m)=>{let v,x=!1,y=null,S=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||ay,c&&(u<0&&m===0?(yy("route-fallback"),x=!0,S=null):u===m&&(x=!0,S=f.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,m+1)),p=()=>{let h;return v?h=y:x?h=S:f.route.Component?h=_.createElement(f.route.Component,null):f.route.element?h=f.route.element:h=d,_.createElement(uy,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:h})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?_.createElement(cy,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var yh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yh||{}),vh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vh||{});function fy(e){let t=_.useContext(za);return t||re(!1),t}function hy(e){let t=_.useContext(ry);return t||re(!1),t}function py(e){let t=_.useContext(wn);return t||re(!1),t}function xh(e){let t=py(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}function my(){var e;let t=_.useContext(ph),n=hy(),r=xh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gy(){let{router:e}=fy(yh.UseNavigateStable),t=xh(vh.UseNavigateStable),n=_.useRef(!1);return mh(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gr({fromRouteId:t},i)))},[e,t])}const yu={};function yy(e,t,n){yu[e]||(yu[e]=!0)}function vy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function We(e){re(!1)}function xy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Dt.Pop,navigator:i,static:l=!1,future:a}=e;Fi()&&re(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:l,future:Gr({v7_relativeSplatPath:!1},a)}),[c,a,i,l]);typeof r=="string"&&(r=sr(r));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:x="default"}=r,y=_.useMemo(()=>{let S=fh(d,c);return S==null?null:{location:{pathname:S,search:f,hash:m,state:v,key:x},navigationType:s}},[c,d,f,m,v,x,s]);return y==null?null:_.createElement(Ai.Provider,{value:u},_.createElement(zi.Provider,{children:n,value:y}))}function wy(e){let{children:t,location:n}=e;return iy(wo(t),n)}new Promise(()=>{});function wo(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let i=[...t,s];if(r.type===_.Fragment){n.push.apply(n,wo(r.props.children,i));return}r.type!==We&&re(!1),!r.props.index||!r.props.children||re(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=wo(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const by="6";try{window.__reactRouterVersion=by}catch{}const jy="startTransition",vu=yp[jy];function Sy(e){let{basename:t,children:n,future:r,window:s}=e,i=_.useRef();i.current==null&&(i.current=Eg({window:s,v5Compat:!0}));let l=i.current,[a,c]=_.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},d=_.useCallback(f=>{u&&vu?vu(()=>c(f)):c(f)},[c,u]);return _.useLayoutEffect(()=>l.listen(d),[l,d]),_.useEffect(()=>vy(r),[r]),_.createElement(xy,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:l,future:r})}var xu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xu||(xu={}));var wu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(wu||(wu={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ky={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...a},c)=>_.createElement("svg",{ref:c,...ky,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:wh("lucide",s),...a},[...l.map(([u,d])=>_.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=(e,t)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(Ny,{ref:i,iconNode:t,className:wh(`lucide-${_y(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=R("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=R("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=R("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=R("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=R("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=R("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=R("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=R("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=R("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=R("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=R("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=R("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=R("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=R("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=R("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=R("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=R("MapPinOff",[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=R("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=R("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=R("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=R("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=R("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=R("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=R("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=R("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=R("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=R("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=R("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=R("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=R("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=R("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function qy(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})}function Ky(){const e=Be(),t=qy("2026-01-05T03:38:05.269Z");return o.jsxs("div",{className:"flex flex-col",style:{minHeight:"calc(100vh - 52px)"},children:[o.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 pt-6 pb-8",children:[o.jsxs("div",{className:"mb-12",children:[o.jsx("h1",{className:"font-serif text-3xl text-charcoal tracking-tight",children:"The Color Edit"}),o.jsx("p",{className:"mt-2 text-charcoal-lighter text-sm",children:"Find your perfect palette"})]}),o.jsxs("div",{className:"mb-12 flex gap-3",children:[o.jsx("div",{className:"w-16 h-24 rounded-xl shadow-sm",style:{backgroundColor:"#D9D0C3"}}),o.jsx("div",{className:"w-16 h-28 rounded-xl shadow-sm -mt-2",style:{backgroundColor:"#CCC5B7"}}),o.jsx("div",{className:"w-16 h-24 rounded-xl shadow-sm",style:{backgroundColor:"#C9C5BD"}}),o.jsx("div",{className:"w-16 h-20 rounded-xl shadow-sm mt-2",style:{backgroundColor:"#C7D1C7"}})]}),o.jsxs("div",{className:"mb-10",children:[o.jsx("h2",{className:"font-serif text-2xl text-charcoal leading-snug mb-3",children:"Get to a confident 5-swatch shortlist in under 5 minutes"}),o.jsx("p",{className:"text-charcoal-light text-base leading-relaxed",children:"Curated recommendations with trim, finish, and where to buy. No guesswork. No overwhelm."})]}),o.jsxs("div",{className:"flex gap-6 mb-10 text-sm text-charcoal-lighter",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),o.jsx("span",{children:"Matched to your room"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),o.jsx("span",{children:"Undertone-safe picks"})]})]})]}),o.jsxs("div",{className:"px-6 pb-8 space-y-3 safe-area-inset-bottom",children:[o.jsxs("button",{onClick:()=>e("/setup"),className:"btn-primary flex items-center justify-center gap-3",children:[o.jsx(pi,{className:"w-5 h-5"}),"Get my 5-swatch shortlist"]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center gap-2 opacity-50 cursor-not-allowed",children:[o.jsx(Cy,{className:"w-4 h-4"}),"Browse Collections"]}),o.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center gap-2 opacity-50 cursor-not-allowed",children:[o.jsx(Iy,{className:"w-4 h-4"}),"My House Palette"]})]}),o.jsx("p",{className:"text-center text-xs text-charcoal-lighter pt-4",children:"Digital swatches are a starting point. Always test real samples."}),o.jsxs("p",{className:"text-center text-xs text-charcoal-lighter/50 pt-2",children:["Last updated ",t]})]})]})}const Ua=[{id:"bm-oc-20",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Pale Oak",code:"OC-20",hex:"#D9D0C3",rgb:{r:217,g:208,b:195},lab:{l:83.2,a:1.8,b:7.2},lrv:69,undertone:{temperature:"warm",leansPrimary:"pink",leansSecondary:"yellow"},stability:.72,depthCategory:"light",popularity:.95,tags:["bestseller","greige","neutral","warm neutral"],description:"A sophisticated greige that reads warm without veering into beige territory. Grounded enough for a living room, soft enough for a bedroom.",bestIn:"South/west light, rooms with warm wood tones",watchOut:"Can read pink in cool north light",suggestedTrims:["bm-oc-17","bm-oc-65"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"sw-7036",relationship:"cross-brand match"},{colorId:"bm-oc-28",relationship:"less pink"}]},{id:"bm-hc-172",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Revere Pewter",code:"HC-172",hex:"#CCC5B7",rgb:{r:204,g:197,b:183},lab:{l:79.1,a:.5,b:7.8},lrv:55,undertone:{temperature:"warm",leansPrimary:"green",leansSecondary:"yellow"},stability:.68,depthCategory:"light",popularity:.92,tags:["bestseller","greige","warm","classic"],description:"The quintessential greige  warm, welcoming, and endlessly versatile. A modern classic that works in almost any space.",bestIn:"Cozy spaces with warm light, pairs with oak and walnut",watchOut:"Green undertone shows in north light",suggestedTrims:["bm-oc-17","bm-oc-131"],suggestedFinishes:["matte","eggshell"],similarColors:[{colorId:"sw-7015",relationship:"less green"}]},{id:"bm-oc-17",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"White Dove",code:"OC-17",hex:"#F0EBE1",rgb:{r:240,g:235,b:225},lab:{l:93.2,a:.3,b:4.8},lrv:85,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.88,depthCategory:"light",popularity:.94,tags:["white","trim","bestseller","warm white"],description:"A warm, soft white that feels cozy rather than stark. The perfect trim white for warm-toned spaces.",bestIn:"Trim and ceilings in warm-palette rooms",watchOut:"Can look cream next to pure whites",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"sw-7012",relationship:"cross-brand match"}]},{id:"bm-oc-65",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Chantilly Lace",code:"OC-65",hex:"#F5F3EE",rgb:{r:245,g:243,b:238},lab:{l:96.1,a:.1,b:2.1},lrv:92,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.95,depthCategory:"light",popularity:.91,tags:["white","trim","crisp","clean white"],description:"A crisp, clean white that reads bright without being cold. Works with virtually any palette.",bestIn:"Modern spaces, crisp trim, clean aesthetics",watchOut:"May feel stark in warm, cozy rooms",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"sw-7757",relationship:"cross-brand match"}]},{id:"bm-2163-40",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Sea Salt",code:"2163-40",hex:"#C9D5CE",rgb:{r:201,g:213,b:206},lab:{l:84.2,a:-4.8,b:2.1},lrv:65,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.65,depthCategory:"light",popularity:.78,tags:["green","spa","coastal","fresh"],description:"A whisper of green with coastal freshness. Evokes sea glass and quiet mornings.",bestIn:"Bathrooms, bedrooms with natural light",watchOut:"Can shift quite green in warm light",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"sw-6204",relationship:"similar feel"}]},{id:"bm-oc-28",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Collingwood",code:"OC-28",hex:"#D5D0C8",rgb:{r:213,g:208,b:200},lab:{l:83.5,a:.8,b:4.2},lrv:62,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.82,depthCategory:"light",popularity:.85,tags:["greige","neutral","versatile"],description:"A true neutral greige with minimal undertone drama. Goes with everything.",bestIn:"Any room, any light direction",watchOut:"Can feel flat in dim spaces",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"sw-7015",relationship:"similar neutral"}]},{id:"bm-hc-80",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Bleeker Beige",code:"HC-80",hex:"#CABFA8",rgb:{r:202,g:191,b:168},lab:{l:77.5,a:2.1,b:12.3},lrv:53,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"green"},stability:.7,depthCategory:"light",popularity:.75,tags:["beige","warm","traditional"],description:"A rich, warm beige with golden undertones. Traditional warmth with modern appeal.",bestIn:"Living rooms, dining rooms with warm light",watchOut:"Yellow undertone amplified in south light",suggestedTrims:["bm-oc-17","bm-oc-131"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"bm-2137-40",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Sea Haze",code:"2137-40",hex:"#C4CFC9",rgb:{r:196,g:207,b:201},lab:{l:82.1,a:-4.2,b:1.8},lrv:60,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.68,depthCategory:"light",popularity:.72,tags:["green","gray","spa","calming"],description:"A sophisticated gray-green that feels like a deep breath. Calming without being cold.",bestIn:"Bedrooms, bathrooms, meditation spaces",watchOut:"Green undertone can dominate in warm light",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["matte","eggshell"],similarColors:[]},{id:"bm-2111-60",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Balboa Mist",code:"2111-60",hex:"#D9D4CC",rgb:{r:217,g:212,b:204},lab:{l:84.8,a:.8,b:4.2},lrv:67,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"pink"},stability:.8,depthCategory:"light",popularity:.88,tags:["greige","neutral","light","airy"],description:"A light, airy greige that opens up spaces. Just enough warmth to feel inviting.",bestIn:"Any room needing brightness without starkness",watchOut:"Slight pink can show in north light",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-20",relationship:"lighter version"}]},{id:"bm-hc-173",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Edgecomb Gray",code:"HC-173",hex:"#D5CEBF",rgb:{r:213,g:206,b:191},lab:{l:82.5,a:1.2,b:8.1},lrv:63,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"green"},stability:.71,depthCategory:"light",popularity:.86,tags:["greige","warm","sandy"],description:"A warm, sandy greige with golden undertones. Feels like afternoon sunlight.",bestIn:"Living areas with abundant natural light",watchOut:"Yellow can intensify in warm light",suggestedTrims:["bm-oc-17","bm-oc-131"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"bm-1593",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Stonington Gray",code:"HC-170",hex:"#C5C7C4",rgb:{r:197,g:199,b:196},lab:{l:80.2,a:-.5,b:1.2},lrv:59,undertone:{temperature:"cool",leansPrimary:"neutral",leansSecondary:"blue"},stability:.84,depthCategory:"light",popularity:.82,tags:["gray","cool","modern","clean"],description:"A true gray with barely-there blue undertones. Modern and sophisticated.",bestIn:"Contemporary spaces, works with cool metallics",watchOut:"Can feel cold in north-facing rooms",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"sw-7071",relationship:"similar tone"}]},{id:"bm-1611",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Hale Navy",code:"HC-154",hex:"#3C4D5E",rgb:{r:60,g:77,b:94},lab:{l:32.5,a:-2.8,b:-11.2},lrv:8,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:null},stability:.78,depthCategory:"dark",popularity:.88,tags:["navy","blue","dramatic","statement"],description:"A rich, sophisticated navy that commands attention without overwhelming. Timeless elegance.",bestIn:"Accent walls, libraries, dining rooms",watchOut:"Needs good lighting to avoid feeling too dark",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-7036",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Accessible Beige",code:"SW 7036",hex:"#D1C4B2",rgb:{r:209,g:196,b:178},lab:{l:79.5,a:2.1,b:10.2},lrv:58,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.85,depthCategory:"light",popularity:.93,tags:["bestseller","greige","neutral","accessible"],description:"The ultimate neutral  warm enough to feel welcoming, balanced enough to go with anything.",bestIn:"Any room, extremely versatile",watchOut:"Can feel flat in dark rooms",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-20",relationship:"cross-brand match"}]},{id:"sw-7015",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Repose Gray",code:"SW 7015",hex:"#C9C5BD",rgb:{r:201,g:197,b:189},lab:{l:79.2,a:.5,b:4.1},lrv:58,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.88,depthCategory:"light",popularity:.94,tags:["bestseller","greige","neutral","balanced"],description:"A perfectly balanced greige  not too warm, not too cool. The Goldilocks of neutrals.",bestIn:"Open floor plans, any light condition",watchOut:"Very slight purple can appear in cool light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-28",relationship:"similar neutral"}]},{id:"sw-7012",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Creamy",code:"SW 7012",hex:"#F4EBD9",rgb:{r:244,g:235,b:217},lab:{l:93.5,a:.8,b:9.2},lrv:81,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.86,depthCategory:"light",popularity:.89,tags:["white","trim","warm","creamy"],description:"A warm, buttery white that adds coziness. The warm-white alternative to stark trim.",bestIn:"Trim in warm-palette rooms, cozy bedrooms",watchOut:"Too yellow for cool palettes",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"bm-oc-17",relationship:"cross-brand match"}]},{id:"sw-7757",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"High Reflective White",code:"SW 7757",hex:"#F7F6F1",rgb:{r:247,g:246,b:241},lab:{l:97.1,a:0,b:2},lrv:93,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.96,depthCategory:"light",popularity:.85,tags:["white","trim","crisp","pure"],description:"The crispest, cleanest white. Maximum light reflection for modern, fresh spaces.",bestIn:"Modern trim, ceilings, clean aesthetics",watchOut:"Can feel clinical in cozy spaces",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"bm-oc-65",relationship:"cross-brand match"}]},{id:"sw-6119",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Antique White",code:"SW 6119",hex:"#F2E6D0",rgb:{r:242,g:230,b:208},lab:{l:91.8,a:1.5,b:11.8},lrv:72,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.79,depthCategory:"light",popularity:.82,tags:["cream","warm","soft","classic"],description:"A soft, creamy off-white with golden warmth. Classic comfort in a color.",bestIn:"Restful bedrooms, traditional living rooms",watchOut:"Can feel too yellow in cool north light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"sw-7029",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Agreeable Gray",code:"SW 7029",hex:"#D0CAC1",rgb:{r:208,g:202,b:193},lab:{l:81.2,a:.8,b:5.1},lrv:60,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.83,depthCategory:"light",popularity:.96,tags:["bestseller","greige","warm","popular"],description:"The most popular paint color for a reason  warm, neutral, and agreeable with everything.",bestIn:"Whole-house color, open floor plans",watchOut:"Ubiquitous  may feel generic",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-20",relationship:"similar warmth"}]},{id:"sw-6106",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Kilim Beige",code:"SW 6106",hex:"#CABEA4",rgb:{r:202,g:190,b:164},lab:{l:77.1,a:2.2,b:13.8},lrv:52,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"orange"},stability:.72,depthCategory:"light",popularity:.74,tags:["beige","warm","earthy","golden"],description:"A warm, golden beige with earthy depth. Brings warmth without feeling dated.",bestIn:"Living rooms with warm woods, south-facing",watchOut:"Yellow undertone intensifies in direct sun",suggestedTrims:["sw-7012","sw-7757"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-6204",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Sea Salt",code:"SW 6204",hex:"#C7D1C7",rgb:{r:199,g:209,b:199},lab:{l:83.1,a:-4.1,b:3.2},lrv:63,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.64,depthCategory:"light",popularity:.87,tags:["green","spa","coastal","calming"],description:"A soft sage-meets-sea-glass. The ultimate spa color for bathrooms and bedrooms.",bestIn:"Bathrooms, bedrooms, coastal aesthetics",watchOut:"Can shift significantly between warm and cool light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"bm-2163-40",relationship:"cross-brand match"}]},{id:"sw-7071",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Gray Screen",code:"SW 7071",hex:"#C5C5C2",rgb:{r:197,g:197,b:194},lab:{l:79.5,a:0,b:1.2},lrv:59,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.9,depthCategory:"light",popularity:.78,tags:["gray","neutral","modern","clean"],description:"A true neutral gray with almost no undertone. Clean, modern, and incredibly versatile.",bestIn:"Modern spaces, works with any accent color",watchOut:"Can feel cold without warm elements",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"bm-1593",relationship:"similar neutral"}]},{id:"sw-6258",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Tricorn Black",code:"SW 6258",hex:"#2F2F30",rgb:{r:47,g:47,b:48},lab:{l:19.8,a:.2,b:-.5},lrv:3,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.92,depthCategory:"dark",popularity:.84,tags:["black","dramatic","bold","accent"],description:"A true, balanced black. Dramatic without any color shift. Pure sophistication.",bestIn:"Accent walls, doors, trim for contrast",watchOut:"Shows dust and fingerprints easily",suggestedTrims:["sw-7757"],suggestedFinishes:["satin","semigloss"],similarColors:[]},{id:"sw-7016",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Mindful Gray",code:"SW 7016",hex:"#B5AFA6",rgb:{r:181,g:175,b:166},lab:{l:71.5,a:.8,b:5.2},lrv:48,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.81,depthCategory:"mid",popularity:.8,tags:["greige","warm","mid-tone","grounding"],description:"A grounded mid-tone greige. More depth than Agreeable Gray, same versatility.",bestIn:"Accent walls, lower cabinets, grounding spaces",watchOut:"Can feel heavy in small rooms",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-6217",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Topsail",code:"SW 6217",hex:"#D8E3E0",rgb:{r:216,g:227,b:224},lab:{l:89.5,a:-3.8,b:.2},lrv:75,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:"green"},stability:.72,depthCategory:"light",popularity:.76,tags:["blue","green","coastal","airy"],description:"A barely-there blue-green, like sea foam catching morning light. Ethereal and fresh.",bestIn:"Bathrooms, bedrooms, coastal spaces",watchOut:"Can read very different in warm vs cool light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"sw-6244",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Naval",code:"SW 6244",hex:"#34495E",rgb:{r:52,g:73,b:94},lab:{l:30.8,a:-3.2,b:-13.5},lrv:7,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:null},stability:.76,depthCategory:"dark",popularity:.86,tags:["navy","blue","dramatic","bold","coty"],description:"A saturated, confident navy. Statement-making without being overwhelming.",bestIn:"Accent walls, front doors, built-ins",watchOut:"Needs adequate lighting to avoid cave feeling",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"bm-1611",relationship:"cross-brand match"}]},{id:"behr-n520-2",brand:"Behr",brandId:"behr",line:"Premium Plus",name:"Silver Drop",code:"N520-2",hex:"#D4D4D2",rgb:{r:212,g:212,b:210},lab:{l:84.8,a:0,b:.8},lrv:66,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.91,depthCategory:"light",popularity:.79,tags:["gray","neutral","light","modern"],description:"A light, true gray with incredible neutrality. Modern minimalism in paint form.",bestIn:"Contemporary spaces, any light direction",watchOut:"May feel too cool in warm, cozy rooms",suggestedTrims:["behr-ppu18-06"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"behr-ppu18-06",brand:"Behr",brandId:"behr",line:"Premium Plus Ultra",name:"Ultra Pure White",code:"PPU18-06",hex:"#F6F4EF",rgb:{r:246,g:244,b:239},lab:{l:96.5,a:.1,b:2.2},lrv:91,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.95,depthCategory:"light",popularity:.88,tags:["white","trim","pure","clean"],description:"A clean, crisp white with minimal undertone. The go-to for pure, fresh trim.",bestIn:"Trim, ceilings, modern spaces",watchOut:"Can feel stark in warm-toned rooms",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"sw-7757",relationship:"cross-brand match"}]},{id:"behr-ppu24-10",brand:"Behr",brandId:"behr",line:"Premium Plus Ultra",name:"Perfect Taupe",code:"PPU24-10",hex:"#C0B8AA",rgb:{r:192,g:184,b:170},lab:{l:74.5,a:1.5,b:7.8},lrv:50,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.79,depthCategory:"mid",popularity:.77,tags:["taupe","neutral","warm","earthy"],description:"A sophisticated mid-tone taupe. Earthy and grounding with quiet elegance.",bestIn:"Living rooms, bedrooms with natural light",watchOut:"Can feel heavy in small, dark rooms",suggestedTrims:["behr-ppu18-06"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"behr-n220-2",brand:"Behr",brandId:"behr",line:"Premium Plus",name:"Stonewashed",code:"N220-2",hex:"#DDD6CB",rgb:{r:221,g:214,b:203},lab:{l:85.5,a:1,b:6.2},lrv:68,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.8,depthCategory:"light",popularity:.75,tags:["beige","warm","light","soft"],description:"A soft, washed-out beige with gentle warmth. Relaxed and inviting.",bestIn:"Bedrooms, living areas with south exposure",watchOut:"Yellow can show in very warm light",suggestedTrims:["behr-ppu18-06"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"ppg-1025-3",brand:"PPG",brandId:"ppg",line:"Timeless",name:"Whiskers",code:"PPG1025-3",hex:"#D5CEC4",rgb:{r:213,g:206,b:196},lab:{l:82.8,a:1.2,b:5.8},lrv:63,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.82,depthCategory:"light",popularity:.72,tags:["greige","warm","soft","neutral"],description:"A soft, warm greige with gentle presence. Understated elegance.",bestIn:"Any room needing quiet warmth",watchOut:'Subtle  may not read as a "color"',suggestedTrims:["ppg-1001-1"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"ppg-1001-1",brand:"PPG",brandId:"ppg",line:"Timeless",name:"Delicate White",code:"PPG1001-1",hex:"#F5F2ED",rgb:{r:245,g:242,b:237},lab:{l:95.8,a:.2,b:2.5},lrv:89,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.93,depthCategory:"light",popularity:.8,tags:["white","trim","soft","clean"],description:"A soft white with just enough warmth to feel inviting. The friendly white.",bestIn:"Trim, walls, any space needing brightness",watchOut:"May not feel crisp enough for ultra-modern",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[]},{id:"bm-oc-131",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Simply White",code:"OC-117",hex:"#F5F1E6",rgb:{r:245,g:241,b:230},lab:{l:95.2,a:.2,b:5},lrv:89,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.88,depthCategory:"light",popularity:.91,tags:["white","trim","warm","bestseller"],description:"A clean white with just a whisper of warmth. Bright but never cold.",bestIn:"Whole-house white, works warm or cool",watchOut:"Slight yellow visible next to pure whites",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[]},{id:"sw-7043",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Worldly Gray",code:"SW 7043",hex:"#C4BEB2",rgb:{r:196,g:190,b:178},lab:{l:76.8,a:.5,b:6.2},lrv:52,undertone:{temperature:"warm",leansPrimary:"green",leansSecondary:"yellow"},stability:.75,depthCategory:"mid",popularity:.77,tags:["greige","warm","earthy","grounded"],description:"An earthy mid-tone greige with subtle green. Sophisticated and grounding.",bestIn:"Living rooms, whole-house neutral",watchOut:"Green undertone shows in certain light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-7641",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Collonade Gray",code:"SW 7641",hex:"#C2BCB1",rgb:{r:194,g:188,b:177},lab:{l:76.2,a:.8,b:5.8},lrv:53,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"green"},stability:.78,depthCategory:"mid",popularity:.82,tags:["greige","warm","mid-tone","classic"],description:"A warm, classic greige with timeless appeal. Not too anything.",bestIn:"Traditional to transitional spaces",watchOut:"Slight green can appear in north light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"bm-af-685",brand:"Benjamin Moore",brandId:"bm",line:"Affinity",name:"Thunder",code:"AF-685",hex:"#7A7B7D",rgb:{r:122,g:123,b:125},lab:{l:51.5,a:-.2,b:-1},lrv:20,undertone:{temperature:"cool",leansPrimary:"neutral",leansSecondary:"blue"},stability:.88,depthCategory:"mid",popularity:.74,tags:["gray","dark","dramatic","cool"],description:"A sophisticated charcoal gray. Modern drama without the commitment of black.",bestIn:"Accent walls, cabinets, exterior trim",watchOut:"Can feel heavy in small rooms",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-9170",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Acacia Haze",code:"SW 9170",hex:"#A5B3A5",rgb:{r:165,g:179,b:165},lab:{l:71.8,a:-6.2,b:4.8},lrv:45,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:null},stability:.7,depthCategory:"mid",popularity:.81,tags:["green","sage","earthy","organic"],description:"A sophisticated sage with grayed-out calm. Nature-inspired without being earthy.",bestIn:"Living rooms, bedrooms, home offices",watchOut:"Green intensifies in warm light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"bm-hc-158",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Newburyport Blue",code:"HC-158",hex:"#485769",rgb:{r:72,g:87,b:105},lab:{l:36.8,a:-2.5,b:-10.8},lrv:10,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:null},stability:.79,depthCategory:"dark",popularity:.78,tags:["blue","navy","classic","historical"],description:"A slightly softer navy with gray undertones. Historical charm with modern appeal.",bestIn:"Accent walls, exterior doors, built-ins",watchOut:"Can read almost black in dim lighting",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-6126",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Navajo White",code:"SW 6126",hex:"#F3E5D0",rgb:{r:243,g:229,b:208},lab:{l:91.5,a:2.2,b:12.5},lrv:76,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"orange"},stability:.76,depthCategory:"light",popularity:.73,tags:["cream","warm","golden","soft"],description:"A warm, golden cream with southwestern warmth. Cozy and sun-kissed.",bestIn:"Living rooms, bedrooms with warm light",watchOut:"Can feel too yellow in bright light",suggestedTrims:["sw-7012","sw-7757"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"bm-2135-50",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Gray Owl",code:"OC-52",hex:"#C9CCC6",rgb:{r:201,g:204,b:198},lab:{l:81.5,a:-1.5,b:2.2},lrv:64,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.74,depthCategory:"light",popularity:.85,tags:["gray","green","cool","versatile"],description:"A light gray with subtle green-blue. Fresh and airy with organic undertones.",bestIn:"Open floor plans, north-facing rooms",watchOut:"Green undertone can dominate",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","matte"],similarColors:[]}],Su=Ua.filter(e=>e.tags.includes("white")||e.tags.includes("trim"));function jo(e){return Ua.find(t=>t.id===e)}function Gy(e,t){const{lab:n,lrv:r}=e,s=Math.sqrt(n.a**2+n.b**2),i=n.a*.6+n.b*.4;let l;t.cozyToCrisp<50?l=(i+10)/20:l=(-i+10)/20,l=Math.max(0,Math.min(1,l));let a;return t.calmToMoody<50?a=(1-s/30)*.5+r/100*.5:a=s/30*.3+(1-r/100)*.7,a=Math.max(0,Math.min(1,a)),(l+a)/2}function Jy(e,t){const{stability:n}=e,s=[t.direction==="unknown",t.bulbTemp==="unknown",t.primaryUsage==="both"].filter(Boolean).length/3,i=n,l=s*(1-n)*.3;return Math.max(.3,i-l)}function Yy(e,t){const n={fear_green:"green",fear_pink:"pink",fear_purple:"purple",fear_babyblue:"blue",fear_dingy:"neutral",fear_yellow:"yellow"};if(t.length===0)return 1;let r=0;for(const s of t){const i=n[s];i===e.leansPrimary?r+=.5:i===e.leansSecondary&&(r+=.25)}return Math.max(.2,1-r)}function Xy(e,t){return t==="any"?.8:e===t?1:{"light-mid":.6,"mid-light":.6,"mid-dark":.6,"dark-mid":.6,"light-dark":.3,"dark-light":.3}[`${e}-${t}`]??.5}function Zy(e,t){return t.length===0||t.includes("any")?e:e.filter(n=>t.includes(n.brandId))}function _u(e,t,n){const r=[];return n.vibeMatch>.8&&(t.vibe.cozyToCrisp<40?r.push("warm, cozy feel"):t.vibe.cozyToCrisp>60&&r.push("crisp, clean aesthetic")),t.undertoneFears.length>0&&n.undertoneSafety>.8&&r.push("avoids the undertones you flagged"),t.fixedElements.includes("wood_warm")&&e.undertone.temperature==="warm"&&r.push("complements your warm wood"),t.fixedElements.includes("hardware_brass")&&e.undertone.temperature==="warm"&&r.push("pairs well with brass"),t.fixedElements.includes("hardware_chrome")&&e.undertone.temperature!=="warm"&&r.push("works with chrome hardware"),n.lightingTolerance>.85&&r.push("stable in varying light"),r.length===0&&r.push("balanced undertones and good versatility"),r.slice(0,2).join(", ").replace(/^./,s=>s.toUpperCase())+"."}function gl(e,t){const n=e.undertone,r=Su.filter(a=>a.undertone.temperature==="warm"&&a.undertone.leansPrimary!==n.leansPrimary),s=Su.filter(a=>(a.undertone.temperature==="cool"||a.undertone.temperature==="neutral")&&a.undertone.leansPrimary!==n.leansPrimary),i=r.sort((a,c)=>c.popularity-a.popularity)[0]||null;return{crisp:s.sort((a,c)=>c.popularity-a.popularity)[0]||null,warm:i}}function yl(e){return{bathroom:"Satin",kitchen:"Eggshell",hallway:"Eggshell",nursery:"Eggshell",living:"Eggshell",bedroom:"Matte",office:"Eggshell",exterior:"Satin"}[e]||"Eggshell"}function ev(e,t){const n={vibe:.25,lighting:.2,undertone:.2,depth:.1,trend:.25},r=Gy(e,t.vibe),s=Jy(e,t.lighting),i=Yy(e.undertone,t.undertoneFears),l=Xy(e.depthCategory,t.depthPreference),a=n.vibe*r+n.lighting*s+n.undertone*i+n.depth*l+n.trend*e.popularity;return{overall:Math.round(a*100),vibeMatch:r,lightingTolerance:s,undertoneSafety:i,depthMatch:l}}function tv(e){let t=Zy(Ua,e.brandPreferences);if(e.depthPreference!=="any"){const c=t.filter(u=>u.depthCategory===e.depthPreference);c.length>=10&&(t=c)}t=t.filter(c=>!c.tags.includes("trim")||c.tags.length>1);const n=t.map(c=>({color:c,scores:ev(c,e)}));n.sort((c,u)=>u.scores.overall-c.scores.overall);const r=[],s=new Set,i=n.filter(c=>c.scores.lightingTolerance>=.75&&c.scores.undertoneSafety>=.8&&!s.has(c.color.id));for(const c of i.slice(0,2)){const u=gl(c.color,e.vibe);r.push({...c,tag:"safe_win",reasoning:_u(c.color,e,c.scores),suggestedTrim:u,suggestedFinish:yl(e.roomType)}),s.add(c.color.id)}const l=n.filter(c=>!s.has(c.color.id)).sort((c,u)=>u.scores.vibeMatch-c.scores.vibeMatch);for(const c of l.slice(0,2)){const u=gl(c.color,e.vibe);r.push({...c,tag:"vibe_match",reasoning:_u(c.color,e,c.scores),suggestedTrim:u,suggestedFinish:yl(e.roomType)}),s.add(c.color.id)}const a=n.filter(c=>!s.has(c.color.id)&&c.scores.vibeMatch>=.6&&c.scores.undertoneSafety>=.5);if(a.length>0){const c=a[0],u=gl(c.color,e.vibe);r.push({...c,tag:"wildcard",reasoning:"A bit bolder  adds personality while staying within your comfort zone.",suggestedTrim:u,suggestedFinish:yl(e.roomType)})}return r.slice(0,5)}function nv(e,t){const n=["Near the door frame or trim","In the darkest corner of the room","On the main wall at eye level"],r=["Morning with natural light","Afternoon at peak brightness",`Evening with your ${t.lighting.bulbTemp==="warm"?"warm":"regular"} bulbs on`],s=[];if(t.undertoneFears.includes("fear_pink")){const i=e.filter(l=>l.color.undertone.leansPrimary!=="pink").slice(0,2).map(l=>l.color.name);i.length>0&&s.push({ifLooksToo:"pink",tryInstead:i})}if(t.undertoneFears.includes("fear_green")){const i=e.filter(l=>l.color.undertone.leansPrimary!=="green").slice(0,2).map(l=>l.color.name);i.length>0&&s.push({ifLooksToo:"green",tryInstead:i})}if(t.undertoneFears.includes("fear_yellow")){const i=e.filter(l=>l.color.undertone.leansPrimary!=="yellow").slice(0,2).map(l=>l.color.name);i.length>0&&s.push({ifLooksToo:"yellow",tryInstead:i})}return{placements:n,timesToCheck:r,alternates:s}}function rv(e,t,n,r){const s=n.includes("wipe_clean")||n.includes("scuff_resistance")||r,i={bm:{walls:{better:{name:"Regal Select",why:"Great coverage and washability for most rooms"},best:{name:"Aura",why:"Premium durability and color richness"}},trim:{better:{name:"Advance",why:"Smooth, hard finish for trim and doors"},best:{name:"Advance",why:"Smooth, hard finish for trim and doors"}},cabinets:{better:{name:"Advance",why:"Self-leveling for smooth cabinet finish"},best:{name:"Advance",why:"Self-leveling for smooth cabinet finish"}}},sw:{walls:{better:{name:"Duration Home",why:"Excellent washability for active homes"},best:{name:"Emerald Interior",why:"Best-in-class durability and coverage"}},trim:{better:{name:"ProClassic",why:"Hard, durable finish for trim"},best:{name:"Emerald Urethane",why:"Maximum hardness and flow"}},cabinets:{better:{name:"ProClassic",why:"Smooth application for cabinets"},best:{name:"Emerald Urethane",why:"Professional-grade cabinet finish"}}},behr:{walls:{better:{name:"Ultra",why:"Good coverage and durability"},best:{name:"Dynasty",why:"One-coat coverage with scuff defense"}},trim:{better:{name:"Ultra",why:"Durable finish for trim"},best:{name:"Dynasty",why:"Premium hardness for trim"}},cabinets:{better:{name:"Cabinet & Trim Enamel",why:"Designed for cabinet durability"},best:{name:"Cabinet & Trim Enamel",why:"Designed for cabinet durability"}}}},l=t==="doors"||t==="trim"?"trim":t==="cabinets"?"cabinets":"walls",a=i[e]||i.sw,c=a[l]||a.walls;return s?{tier:"Best",...c.best}:{tier:"Better",...c.better}}function sv(e){return{new_drywall:{needed:!0,type:"Drywall primer",why:"Seals porous new drywall for even coverage"},painted_good:{needed:!1,type:null,why:"Existing paint provides a good base"},painted_rough:{needed:!0,type:"Bonding primer",why:"Helps new paint adhere to rough surfaces"},glossy:{needed:!0,type:"Bonding primer",why:"Creates tooth for paint adhesion on slick surfaces"},stained_wood:{needed:!0,type:"Stain-blocking primer",why:"Prevents wood tannins from bleeding through"},cabinet_slick:{needed:!0,type:"Bonding primer",why:"Essential for adhesion on factory finishes"},masonry:{needed:!0,type:"Masonry primer",why:"Seals alkaline surfaces and improves adhesion"}}[e]||{needed:!1,type:null,why:"Standard surface preparation"}}function iv(e,t,n){const r={small:200,medium:400,large:600,very_large:900},s=t/8,i=r[e]*s,l=375,a=2,c=1.1;let u=i*a*c;return n==="trim"||n==="doors"?u=i*.15*a*c:n==="ceiling"&&(u=i*.8*a*c),{gallons:Math.ceil(u/l),coats:a,note:"Includes 10% buffer for touch-ups"}}const vl=[{id:"roomType",title:"What room are you painting?",type:"single",options:[{label:"Living room",value:"living"},{label:"Bedroom",value:"bedroom"},{label:"Kitchen",value:"kitchen"},{label:"Bathroom",value:"bathroom"},{label:"Hallway",value:"hallway"},{label:"Home office",value:"office"},{label:"Nursery",value:"nursery"}]},{id:"lightDirection",title:"Which way do the windows face?",subtitle:"This affects how colors shift throughout the day.",type:"single",options:[{label:"North",value:"north"},{label:"South",value:"south"},{label:"East",value:"east"},{label:"West",value:"west"},{label:"Not sure",value:"unknown"}]},{id:"primaryUsage",title:"When do you use this room most?",type:"single",options:[{label:"Mostly daytime",value:"day"},{label:"Mostly evening",value:"night"},{label:"Both equally",value:"both"}]},{id:"bulbTemp",title:"What kind of light bulbs?",subtitle:'Check the bulb packaging  it says "K" for Kelvin.',type:"single",options:[{label:"Warm White (2700K3000K)",value:"warm"},{label:"Neutral White (3500K4000K)",value:"neutral"},{label:"Cool White / Daylight (5000K+)",value:"cool"},{label:"Not sure",value:"unknown"}]},{id:"roomImage",title:"Show us your room",subtitle:"Upload a photo and we'll visualize each color on your walls.",type:"image"},{id:"vibe",title:"What feeling are you after?",type:"slider",sliders:[{label:"Temperature",left:"Cozy & warm",right:"Crisp & clean",key:"cozyToCrisp"},{label:"Mood",left:"Calm & restful",right:"Moody & dramatic",key:"calmToMoody"}]},{id:"undertoneFears",title:"Any undertones you want to avoid?",subtitle:"We'll steer away from colors that tend to shift this way.",type:"multi",options:[{label:"Turns green",value:"fear_green"},{label:"Turns pink",value:"fear_pink"},{label:"Turns purple",value:"fear_purple"},{label:"Looks baby-blue",value:"fear_babyblue"},{label:"Looks dingy gray",value:"fear_dingy"},{label:"Looks too yellow",value:"fear_yellow"}]},{id:"brandPreferences",title:"Any preferred brands?",subtitle:"Optional. We'll show matches across all brands otherwise.",type:"multi",options:[{label:"Sherwin-Williams",value:"sw"},{label:"Benjamin Moore",value:"bm"},{label:"Behr",value:"behr"},{label:"PPG",value:"ppg"},{label:"Any brand",value:"any"}]},{id:"depthPreference",title:"How light or dark?",type:"single",options:[{label:"Light & airy",value:"light"},{label:"Mid-tone",value:"mid"},{label:"Dark & cozy",value:"dark"},{label:"Show me options",value:"any"}]}];function lv(){const e=Be(),{setProfile:t,setShortlist:n,setRoomImage:r}=Pt(),[s,i]=_.useState(0),[l,a]=_.useState(!1),[c,u]=_.useState(null),d=_.useRef(null),[f,m]=_.useState({roomType:"",lightDirection:"",primaryUsage:"",bulbTemp:"",roomImage:"",cozyToCrisp:50,calmToMoody:50,undertoneFears:[],brandPreferences:[],depthPreference:""}),v=b=>{var N;const k=(N=b.target.files)==null?void 0:N[0];if(k){const M=new FileReader;M.onloadend=()=>{const O=M.result;u(O),m(ee=>({...ee,roomImage:O})),r(O)},M.readAsDataURL(k)}},x=()=>{u(null),m(b=>({...b,roomImage:""})),r(null),d.current&&(d.current.value="")},y=vl[s],S=s===vl.length-1,g=b=>{m(k=>({...k,[y.id]:b})),S||setTimeout(()=>i(k=>k+1),200)},p=b=>{const k=f[y.id]||[],N=k.includes(b)?k.filter(M=>M!==b):[...k,b];m(M=>({...M,[y.id]:N}))},h=(b,k)=>{m(N=>({...N,[b]:k}))},w=()=>y.type==="single"?!!f[y.id]:(y.type==="multi",!0),j=async()=>{a(!0);const b={roomType:f.roomType,lighting:{direction:f.lightDirection,primaryUsage:f.primaryUsage,bulbTemp:f.bulbTemp},fixedElements:[],vibe:{cozyToCrisp:f.cozyToCrisp,calmToMoody:f.calmToMoody},undertoneFears:f.undertoneFears,brandPreferences:f.brandPreferences,depthPreference:f.depthPreference};t(b);const k=tv(b);n(k),await new Promise(N=>setTimeout(N,1500)),e("/shortlist")};return o.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[o.jsxs("header",{className:"px-4 py-4 flex items-center justify-between",children:[o.jsx("button",{onClick:()=>s>0?i(b=>b-1):e("/"),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("div",{className:"flex gap-1.5",children:vl.map((b,k)=>o.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${k===s?"bg-charcoal":k<s?"bg-gold":"bg-charcoal/20"}`},k))}),o.jsx("div",{className:"w-9"})," "]}),o.jsxs("div",{className:"px-6 pt-6 pb-4 flex flex-col",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:y.title}),y.subtitle&&o.jsx("p",{className:"text-charcoal-light text-sm",children:y.subtitle})]}),o.jsxs("div",{className:"mb-4",children:[y.type==="single"&&y.options&&o.jsx("div",{className:"flex flex-wrap gap-3",children:y.options.map(b=>o.jsx("button",{onClick:()=>g(b.value),className:f[y.id]===b.value?"btn-pill-selected":"btn-pill",children:b.label},b.value))}),y.type==="multi"&&y.options&&o.jsx("div",{className:"flex flex-wrap gap-3",children:y.options.map(b=>{const k=(f[y.id]||[]).includes(b.value);return o.jsxs("button",{onClick:()=>p(b.value),className:k?"chip-selected":"chip",children:[k&&o.jsx(Jn,{className:"w-4 h-4"}),b.label]},b.value)})}),y.type==="slider"&&y.sliders&&o.jsx("div",{className:"space-y-8",children:y.sliders.map(b=>o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm text-charcoal-light mb-3",children:[o.jsx("span",{children:b.left}),o.jsx("span",{children:b.right})]}),o.jsx("input",{type:"range",min:"0",max:"100",value:f[b.key],onChange:k=>h(b.key,Number(k.target.value)),className:`w-full h-2 bg-charcoal/10 rounded-full appearance-none cursor-pointer
                             [&::-webkit-slider-thumb]:appearance-none
                             [&::-webkit-slider-thumb]:w-6
                             [&::-webkit-slider-thumb]:h-6
                             [&::-webkit-slider-thumb]:rounded-full
                             [&::-webkit-slider-thumb]:bg-charcoal
                             [&::-webkit-slider-thumb]:shadow-md
                             [&::-webkit-slider-thumb]:cursor-pointer`})]},b.key))}),y.type==="image"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:v,className:"hidden",id:"room-image-upload"}),c?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:c,alt:"Room preview",className:"w-full max-h-[60vh] object-contain rounded-2xl"}),o.jsx("button",{onClick:x,className:"absolute top-3 right-3 p-2 bg-charcoal/80 text-white rounded-full hover:bg-charcoal transition-colors",children:o.jsx(Xn,{className:"w-5 h-5"})}),o.jsx("p",{className:"text-center text-charcoal-light text-sm mt-3",children:"Looking good! We'll show your colors on these walls."})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("label",{htmlFor:"room-image-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-charcoal/20 rounded-2xl cursor-pointer hover:border-charcoal/40 hover:bg-cream-100 transition-colors",children:[o.jsx(Qy,{className:"w-10 h-10 text-charcoal/40 mb-3"}),o.jsx("span",{className:"text-charcoal font-medium",children:"Upload a photo"}),o.jsx("span",{className:"text-charcoal-light text-sm mt-1",children:"or drag and drop"})]}),o.jsxs("button",{onClick:()=>{var b;return(b=d.current)==null?void 0:b.click()},className:"w-full py-3 px-4 border border-charcoal/20 rounded-full flex items-center justify-center gap-2 text-charcoal hover:bg-cream-100 transition-colors",children:[o.jsx(Ey,{className:"w-5 h-5"}),"Take a photo"]})]})]})]})]}),o.jsxs("div",{className:"px-6 pb-6 pt-2 safe-area-inset-bottom",children:[S?o.jsx("button",{onClick:j,disabled:!w()||l,className:"btn-primary flex items-center justify-center gap-3 disabled:opacity-50",children:l?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-cream-50/30 border-t-cream-50 rounded-full animate-spin"}),"Creating your shortlist..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Vy,{className:"w-5 h-5"}),"Create my 5-swatch shortlist"]})}):y.type==="multi"||y.type==="slider"||y.type==="image"?o.jsxs("button",{onClick:()=>i(b=>b+1),className:"btn-primary flex items-center justify-center gap-2",children:[y.type==="image"&&c?"Looks great!":"Continue",o.jsx(ns,{className:"w-4 h-4"})]}):null,y.type==="multi"&&o.jsx("button",{onClick:()=>{m(b=>({...b,[y.id]:[]})),i(b=>b+1)},className:"mt-3 w-full py-2 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:y.id==="undertoneFears"?"No concerns":"Skip"}),y.type==="image"&&!c&&o.jsx("button",{onClick:()=>i(b=>b+1),className:"mt-3 w-full py-2 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:"Skip for now"})]})]})}const ov="https://color-edit-api.rkrigney.workers.dev";async function av(e,t){try{console.log(`[Visualization] Requesting ${t.name} (${t.hex})`);const n=await fetch(ov,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomImageBase64:e,paintColor:t})}),r=await n.json();return n.ok?r.success&&r.imageUrl?(console.log("[Visualization] Successfully generated image"),{success:!0,imageUrl:r.imageUrl}):{success:!1,error:r.error||"No image generated"}:(console.error("[Visualization] API error:",r),{success:!1,error:r.error||`Request failed (${n.status})`})}catch(n){return console.error("[Visualization] Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}const _h=new Map;function cv(e,t){return`${e.slice(-100)}-${t}`}function uv(e){return _h.get(e)}function dv(e,t){_h.set(e,t)}function fv({imageUrl:e,colorName:t}){const[n,r]=_.useState(50),s=n<50?(50-n)/50:0,i=n>50?(n-50)/50:0,l=()=>n<25?"Warm White (2700K)":n<45?"Warm (3000K)":n<55?"Neutral (3500K)":n<75?"Cool (4500K)":"Daylight (5000K+)";return o.jsxs("div",{className:"relative w-full",children:[o.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-t-xl",children:[o.jsx("img",{src:e,alt:`Room with ${t}`,className:"absolute inset-0 w-full h-full object-cover"}),o.jsx("img",{src:e,alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none transition-opacity duration-150",style:{filter:"sepia(25%) saturate(120%) brightness(108%) hue-rotate(-8deg)",opacity:s}}),o.jsx("img",{src:e,alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none transition-opacity duration-150",style:{filter:"saturate(95%) brightness(100%) hue-rotate(15deg) contrast(105%)",opacity:i}}),o.jsx("div",{className:"absolute bottom-2 left-2 right-2 flex justify-center",children:o.jsx("span",{className:"bg-black/60 text-white text-xs px-3 py-1 rounded-full",children:l()})})]}),o.jsxs("div",{className:"bg-charcoal/5 px-4 py-3 rounded-b-xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(bo,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),o.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:a=>r(Number(a.target.value)),className:`flex-1 h-2 bg-gradient-to-r from-amber-200 via-gray-200 to-blue-200 rounded-full appearance-none cursor-pointer
                     [&::-webkit-slider-thumb]:appearance-none
                     [&::-webkit-slider-thumb]:w-5
                     [&::-webkit-slider-thumb]:h-5
                     [&::-webkit-slider-thumb]:rounded-full
                     [&::-webkit-slider-thumb]:bg-white
                     [&::-webkit-slider-thumb]:shadow-md
                     [&::-webkit-slider-thumb]:border-2
                     [&::-webkit-slider-thumb]:border-charcoal/20
                     [&::-webkit-slider-thumb]:cursor-pointer`}),o.jsx(jh,{className:"w-4 h-4 text-blue-500 flex-shrink-0"})]}),o.jsx("p",{className:"text-center text-xs text-charcoal-light mt-2",children:"Drag to preview lighting conditions"})]})]})}function Te(e){if(typeof e=="number")return(Math.abs(e*2654435761)>>>0).toString(16);if(typeof e=="boolean")return e?"1":"0";if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string"){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t=t>>>0;return t.toString(16)}if(Array.isArray(e)){let t=2166136261;for(let n=0;n<e.length;n++){t^=(n+1)*2654435761;const r=Te(e[n]);for(let s=0;s<r.length;s++)t^=r.charCodeAt(s),t*=16777619,t=t>>>0}return t.toString(16)}if(typeof e=="object"){let t=2166136261;const n=Object.keys(e).sort();for(let r=0;r<n.length;r++){const s=n[r],i=Te(s);t^=parseInt(i,16),t*=16777619,t=t>>>0;const l=Te(e[s]);t^=parseInt(l,16),t*=16777619,t=t>>>0}return t.toString(16)}return Te(String(e))}const G={Remove:"remove",Replace:"replace",Add:"add"},kh=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),hv=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),$s=Symbol.iterator,ze={mutable:"mutable",immutable:"immutable"},$a={};function Pr(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ku(e,t){if(t in e){let n=Reflect.getPrototypeOf(e);for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Reflect.getPrototypeOf(n)}}}function Ba(e){return Object.getPrototypeOf(e)===Set.prototype}function Wa(e){return Object.getPrototypeOf(e)===Map.prototype}function Me(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function Jt(e){return!!A(e)}function A(e){return typeof e!="object"?null:e==null?void 0:e[kh]}function Va(e){var t;const n=A(e);return n?(t=n.copy)!==null&&t!==void 0?t:n.original:e}function lt(e,t){if(!e||typeof e!="object")return!1;let n;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!(t!=null&&t.mark)&&((n=t.mark(e,ze))===ze.immutable||typeof n=="function")}function Nh(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const n=e.parent.copy,r=A(Ct(n,e.key));if(r!==null&&(r==null?void 0:r.original)!==e.original)return null;const s=e.parent.type===3,i=s?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(s&&n.size>i||Pr(n,i)))return null;t.push(i)}if(e.parent)return Nh(e.parent,t);t.reverse();try{pv(e.copy,t)}catch{return null}return t}function bn(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function Ct(e,t){return bn(e)===2?e.get(t):e[t]}function rs(e,t,n){bn(e)===2?e.set(t,n):e[t]=n}function xl(e,t){const n=A(e);return(n?Me(n):e)[t]}function jt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function So(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function an(e,t){return t?e:[""].concat(e).map(n=>{const r=`${n}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function pv(e,t){for(let n=0;n<t.length-1;n+=1){const r=t[n];if(e=Ct(bn(e)===3?Array.from(e):e,r),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function mv(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(n=>{let r=Reflect.getOwnPropertyDescriptor(e,n);if(r.enumerable&&r.configurable&&r.writable){t[n]=e[n];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]}),Reflect.defineProperty(t,n,r)}),t}const gv=Object.prototype.propertyIsEnumerable;function Ch(e,t){let n;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!Ba(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!Wa(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e)}return new Map(e)}else if(t!=null&&t.mark&&(n=t.mark(e,ze),n!==void 0)&&n!==ze.mutable){if(n===ze.immutable)return mv(e);if(typeof n=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return n()}throw new Error(`Unsupported mark result: ${n}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s]}),Object.getOwnPropertySymbols(e).forEach(s=>{gv.call(e,s)&&(r[s]=e[s])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function ye(e){e.copy||(e.copy=Ch(e.original,e.options))}function vr(e){if(!lt(e))return Va(e);if(Array.isArray(e))return e.map(vr);if(e instanceof Map){const n=Array.from(e.entries()).map(([r,s])=>[r,vr(s)]);if(!Wa(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Map(n)}if(e instanceof Set){const n=Array.from(e).map(vr);if(!Ba(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Set(n)}const t=Object.create(Object.getPrototypeOf(e));for(const n in e)t[n]=vr(e[n]);return t}function Bs(e){return Jt(e)?vr(e):e}function ft(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&ft(e.parent))}function Nu(){throw new Error("Cannot modify frozen object")}function _n(e,t,n,r,s){{n=n??new WeakMap,r=r??[],s=s??[];const l=n.has(e)?n.get(e):e;if(r.length>0){const a=r.indexOf(l);if(l&&typeof l=="object"&&a!==-1)throw r[0]===l?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${s.slice(0,a).map((c,u)=>{if(typeof c=="symbol")return`[${c.toString()}]`;const d=r[u];return typeof c=="object"&&(d instanceof Map||d instanceof Set)?Array.from(d.keys()).indexOf(c):c}).join("/")}`);r.push(l),s.push(t)}else r.push(l)}if(Object.isFrozen(e)||Jt(e)){r.pop(),s.pop();return}switch(bn(e)){case 2:for(const[a,c]of e)_n(a,a,n,r,s),_n(c,a,n,r,s);e.set=e.clear=e.delete=Nu;break;case 3:for(const a of e)_n(a,a,n,r,s);e.add=e.clear=e.delete=Nu;break;case 1:Object.freeze(e);let l=0;for(const a of e)_n(a,l,n,r,s),l+=1;break;default:Object.freeze(e),Object.keys(e).forEach(a=>{const c=e[a];_n(c,a,n,r,s)})}r.pop(),s.pop()}function Ha(e,t){const n=bn(e);if(n===0)Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)});else if(n===1){let r=0;for(const s of e)t(r,s,e),r+=1}else e.forEach((r,s)=>t(s,r,e))}function Eh(e,t,n){if(Jt(e)||!lt(e,n)||t.has(e)||Object.isFrozen(e))return;const r=e instanceof Set,s=r?new Map:void 0;if(t.add(e),Ha(e,(i,l)=>{var a;if(Jt(l)){const c=A(l);ye(c);const u=!((a=c.assignedMap)===null||a===void 0)&&a.size||c.operated?c.copy:c.original;rs(r?s:e,i,u)}else Eh(l,t,n)}),s){const i=e,l=Array.from(i);i.clear(),l.forEach(a=>{i.add(s.has(a)?s.get(a):a)})}}function yv(e,t){const n=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&n&&Eh(Ct(n,t),e.finalities.handledSet,e.options)}function _o(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add(Va(t))}))}function ko(e,t,n,r){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(n&&r){const i=Nh(e);i&&t(e,i,n,r)}e.finalized=!0}}function Qa(e,t,n,r){const s=A(n);s&&(s.callbacks||(s.callbacks=[]),s.callbacks.push((i,l)=>{var a;const c=e.type===3?e.setMap:e.copy;if(jt(Ct(c,t),n)){let u=s.original;s.copy&&(u=s.copy),_o(e),ko(e,r,i,l),e.options.enableAutoFreeze&&(e.options.updatedValues=(a=e.options.updatedValues)!==null&&a!==void 0?a:new WeakMap,e.options.updatedValues.set(u,s.original)),rs(c,t,u)}}),e.options.enableAutoFreeze&&s.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),lt(n,e.options)&&e.finalities.draft.push(()=>{const i=e.type===3?e.setMap:e.copy;jt(Ct(i,t),n)&&yv(e,t)})}function vv(e,t,n,r,s){let{original:i,assignedMap:l,options:a}=e,c=e.copy;c.length<i.length&&([i,c]=[c,i],[n,r]=[r,n]);for(let u=0;u<i.length;u+=1)if(l.get(u.toString())&&c[u]!==i[u]){const d=t.concat([u]),f=an(d,s);n.push({op:G.Replace,path:f,value:Bs(c[u])}),r.push({op:G.Replace,path:f,value:Bs(i[u])})}for(let u=i.length;u<c.length;u+=1){const d=t.concat([u]),f=an(d,s);n.push({op:G.Add,path:f,value:Bs(c[u])})}if(i.length<c.length){const{arrayLengthAssignment:u=!0}=a.enablePatches;if(u){const d=t.concat(["length"]),f=an(d,s);r.push({op:G.Replace,path:f,value:i.length})}else for(let d=c.length;i.length<d;d-=1){const f=t.concat([d-1]),m=an(f,s);r.push({op:G.Remove,path:m})}}}function xv({original:e,copy:t,assignedMap:n},r,s,i,l){n.forEach((a,c)=>{const u=Ct(e,c),d=Bs(Ct(t,c)),f=a?Pr(e,c)?G.Replace:G.Add:G.Remove;if(jt(u,d)&&f===G.Replace)return;const m=r.concat(c),v=an(m,l);s.push(f===G.Remove?{op:f,path:v}:{op:f,path:v,value:d}),i.push(f===G.Add?{op:G.Remove,path:v}:f===G.Remove?{op:G.Add,path:v,value:u}:{op:G.Replace,path:v,value:u})})}function wv({original:e,copy:t},n,r,s,i){let l=0;e.forEach(a=>{if(!t.has(a)){const c=n.concat([l]),u=an(c,i);r.push({op:G.Remove,path:u,value:a}),s.unshift({op:G.Add,path:u,value:a})}l+=1}),l=0,t.forEach(a=>{if(!e.has(a)){const c=n.concat([l]),u=an(c,i);r.push({op:G.Add,path:u,value:a}),s.unshift({op:G.Remove,path:u,value:a})}l+=1})}function Jr(e,t,n,r){const{pathAsArray:s=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return xv(e,t,n,r,s);case 1:return vv(e,t,n,r,s);case 3:return wv(e,t,n,r,s)}}const yi=(e,t,n=!1)=>{if(typeof e=="object"&&e!==null&&(!lt(e,t)||n))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},No={get size(){return Me(A(this)).size},has(e){return Me(A(this)).has(e)},set(e,t){const n=A(this),r=Me(n);return(!r.has(e)||!jt(r.get(e),t))&&(ye(n),ft(n),n.assignedMap.set(e,!0),n.copy.set(e,t),Qa(n,e,t,Jr)),this},delete(e){if(!this.has(e))return!1;const t=A(this);return ye(t),ft(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=A(this);if(this.size){ye(e),ft(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const n=A(this);Me(n).forEach((r,s)=>{e.call(t,this.get(s),s,this)})},get(e){var t,n;const r=A(this),s=Me(r).get(e),i=((n=(t=r.options).mark)===null||n===void 0?void 0:n.call(t,s,ze))===ze.mutable;if(r.options.strict&&yi(s,r.options,i),i||r.finalized||!lt(s,r.options)||s!==r.original.get(e))return s;const l=$a.createDraft({original:s,parentDraft:r,key:e,finalities:r.finalities,options:r.options});return ye(r),r.copy.set(e,l),l},keys(){return Me(A(this)).keys()},values(){const e=this.keys();return{[$s]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[$s]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}},[$s](){return this.entries()}},bv=Reflect.ownKeys(No),Cu=(e,t,{isValuesIterator:n})=>()=>{var r,s;const i=t.next();if(i.done)return i;const l=i.value;let a=e.setMap.get(l);const c=A(a),u=((s=(r=e.options).mark)===null||s===void 0?void 0:s.call(r,a,ze))===ze.mutable;if(e.options.strict&&yi(l,e.options,u),!u&&!c&&lt(l,e.options)&&!e.finalized&&e.original.has(l)){const d=$a.createDraft({original:l,parentDraft:e,key:l,finalities:e.finalities,options:e.options});e.setMap.set(l,d),a=d}else c&&(a=c.proxy);return{done:!1,value:n?a:[a,a]}},vi={get size(){return A(this).setMap.size},has(e){const t=A(this);if(t.setMap.has(e))return!0;ye(t);const n=A(e);return!!(n&&t.setMap.has(n.original))},add(e){const t=A(this);return this.has(e)||(ye(t),ft(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),Qa(t,e,e,Jr)),this},delete(e){if(!this.has(e))return!1;const t=A(this);ye(t),ft(t);const n=A(e);return n&&t.setMap.has(n.original)?(t.assignedMap.set(n.original,!1),t.setMap.delete(n.original)):(!n&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=A(this);ye(e),ft(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=A(this);ye(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:Cu(e,t,{isValuesIterator:!0})}},entries(){const e=A(this);ye(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:Cu(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[$s](){return this.values()},forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}};Set.prototype.difference&&Object.assign(vi,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const jv=Reflect.ownKeys(vi),Ph={get(e,t,n){var r,s;const i=(r=e.copy)===null||r===void 0?void 0:r[t];if(i&&e.finalities.draftsCache.has(i))return i;if(t===kh)return e;let l;if(e.options.mark){const u=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,n);if(l=e.options.mark(u,ze),l===ze.mutable)return e.options.strict&&yi(u,e.options,!0),u}const a=Me(e);if(a instanceof Map&&bv.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(No,"size").get.call(e.proxy):No[t].bind(e.proxy);if(a instanceof Set&&jv.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(vi,"size").get.call(e.proxy):vi[t].bind(e.proxy);if(!Pr(a,t)){const u=ku(a,t);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(e.proxy):void 0}const c=a[t];if(e.options.strict&&yi(c,e.options),e.finalized||!lt(c,e.options))return c;if(c===xl(e.original,t)){if(ye(e),e.copy[t]=qa({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof l=="function"){const u=A(e.copy[t]);return ye(u),ft(u),u.copy}return e.copy[t]}return Jt(c)&&e.finalities.draftsCache.add(c),c},set(e,t,n){var r;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let s;if(e.type===1&&t!=="length"&&!(Number.isInteger(s=Number(t))&&s>=0&&(t===0||s===0||String(s)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const i=ku(Me(e),t);if(i!=null&&i.set)return i.set.call(e.proxy,n),!0;const l=xl(Me(e),t),a=A(l);return a&&jt(a.original,n)?(e.copy[t]=n,e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.set(t,!1),!0):(jt(n,l)&&(n!==void 0||Pr(e.original,t))||(ye(e),ft(e),Pr(e.original,t)&&jt(n,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=n,Qa(e,t,n,Jr)),!0)},has(e,t){return t in Me(e)},ownKeys(e){return Reflect.ownKeys(Me(e))},getOwnPropertyDescriptor(e,t){const n=Me(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var n;return e.type===1?Ph.set.call(this,e,t,void 0,e.proxy):(xl(e.original,t)!==void 0||t in e.original?(ye(e),ft(e),e.assignedMap.set(t,!1)):(e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function qa(e){const{original:t,parentDraft:n,key:r,finalities:s,options:i}=e,l=bn(t),a={type:l,finalized:!1,parent:n,original:t,copy:null,proxy:null,finalities:s,options:i,setMap:l===3?new Map(t.entries()):void 0};(r||"key"in e)&&(a.key=r);const{proxy:c,revoke:u}=Proxy.revocable(l===1?Object.assign([],a):a,Ph);if(s.revoke.push(u),a.proxy=c,n){const d=n;d.finalities.draft.push((f,m)=>{var v,x;const y=A(c);let S=d.type===3?d.setMap:d.copy;const g=Ct(S,r),p=A(g);if(p){let h=p.original;p.operated&&(h=Va(g)),_o(p),ko(p,Jr,f,m),d.options.enableAutoFreeze&&(d.options.updatedValues=(v=d.options.updatedValues)!==null&&v!==void 0?v:new WeakMap,d.options.updatedValues.set(h,p.original)),rs(S,r,h)}(x=y.callbacks)===null||x===void 0||x.forEach(h=>{h(f,m)})})}else{const d=A(c);d.finalities.draft.push((f,m)=>{_o(d),ko(d,Jr,f,m)})}return c}$a.createDraft=qa;function Sv(e,t,n,r,s){var i;const l=A(e),a=(i=l==null?void 0:l.original)!==null&&i!==void 0?i:e,c=!!t.length;if(l!=null&&l.operated)for(;l.finalities.draft.length>0;)l.finalities.draft.pop()(n,r);const u=c?t[0]:l?l.operated?l.copy:l.original:e;return l&&So(l),s&&_n(u,u,l==null?void 0:l.options.updatedValues),[u,n&&c?[{op:G.Replace,path:[],value:t[0]}]:n,r&&c?[{op:G.Replace,path:[],value:a}]:r]}function _v(e,t){var n;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let s,i;t.enablePatches&&(s=[],i=[]);const a=((n=t.mark)===null||n===void 0?void 0:n.call(t,e,ze))===ze.mutable||!lt(e,t)?e:qa({original:e,parentDraft:null,finalities:r,options:t});return[a,(c=[])=>{const[u,d,f]=Sv(a,c,s,i,t.enableAutoFreeze);return t.enablePatches?[u,d,f]:u}]}function Co(e){const{rootDraft:t,value:n,useRawReturn:r=!1,isRoot:s=!0}=e;Ha(n,(i,l,a)=>{const c=A(l);if(c&&t&&c.finalities===t.finalities){e.isContainDraft=!0;const u=c.original;if(a instanceof Set){const d=Array.from(a);a.clear(),d.forEach(f=>a.add(i===f?u:f))}else rs(a,i,u)}else typeof l=="object"&&l!==null&&(e.value=l,e.isRoot=!1,Co(e))}),s&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function Oh(e){var t;const n=A(e);if(!lt(e,n==null?void 0:n.options))return e;const r=bn(e);if(n&&!n.operated)return n.original;let s;function i(){s=r===2?Wa(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):r===3?Array.from(n.setMap.values()):Ch(e,n==null?void 0:n.options)}if(n){n.finalized=!0;try{i()}finally{n.finalized=!1}}else s=e;if(Ha(s,(l,a)=>{if(n&&jt(Ct(n.original,l),a))return;const c=Oh(a);c!==a&&(s===e&&i(),rs(s,l,c))}),r===3){const l=(t=n==null?void 0:n.original)!==null&&t!==void 0?t:s;return Ba(l)?new Set(s):new(Object.getPrototypeOf(l)).constructor(s)}return s}function Eu(e){if(!Jt(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return Oh(e)}const kv=e=>function t(n,r,s){var i,l,a;if(typeof n=="function"&&typeof r!="function")return function(j,...b){return t(j,k=>n.call(this,k,...b),r)};const c=n,u=r;let d=s;if(typeof r!="function"&&(d=r),d!==void 0&&Object.prototype.toString.call(d)!=="[object Object]")throw new Error(`Invalid options: ${d}, 'options' should be an object.`);d=Object.assign(Object.assign({},e),d);const f=Jt(c)?Eu(c):c,m=Array.isArray(d.mark)?(j,b)=>{for(const k of d.mark){if(typeof k!="function")throw new Error(`Invalid mark: ${k}, 'mark' should be a function.`);const N=k(j,b);if(N)return N}}:d.mark,v=(i=d.enablePatches)!==null&&i!==void 0?i:!1,x=(l=d.strict)!==null&&l!==void 0?l:!1,S={enableAutoFreeze:(a=d.enableAutoFreeze)!==null&&a!==void 0?a:!1,mark:m,strict:x,enablePatches:v};if(!lt(f,S)&&typeof f=="object"&&f!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[g,p]=_v(f,S);if(typeof r!="function"){if(!lt(f,S))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[g,p]}let h;try{h=u(g)}catch(j){throw So(A(g)),j}const w=j=>{const b=A(g);if(!Jt(j)){if(j!==void 0&&!jt(j,g)&&(b!=null&&b.operated))throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const N=j==null?void 0:j[hv];if(N){const M=N[0];return S.strict&&typeof j=="object"&&j!==null&&Co({rootDraft:b,value:j,useRawReturn:!0}),p([M])}if(j!==void 0)return typeof j=="object"&&j!==null&&Co({rootDraft:b,value:j}),p([j])}if(j===g||j===void 0)return p([]);const k=A(j);if(S===k.options){if(k.operated)throw new Error("Cannot return a modified child draft.");return p([Eu(j)])}return p([j])};return h instanceof Promise?h.then(w,j=>{throw So(A(g)),j}):w(h)},Eo=kv();Object.prototype.constructor.toString();function Th(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&Object.keys(e).every(s=>t.hasOwnProperty(s))}function Pu(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n])}function Ws(e,t){return typeof e!="object"||typeof t!="object"||e===null||t===null?e===t:Th(e,t)?Object.keys(e).every(n=>Ws(e[n],t[n])):!1}function Mh(e){if(!xr(e))return e;const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function Ih(e,t){if(!xr(e)||!xr(t))return t;const n=Object.assign({},e);for(const r of Object.keys(t)){if(t[r]===void 0)continue;if(t[r]===null){delete n[r];continue}const s=xr(e[r])&&xr(t[r]);n[r]=s?Ih(e[r],t[r]):t[r]}return n}function xr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Nv(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let i=0;i<t.length-1;i++){const l=t[i];(!(l in r)||typeof r[l]!="object")&&(r[l]=typeof t[i+1]=="number"?[]:{}),r=r[l]}const s=t[t.length-1];Array.isArray(r)&&typeof s=="number"?r.splice(s,0,n):r[s]=n}function Ou(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let s=0;s<t.length-1;s++){const i=t[s];(!(i in r)||typeof r[i]!="object")&&(r[i]=typeof t[s+1]=="number"?[]:{}),r=r[i]}r[t[t.length-1]]=n}function Lh(e,t){if(!e||t.length===0)return;const[n,...r]=t;if(n in e){if(r.length===0){Array.isArray(e)?e.splice(n,1):delete e[n];return}Lh(e[n],r),Cv(e[n])&&delete e[n]}}function Cv(e){return e&&Object.keys(e).length===0}function Ev(e){return e.cardinality==="one"}function Ka(e){return e["value-type"]==="ref"}function Ga(e){return e["value-type"]==="blob"}function Ui(e,t){return e[t]}function Ja(e,t){return t.reduce((n,r)=>n&&n.get(r),e)}function et(e,t){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.delete(t[0]);return}const[n,...r]=t;e.has(n)&&et(e.get(n),r)}function _e(e,t,n){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.set(t[0],n);return}const[r,...s]=t;let i=e.get(r);i||(i=new Map,e.set(r,i)),_e(i,s,n)}function Rh(e,t){const n=new Map,r=new Map,s=new Map;for(const i of t){const[l,a,c,u]=i,d=Ui(e,a);if(!d){console.warn("no such attr",l,e);continue}Ka(d)&&_e(s,[c,a,l],i),_e(n,[l,a,c],i),_e(r,[a,l,c],i)}return{eav:n,aev:r,vae:s}}function Ah(e){const t=new Map,n=new Map,r=new Map,s=new Map;for(const i of Object.values(e)){const l=i["forward-identity"],[a,c,u]=l,d=i["reverse-identity"];if(_e(r,[c,u],i),Ga(i)&&_e(t,[c,u],i),i["primary?"]&&_e(n,[c],i),d){const[f,m,v]=d;_e(s,[m,v],i)}}return{blobAttrs:t,primaryKeys:n,forwardIdents:r,revIdents:s}}function Pv(e){return{__type:e.__type,attrs:e.attrs,triples:Le(e.eav,3),cardinalityInference:e.cardinalityInference,linkIndex:e.linkIndex}}function Ov(e){return Po(e.attrs,e.triples,e.cardinalityInference,e.linkIndex)}function Ya(e){e.attrIndexes=Ah(e.attrs)}function Po(e,t,n,r){const s=Rh(e,t);return s.attrs=e,s.attrIndexes=Ah(e),s.cardinalityInference=n,s.linkIndex=r,s.__type="store",s}function $i(e,t){var n,r;let s;if(Array.isArray(t[0])){const[l,a]=t[0],c=e.aev.get(l);if(!c)return null;s=(n=Le(c,2).find(d=>d[2]===a))===null||n===void 0?void 0:n[0]}else s=t[0];if(!s)return null;const i=t[2];if(Array.isArray(i)&&i.length===2&&e.aev.get(i[0])){const[l,a]=i,c=e.aev.get(l);if(!c)return null;const d=(r=Le(c,2).find(y=>y[2]===a))===null||r===void 0?void 0:r[0];if(!d)return null;const[f,m,v,...x]=t;return[s,m,d,...x]}else{const[l,...a]=t;return[s,...a]}}function Tv(e,t){const n=$i(e,t);if(!n)return;const[r,s,i]=n,l=Ui(e.attrs,s);l&&(et(e.eav,[r,s,i]),et(e.aev,[s,r,i]),Ka(l)&&et(e.vae,[i,s,r]))}let Mv=0;function zh(e,t,n){const[r,s,i]=n;let l;const a=Ja(e.ea,[r,s,i]);return a&&(l=a[3]),l||Date.now()*10+Mv++}function Iv(e,t){var n;const r=$i(e,t);if(!r)return;const[s,i,l]=r,a=Ui(e.attrs,i);if(!a)return;const c=Ja(e.eav,[s,i,l]),u=(n=c==null?void 0:c[3])!==null&&n!==void 0?n:zh(e,a,r),d=[s,i,l,u];Ev(a)?(_e(e.eav,[s,i],new Map([[l,d]])),_e(e.aev,[i,s],new Map([[l,d]]))):(_e(e.eav,[s,i,l],d),_e(e.aev,[i,s,l],d)),Ka(a)&&_e(e.vae,[l,i,s],d)}function Lv(e,t){var n;const r=$i(e,t);if(!r)return;const[s,i,l]=r,a=Ui(e.attrs,i);if(!a)return;if(!Ga(a))throw new Error("merge operation is not supported for links");const c=Ja(e.eav,[s,i]);if(!c)return;const u=(n=c.values().next())===null||n===void 0?void 0:n.value;if(!u)return;const d=u[2],f=Ih(d,l),m=[s,i,f,zh(e,a,u)];_e(e.eav,[s,i],new Map([[f,m]]))}function Oo(e,t){var n,r;const[s,i]=t,l=$i(e,[s]);if(!l)return;const[a]=l,c=e.eav.get(a);if(c){for(const d of c.keys()){const f=e.attrs[d];f&&f["on-delete-reverse"]==="cascade"&&Le(c.get(d),1).forEach(([m,v,x])=>{var y;return Oo(e,[x,(y=f["reverse-identity"])===null||y===void 0?void 0:y[1]])}),(!i||!f||((n=f["forward-identity"])===null||n===void 0?void 0:n[1])===i)&&(et(e.aev,[d,a]),et(e.eav,[a,d]))}c.size===0&&et(e.eav,[a])}const u=e.vae.get(a)&&Le(e.vae.get(a),2);u&&u.forEach(d=>{var f,m;const[v,x,y]=d,S=e.attrs[x];(!i||!S||((f=S["reverse-identity"])===null||f===void 0?void 0:f[1])===i)&&(et(e.eav,[v,x,y]),et(e.aev,[x,v,y]),et(e.vae,[y,x,v])),S&&S["on-delete"]==="cascade"&&Oo(e,[v,(m=S["forward-identity"])===null||m===void 0?void 0:m[1]])}),((r=e.vae.get(a))===null||r===void 0?void 0:r.size)===0&&et(e.vae,[a])}function Fh(e,t){const n=Rh(e.attrs,t);Object.keys(n).forEach(r=>{e[r]=n[r]})}function Rv(e,[t]){e.attrs[t.id]=t,Ya(e)}function Dh(e){return Le(e.eav,3)}function Av(e,[t]){if(!e.attrs[t])return;const n=Dh(e).filter(([r,s])=>s!==t);delete e.attrs[t],Ya(e),Fh(e,n)}function zv(e,[t]){const n=e.attrs[t.id];n&&(e.attrs[t.id]=Object.assign(Object.assign({},n),t),Ya(e),Fh(e,Dh(e)))}function Fv(e,t){const[n,...r]=t;switch(n){case"add-triple":Iv(e,r);break;case"deep-merge-triple":Lv(e,r);break;case"retract-triple":Tv(e,r);break;case"delete-entity":Oo(e,r);break;case"add-attr":Rv(e,r);break;case"delete-attr":Av(e,r);break;case"update-attr":zv(e,r);break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${n}`)}}function Le(e,t,n=[]){if(!e||t===0)return n;if(t===1){for(const r of e.values())n.push(r);return n}for(const r of e.values())Le(r,t-1,n);return n}function _s(e,t,n){var r,s;const i=[];if(n!=null&&n.hasOwnProperty("$not")){for(const a of t.keys())n.$not!==a&&i.push(t.get(a));return i}if(n!=null&&n.hasOwnProperty("$isNull")){const{attrId:a,isNull:c,reverse:u}=n.$isNull;if(u)for(const d of t.keys()){const f=e.vae.get(d),m=!f||((r=f.get(a))===null||r===void 0?void 0:r.get(null))||!f.get(a);(c?m:!m)&&i.push(t.get(d))}else{const d=e.aev.get(a);for(const f of t.keys()){const m=!d||((s=d.get(f))===null||s===void 0?void 0:s.get(null))||!d.get(f);(c?m:!m)&&i.push(t.get(f))}}return i}if(n!=null&&n.$comparator)return Le(t,1).filter(n.$op);const l=n.in||n.$in||[n];for(const a of l){const c=t.get(a);c&&i.push(c)}return i}function Dv(e,t,n){let r="";return e!==void 0&&(r+="e"),t!==void 0&&(r+="a"),n!==void 0&&(r+="v"),r}function Uv(e,[t,n,r]){var s,i;switch(Dv(t,n,r)){case"e":{const a=e.eav.get(t);return Le(a,2)}case"ea":{const a=(s=e.eav.get(t))===null||s===void 0?void 0:s.get(n);return Le(a,1)}case"eav":{const a=(i=e.eav.get(t))===null||i===void 0?void 0:i.get(n);return a?_s(e,a,r):[]}case"ev":{const a=e.eav.get(t);if(!a)return[];const c=[];for(const u of a.values())c.push(..._s(e,u,r));return c}case"a":{const a=e.aev.get(n);return Le(a,2)}case"av":{const a=e.aev.get(n);if(!a)return[];const c=[];for(const u of a.values())c.push(..._s(e,u,r));return c}case"v":{const a=[];for(const c of e.eav.values())for(const u of c.values())a.push(..._s(e,u,r))}default:return Le(e.eav,3)}}function $v(e,t,n){var r;const s={};for(const[i,l]of t.entries()){const a=(r=e.eav.get(n))===null||r===void 0?void 0:r.get(l.id),c=Le(a,1);for(const u of c)s[i]=u[2]}return s}function Zn(e,t,n){var r;return(r=e.attrIndexes.forwardIdents.get(t))===null||r===void 0?void 0:r.get(n)}function Uh(e,t,n){var r;return(r=e.attrIndexes.revIdents.get(t))===null||r===void 0?void 0:r.get(n)}function Bv(e,t){return e.attrIndexes.blobAttrs.get(t)}function Wv(e,t){var n;const r=e.attrIndexes.primaryKeys.get(t);return r||((n=e.attrIndexes.forwardIdents.get(t))===null||n===void 0?void 0:n.get("id"))}function Tu(e,t){return Eo(e,n=>{t.forEach(r=>{Fv(n,r)})})}function Vv(e){return typeof e=="string"&&e.startsWith("?")}function Hv(e,t,n){if(n.hasOwnProperty(e)){const r=n[e];return $h(r,t,n)}return Object.assign(Object.assign({},n),{[e]:t})}function Mu(e,t,n){return e===t?n:null}function Qv(e){switch(typeof e){case"string":return e.startsWith("?")?Hv:Mu;default:return Mu}}const qv=["in","$in","$not","$isNull","$comparator"];function Kv(e){for(const t of qv)if(e.hasOwnProperty(t))return!0;return!1}function $h(e,t,n){return n?typeof e=="object"?Kv(e)?n:null:Qv(e)(e,t,n):null}function Gv(e,t,n){return e.reduce((r,s,i)=>{const l=t[i];return $h(s,l,r)},n)}function Jv(e,t,n){return Zv(e,t,n).map(r=>Gv(t,r,n)).filter(r=>r)}function Yv(e,t,n){return t.or?t.or.patterns.flatMap(r=>To(e,r,n)):t.and?t.and.patterns.reduce((r,s)=>To(e,s,r),n):n.flatMap(r=>Jv(e,t,r))}function To(e,t,n=[{}]){return t.reduce((r,s)=>Yv(e,s,r),n)}function Xa(e,t){return Array.isArray(t)?t.map(n=>Xa(e,n)):Vv(t)?e[t]:t}function Xv(e,{find:t,where:n}){return To(e,n).map(s=>Xa(s,t))}function Zv(e,t,n){return Uv(e,Xa(n,t))}let ks;const e0=new Uint8Array(16);function t0(){if(!ks&&(ks=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ks))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ks(e0)}const oe=[];for(let e=0;e<256;++e)oe.push((e+256).toString(16).slice(1));function n0(e,t=0){return oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]}const r0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Iu={randomUUID:r0};function s0(e,t,n){if(Iu.randomUUID&&!e)return Iu.randomUUID();e=e||{};const r=e.random||(e.rng||t0)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,n0(r)}function Lu(e){const t=e.replace(/-/g,""),n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));return n}function i0(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function l0(e,t){return i0(Lu(e),Lu(t))}function he(){return s0()}let o0=0;function Or(e){return Bi(`_${e}`,o0++)}function Bi(e,t){return`?${e}-${t}`}class er extends Error{constructor(t){super(t),this.name="AttrNotFoundError"}}function a0(e,t){const n=Wv(e,t);if(!n)throw new er(`Could not find id attr for ${t}`);return n}function Ru(e,t,n,r){return[c0(e,t,n,r)]}function c0(e,t,n,r){return[e(n,r),a0(t,n).id,e(n,r),e("time",r)]}function u0(e,t,n){return e.map(r=>r===t?n:r)}function Bh(e,t,n,r,s){const i=Zn(t,n,s),l=Uh(t,n,s),a=i||l;if(!a)throw new er(`Could not find attr for ${[n,s]}`);if(a["value-type"]!=="ref")throw new Error(`Attr ${a.id} is not a ref`);const[c,u]=a["forward-identity"],[d,f]=a["reverse-identity"],m=r+1,v=i?[e(u,r),a.id,e(f,m),Or("time")]:[e(u,m),a.id,e(f,r),Or("time")];return[i?f:u,m,v,a,!!i]}function Au(e,t){if(typeof t!="string")return function(l){return!1};const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),s=new RegExp(`^${r}$`,e?void 0:"i");return function(l){return typeof l!="string"?!1:s.test(l)}}function d0(e,t){if(typeof t!="object"||t.hasOwnProperty("$in")||t.hasOwnProperty("in"))return t;const n=e["checked-data-type"]==="date";if(t.hasOwnProperty("$gt"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])>new Date(t.$gt)}:function(s){return s[2]>t.$gt}};if(t.hasOwnProperty("$gte"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])>=new Date(t.$gte)}:function(s){return s[2]>=t.$gte}};if(t.hasOwnProperty("$lt"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])<new Date(t.$lt)}:function(s){return s[2]<t.$lt}};if(t.hasOwnProperty("$lte"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])<=new Date(t.$lte)}:function(s){return s[2]<=t.$lte}};if(t.hasOwnProperty("$like")){const r=Au(!0,t.$like);return{$comparator:!0,$op:function(i){return r(i[2])}}}if(t.hasOwnProperty("$ilike")){const r=Au(!1,t.$ilike);return{$comparator:!0,$op:function(i){return r(i[2])}}}return t}function f0(e,t,n,r,s,i){const l=Zn(t,n,s),a=Uh(t,n,s),c=l||a;if(!c)throw new er(`No attr for etype = ${n} label = ${s}`);if(i!=null&&i.hasOwnProperty("$isNull")){const u=Zn(t,n,"id");if(!u)throw new er(`No attr for etype = ${n} label = id`);return[e(n,r),u.id,{$isNull:{attrId:c.id,isNull:i.$isNull,reverse:!l}},Or("time")]}return l?[e(n,r),c.id,d0(c,i),Or("time")]:[i,c.id,e(n,r),Or("time")]}function h0(e,t,n,r,s){const[i,l,a]=s.reduce((c,u)=>{const[d,f,m]=c,[v,x,y]=Bh(e,t,d,f,u);return[v,x,[...m,y]]},[n,r,[]]);return[i,l,a]}function Mo(e,t,n,r,s,i){const l=s.slice(0,s.length-1),a=s[s.length-1],[c,u,d]=h0(e,t,n,r,l),f=f0(e,t,c,u,a,i);return d.concat([f])}function p0(e,t){return t?[t].concat(e):e}function m0([e,t]){return e==="or"&&Array.isArray(t)}function g0([e,t]){return e==="and"&&Array.isArray(t)}function y0(e,t,n){return(r,s)=>{const i=e(r,s);return t==i?i:`${i}-${n}`}}function zu(e,t,n,r,s,i){const l=e(r,s),a=i.map((c,u)=>{const d=y0(e,l,u);return Wh(d,n,r,s,c)});return{[t]:{patterns:a,joinSym:l}}}function v0(e){const t=[];for(let n=1;n<=e.length;n++)t.push(e.slice(0,n));return t}function Fu(e,t,n,r,s){return v0(s).map(i=>Mo(e,t,n,r,i,{$isNull:!0}))}function Wh(e,t,n,r,s){return Object.entries(s).flatMap(([i,l])=>{if(m0([i,l]))return zu(e,"or",t,n,r,l);if(g0([i,l]))return zu(e,"and",t,n,r,l);if(i==="$entityIdStartsWith")return[];const a=i.split(".");if(l!=null&&l.hasOwnProperty("$not")){const c=Mo(e,t,n,r,a,l),u=Fu(e,t,n,r,a);return[{or:{patterns:[c,...u],joinSym:e(n,r)}}]}return l!=null&&l.hasOwnProperty("$isNull")&&l.$isNull===!0&&a.length>1?[{or:{patterns:Fu(e,t,n,r,a),joinSym:e(n,r)}}]:Mo(e,t,n,r,a,l)})}function x0(e,t,n,r){const s=Bi;return r?Wh(s,e,t,n,r).concat(Ru(s,e,t,n)):Ru(s,e,t,n)}function w0(e,t,n){return[e(t,n),e("time",n)]}function b0(e,t,n,r,s,i){const[l,a,c,u,d]=Bh(e,t,n,r,s),f=u0(c,e(n,r),i);return[l,a,f,u,d]}function j0(e,t,{etype:n,level:r,form:s},i){const l=Object.keys(s).filter(a=>a!=="$");return l.length?Object.entries(i).map(function([c,u]){return l.map(function(m){var v,x,y;const S=!!(t.cardinalityInference&&(!((y=(x=(v=t.linkIndex)===null||v===void 0?void 0:v[n])===null||x===void 0?void 0:x[m])===null||y===void 0)&&y.isSingular));try{const[g,p,h]=b0(e,t,n,r,m,c),w=Vh(t,{etype:g,level:p,form:s[m],join:h}),j=S?w[0]:w;return{[m]:j}}catch(g){if(g instanceof er)return{[m]:S?void 0:[]};throw g}}).reduce(function(m,v){return Object.assign(Object.assign({},m),v)},u)}):Object.values(i)}function xi([e,t],[n,r]){return t===r||t==null&&r==null?l0(e,n):r==null?1:t==null?-1:t>r?1:-1}function Io(e){return e==null?e:new Date(e).getTime()}function S0(e,t,n,r){var s;const[i,l,a,c]=e,u=n==="desc"?1:-1;if(((s=t["forward-identity"])===null||s===void 0?void 0:s[2])==="id")return xi(r,[i,c])===u;const[d,f]=r,m=t["checked-data-type"]==="date"?Io(f):f,v=t["checked-data-type"]==="date"?Io(a):a;return xi([d,m],[i,v])===u}function _0(e,t){const n=t[1];return e.attrs[n]}function k0(e,t,n){const r=Object.keys(n)[0];return Zn(e,t,r)}function N0(e,t,n,r){if(n)return _0(e,n);if(r)return k0(e,t,r)}function C0(e,t,n){var r,s;if(!Array.isArray(n.fields))return Bv(e,t);const i=new Map;for(const l of n.fields){const a=Zn(e,t,l),c=(r=a==null?void 0:a["forward-identity"])===null||r===void 0?void 0:r[2];c&&Ga(a)&&i.set(c,a)}if(!i.has("id")){const l=Zn(e,t,"id"),a=(s=l==null?void 0:l["forward-identity"])===null||s===void 0?void 0:s[2];a&&i.set(a,l)}return i}function E0(e,t,n,r,s,i){var l;let a=Xv(e,i);const c=r==null?void 0:r["start-cursor"],u=N0(e,t,c,s);if(u&&((l=u==null?void 0:u["forward-identity"])===null||l===void 0?void 0:l[2])!=="id"){const m=u["checked-data-type"]==="date",v=u.id;a=a.map(([x])=>{var y,S,g,p,h;let w=(h=(p=(g=(S=(y=e.eav.get(x))===null||y===void 0?void 0:y.get(v))===null||S===void 0?void 0:S.values())===null||g===void 0?void 0:g.next())===null||p===void 0?void 0:p.value)===null||h===void 0?void 0:h[2];return m&&(w=Io(w)),[x,w]})}a.sort(n==="asc"?function(v,x){return xi(v,x)}:function(v,x){return xi(x,v)});let d={};const f=C0(e,t,i);for(const m of a){const[v]=m;if(d[v]||c&&u&&S0(c,u,n,m))continue;const x=$v(e,f,v);x&&(d[v]=x)}return d}function P0(e){var t;const n=(t=e.$)===null||t===void 0?void 0:t.order;return n&&n[Object.keys(n)[0]]||"asc"}function O0(e,{etype:t,level:n,form:r,join:s,pageInfo:i}){var l,a,c,u,d,f,m,v,x;const y=((l=r.$)===null||l===void 0?void 0:l.limit)||((a=r.$)===null||a===void 0?void 0:a.first)||((c=r.$)===null||c===void 0?void 0:c.last),S=(u=r.$)===null||u===void 0?void 0:u.offset,g=(d=r.$)===null||d===void 0?void 0:d.before,p=(f=r.$)===null||f===void 0?void 0:f.after,h=(m=r.$)===null||m===void 0?void 0:m.order,w=(v=r.$)===null||v===void 0?void 0:v.fields;if((S||g||p)&&(!i||!i["start-cursor"]))return[];const j=p0(x0(e,t,n,(x=r.$)===null||x===void 0?void 0:x.where),s),b=w0(Bi,t,n),k=E0(e,t,P0(r),i,h,{where:j,find:b,fields:w});if(y!=null){const N=Object.entries(k);return N.length<=y?k:Object.fromEntries(N.slice(0,y))}return k}function T0(e,t){try{return O0(e,t)}catch(n){if(n instanceof er)return{};throw n}}function Vh(e,t){const n=T0(e,t);return j0(Bi,e,t,n)}function M0(e){const t={};for(const[n,r]of Object.entries(e))t[n]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return t}function I0({store:e,pageInfo:t,aggregate:n},r){const i={data:Object.keys(r).reduce(function(a,c){return n!=null&&n[c]||c==="$$ruleParams"||(a[c]=Vh(e,{etype:c,form:r[c],level:0,pageInfo:t==null?void 0:t[c]})),a},{})};return t&&(i.pageInfo=M0(t)),n&&(i.aggregate=n),i}function L0(){const t={__etype:1,__ops:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(t))}const R0=L0();function Lo(e,t,n){const r={__etype:e,__ops:n};return new Proxy(r,{get:(s,i)=>{if(i==="__ops")return n;if(i==="__etype")return e;if(R0.has(i))return l=>Lo(e,t,[...n,[i,e,t,l]])}})}function Ro(e){return e.startsWith("lookup__")}function Hh(e){const[t,n,...r]=e.split("__");return[n,JSON.parse(r.join("__"))]}function A0(e){return new Proxy({__etype:e},{get(t,n){if(n==="__etype")return e;const r=n;return Ro(r)?Lo(e,Hh(r),[]):Lo(e,r,[])}})}function Za(){return new Proxy({},{get(e,t){return A0(t)}})}Za();function z0(e){return e.__ops}function F0(e,t){const{attrIdMap:n,refSwapAttrIds:r}=e,s=[];for(const l of t){const a=n[l];if(a)s.push(a);else if(Array.isArray(l)&&l.length==2&&n[l[0]]){const[c,u]=l;s.push([n[c],u])}else s.push(l)}const[i]=t;if((i==="add-triple"||i==="retract-triple")&&r.has(t[2])){const l=s[1];s[1]=s[3],s[3]=l}return s}function ve(e,t,n){return Object.values(e).find(r=>{const[s,i,l]=r["forward-identity"];return i===t&&l===n})}function fn(e,t,n){return Object.values(e).find(r=>{const s=r["reverse-identity"];if(!s)return!1;const[i,l,a]=s;return l===t&&a===n})}function D0(e){if(Array.isArray(e))return e;const t=Object.entries(e);if(t.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return t[0]}function Ao(e,t,n){return n.indexOf(".")!==-1&&!ve(e,t,n)}function zo(e){const[t,n,...r]=e.split(".");if(r.length>0||n!=="id")throw new Error(`${e} is not a valid lookup attribute.`);return t}function U0(e,t,n){if(!Ao(e,t,n))return ve(e,t,n);const r=zo(n),s=ve(e,t,r)||fn(e,t,r);if(s&&s["value-type"]!=="ref")throw new Error(`${n} does not reference a valid link attribute.`);return s}function Fo(e){return typeof e=="string"&&!Ro(e)?null:typeof e=="string"&&Ro(e)?Hh(e):D0(e)}function Re(e,t,n){const r=Fo(n);if(r===null)return n;const[s,i]=r,l=U0(e,t,s);if(!l||!l["unique?"])throw new Error(`${s} is not a unique attribute.`);return[l.id,i]}function Qh(e,t,n,r){const s=Re(e,t,n);return Array.isArray(s)?[["add-triple",s,ve(e,t,"id").id,s]].concat(r):r}function $0(e,[t,n,r]){const s=Object.entries(r).flatMap(([i,l])=>{const a=Array.isArray(l)?l:[l],c=ve(e,t,i),u=fn(e,t,i);return a.map(d=>c?["add-triple",Re(e,t,n),c.id,Re(e,c["reverse-identity"][1],d)]:["add-triple",Re(e,u["forward-identity"][1],d),u.id,Re(e,t,n)])});return Qh(e,t,n,s)}function B0(e,[t,n,r]){const s=Object.entries(r).flatMap(([i,l])=>{const a=Array.isArray(l)?l:[l],c=ve(e,t,i),u=fn(e,t,i);return a.map(d=>c?["retract-triple",Re(e,t,n),c.id,Re(e,c["reverse-identity"][1],d)]:["retract-triple",Re(e,u["forward-identity"][1],d),u.id,Re(e,t,n)])});return Qh(e,t,n,s)}function W0(e,[t,n,r]){const s=Mh(r),i=Re(e,t,n);return[["id",i]].concat(Object.entries(s)).map(([a,c])=>{const u=ve(e,t,a);return["add-triple",i,u.id,c]})}function V0(e,[t,n]){return[["delete-entity",Re(e,t,n),t]]}function H0(e,[t,n,r]){const s=Mh(r),i=Re(e,t,n),l=Object.entries(s).map(([c,u])=>{const d=ve(e,t,c);return["deep-merge-triple",i,d.id,u]});return[["add-triple",i,ve(e,t,"id").id,i]].concat(l)}function Q0(e,[t,n,r]){return[["rule-params",Re(e,t,n),t,r]]}function q0(e){const[t,n,r,s]=e;if(!s)return e;const i=Object.assign({},s);return delete i.id,[t,n,r,i]}function K0(e,t){const[n,...r]=q0(t);switch(n){case"merge":return H0(e,r);case"update":return W0(e,r);case"link":return $0(e,r);case"unlink":return B0(e,r);case"delete":return V0(e,r);case"ruleParams":return Q0(e,r);default:throw new Error(`unsupported action ${n}`)}}function G0(e){switch(e){case"string":case"date":case"boolean":case"number":return e;default:return}}function J0(e,t,n){var r,s;const i=(s=(r=e.entities[t])===null||r===void 0?void 0:r.attrs)===null||s===void 0?void 0:s[n];if(n==="id")return null;if(!i)throw new Error(`${t}.${n} does not exist in your schema`);const{unique:l,indexed:a}=i==null?void 0:i.config,c=G0(i==null?void 0:i.valueType);return{"index?":a,"unique?":l,"checked-data-type":c}}function wl(e,t,n,r){const s=e?J0(e,t,n):null,i=he(),a=[he(),t,n];return Object.assign(Object.assign({id:i,"forward-identity":a,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},s||{}),r||{})}function Y0(e,t,n){return Object.values(e.links).find(s=>s.forward.on===t&&s.forward.label===n||s.reverse.on===t&&s.reverse.label===n)}function X0(e,t,n){const r=Y0(e,t,n);if(!r)throw new Error(`Couldn't find the link ${t}.${n} in your schema`);const{forward:s,reverse:i}=r;return{"forward-identity":[he(),s.on,s.label],"reverse-identity":[he(),i.on,i.label],cardinality:s.has==="one"?"one":"many","unique?":i.has==="one"}}function Du(e,t,n,r){const s=e?X0(e,t,n):null,i=he(),l=[he(),t,n],a=[he(),n,t];return Object.assign(Object.assign({id:i,"forward-identity":l,"reverse-identity":a,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},s||{}),r||{})}const Z0=new Set(["update","merge","link","unlink"]),ex=new Set(["link","unlink"]),tx=new Set(["update","merge"]),nx=new Set(["link","unlink","update","merge","delete","ruleParams"]),Do={"unique?":!0,"index?":!0},rx=Object.assign(Object.assign({},Do),{cardinality:"one"});function sx(e){const t=[],[n,r,s,i]=e;if(!nx.has(n))return t;const l=Fo(s);if(l&&t.push({etype:r,lookupPair:l}),n==="link")for(const[a,c]of Object.entries(i)){const u=Array.isArray(c)?c:[c];for(const d of u){const f=Fo(d);f&&t.push({etype:r,lookupPair:f,linkLabel:a})}}return t}function ix({attrs:e,schema:t},n){var r,s;const[i,l,a]=[new Set,Object.assign({},e),[]];function c(f){l[f.id]=f,a.push(["add-attr",f]),i.add(f.id)}function u(f){f!=null&&f.isUnsynced&&!i.has(f.id)&&(a.push(["add-attr",f]),i.add(f.id))}function d(f,m){const v=ve(l,f,m),x=fn(l,f,m);u(v),u(x),!v&&!x&&c(Du(t,f,m,rx))}for(const f of n)for(const{etype:m,lookupPair:v,linkLabel:x}of sx(f)){const y=v[0];if(x){d(m,x);const S=ve(l,m,x),g=fn(l,m,x);u(S),u(g);const p=((r=S==null?void 0:S["reverse-identity"])===null||r===void 0?void 0:r[1])||((s=g==null?void 0:g["forward-identity"])===null||s===void 0?void 0:s[1])||x;if(Ao(l,p,y))d(p,zo(y));else{const h=ve(l,p,y);h||c(wl(t,p,y,Do)),u(h)}}else if(Ao(l,m,y))d(m,zo(y));else{const S=ve(l,m,y);S||c(wl(t,m,y,Do)),u(S)}}for(const f of n){const[m,v,x,y]=f;if(Z0.has(m)){const S=Object.keys(y);S.push("id");for(const g of S){const p=ve(l,v,g);if(u(p),tx.has(m)&&(p||c(wl(t,v,g,g==="id"?{"unique?":!0}:null))),ex.has(m)){const h=fn(l,v,g);!p&&!h&&c(Du(t,v,g)),u(h)}}}}return[l,a]}function lx(e,t){const r=(Array.isArray(t)?t:[t]).flatMap(a=>z0(a)),[s,i]=ix(e,r),l=r.flatMap(a=>K0(s,a));return[...i,...l]}var Uu=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class qh{constructor(t){this.dbName=t,this._storeName="kv",this._dbPromise=this._init()}_init(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,1);r.onerror=s=>{n(s)},r.onsuccess=s=>{t(s.target.result)},r.onupgradeneeded=s=>{s.target.result.createObjectStore(this._storeName)}})}getItem(t){return Uu(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,s)=>{const a=n.transaction([this._storeName],"readonly").objectStore(this._storeName).get(t);a.onerror=c=>{s(c)},a.onsuccess=c=>{a.result?r(a.result):r(null)}})})}setItem(t,n){return Uu(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((s,i)=>{const c=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(n,t);c.onerror=u=>{i(u)},c.onsuccess=u=>{s()}})})}}var ox=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class Kh{static getIsOnline(){return ox(this,void 0,void 0,function*(){return navigator.onLine})}static listen(t){const n=()=>{t(!0)},r=()=>{t(!1)};return addEventListener("online",n),addEventListener("offline",r),()=>{removeEventListener("online",n),removeEventListener("offline",r)}}}var ax=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class ec extends Error{constructor(t){var n;const r=((n=t.body)===null||n===void 0?void 0:n.message)||`API Error (${t.status})`;super(r);const s=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,ec),this.name="InstantAPIError",this.status=t.status,this.body=t.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function ht(e,t){return ax(this,void 0,void 0,function*(){const n=yield fetch(e,t),r=yield n.json();return n.status===200?Promise.resolve(r):Promise.reject(new ec({status:n.status,body:r}))})}var ss=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function cx({apiURI:e,appId:t,email:n}){return ht(`${e}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":t,email:n})})}function ux(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,email:r,code:s}){return yield ht(`${t}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,email:r,code:s})})})}function dx(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield ht(`${t}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,"refresh-token":r})})})}function $u(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,code:r,codeVerifier:s}){return yield ht(`${t}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,code:r,code_verifier:s})})})}function fx(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,nonce:r,idToken:s,clientName:i,refreshToken:l}){return yield ht(`${t}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,nonce:r,id_token:s,client_name:i,refresh_token:l})})})}function hx(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield ht(`${t}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,refresh_token:r})})})}var is=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};function px(e){return is(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,file:s,refreshToken:i,contentType:l,contentDisposition:a}){const c={app_id:n,path:r,authorization:`Bearer ${i}`,"content-type":l||s.type};return a&&(c["content-disposition"]=a),yield ht(`${t}/storage/upload`,{method:"PUT",headers:c,body:s})})}function mx(e){return is(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:s}){const{data:i}=yield ht(`${t}/storage/files?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${s}`}});return i})}function gx(e){return is(this,arguments,void 0,function*({apiURI:t,appId:n,fileName:r,refreshToken:s,metadata:i={}}){const{data:l}=yield ht(`${t}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${s}`},body:JSON.stringify({app_id:n,filename:r})});return l})}function yx(e,t){return is(this,void 0,void 0,function*(){return(yield fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})).ok})}function vx(e){return is(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:s}){const{data:i}=yield ht(`${t}/storage/signed-download-url?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${s}`}});return i})}let tc=!1,Gh=!1,Jh=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(tc=!!window.localStorage.getItem("devBackend"),Gh=!!window.localStorage.getItem("__instantLogging"),Jh=!!window.localStorage.getItem("__devtoolLocalDash"));function Bu(e,t){if(!t)return e;const n={};return t.forEach(r=>{n[r]=e[r]}),n}function xx(e,t,n){var r,s;const i={peers:{}};if(t&&"user"in t?t.user:!0){const a=Bu((r=e.user)!==null&&r!==void 0?r:{},t==null?void 0:t.keys);i.user=Object.assign(Object.assign({},a),{peerId:n})}for(const a of Object.keys((s=e.peers)!==null&&s!==void 0?s:{})){const c=(t==null?void 0:t.peers)===void 0,u=Array.isArray(t==null?void 0:t.peers)&&(t==null?void 0:t.peers.includes(a));if(c||u){const d=Bu(e.peers[a],t==null?void 0:t.keys);i.peers[a]=Object.assign(Object.assign({},d),{peerId:a})}}return i}function wx(e,t){if(e.isLoading!==t.isLoading||e.error!==t.error||(e.user||t.user)&&(!e.user||!t.user||!Pu(e.user,t.user))||!Th(e.peers,t.peers))return!0;for(const r of Object.keys(e.peers))if(!Pu(e.peers[r],t.peers[r]))return!0;return!1}class Wu{constructor(){this.promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}var Ns=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};class Vu{constructor(t,n,r,s,i=c=>JSON.stringify(c),l=c=>JSON.parse(c),a=100){this._subs=[],this._persister=t,this._key=n,this._onMerge=s,this._loadedCbs=[],this._isLoading=!0,this.currentValue=r,this.toJSON=i,this.fromJSON=l,this._saveThrottleMs=a,this._pendingSaveCbs=[],this._version=0,this._load()}_load(){return Ns(this,void 0,void 0,function*(){const t=this.fromJSON(yield this._persister.getItem(this._key));this._isLoading=!1,this._onMerge(t,this.currentValue);for(const n of this._loadedCbs)n()})}waitForLoaded(){return Ns(this,void 0,void 0,function*(){if(!this._isLoading)return;yield new Promise(n=>{this._loadedCbs.push(n)})})}isLoading(){return this._isLoading}version(){return this._version}waitForSync(){return Ns(this,void 0,void 0,function*(){if(!this._nextSave)return;yield new Promise(n=>{this._pendingSaveCbs.push(n)})})}_writeToStorage(){this._persister.setItem(this._key,this.toJSON(this.currentValue));for(const t of this._pendingSaveCbs)t();this._pendingSaveCbs.length=0}flush(){return Ns(this,void 0,void 0,function*(){this._nextSave&&(clearTimeout(this._nextSave),this._writeToStorage())})}_enqueuePersist(t){if(this._nextSave){t&&this._pendingSaveCbs.push(t);return}this._nextSave=setTimeout(()=>{this._nextSave=null,this._writeToStorage()},this._saveThrottleMs)}set(t,n){this._version++,this.currentValue=t(this.currentValue),this._isLoading?this._loadedCbs.push(()=>this._enqueuePersist(n)):this._enqueuePersist(n);for(const r of this._subs)r(this.currentValue)}subscribe(t){return this._subs.push(t),t(this.currentValue),()=>{this._subs=this._subs.filter(n=>n!==t)}}}function Yh(e,t=[]){e.forEach(n=>{const{data:r}=n,{"datalog-result":s}=r,{"join-rows":i}=s;for(const l of i)for(const a of l)t.push(a);Yh(n["child-nodes"],t)})}function Hu(e){const t=[];return Yh(e,t),t}function bx(e){return Object.values(e.links).reduce((t,n)=>{var r,s,i,l;return(r=t[i=n.forward.on])!==null&&r!==void 0||(t[i]={}),t[n.forward.on][n.forward.label]={isForward:!0,isSingular:n.forward.has==="one",link:n},(s=t[l=n.reverse.on])!==null&&s!==void 0||(t[l]={}),t[n.reverse.on][n.reverse.label]={isForward:!1,isSingular:n.reverse.has==="one",link:n},t},{})}const Xh="v0.18.10";function jx(e){return{info:e?console.info.bind(console):()=>{},debug:e?console.debug.bind(console):()=>{},error:e?console.error.bind(console):()=>{}}}var se=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const mt={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},Sx=3e4,_x=0,Qu=1,kx={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},bl="_instant_oauth_redirect",jl="currentUser";let Nx=0;function Cx(e){const t=new WebSocket(e);return t._id=Nx++,t}function Ex(){return typeof window<"u"||typeof chrome<"u"}const qu={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function Px(e){var t;const n=JSON.parse(e);for(const r in n){const s=n[r];!((t=s==null?void 0:s.result)===null||t===void 0)&&t.store&&(s.result.store=Ov(s.result.store))}return n}function Ox(e){var t;const n={};for(const r in e){const s=e[r],i=Object.assign({},s);!((t=s.result)===null||t===void 0)&&t.store&&(i.result=Object.assign(Object.assign({},s.result),{store:Pv(s.result.store)})),n[r]=i}return JSON.stringify(n)}class Tx{constructor(t,n=qh,r=Kh,s){this._isOnline=!0,this._isShutdown=!1,this.status=mt.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._onMergeQuerySubs=(i,l)=>{const a=i||{},c=Object.assign({},l);Object.entries(l).forEach(([d,f])=>{var m;const v=(m=a==null?void 0:a[d])===null||m===void 0?void 0:m.result,x=f.result;v&&!x&&(c[d].result=v)}),Object.keys(a).filter(d=>!l[d]).slice(0,10).forEach(d=>{c[d]=a[d]}),this.querySubs.set(d=>c),this.loadedNotifyAll()},this._onMergePendingMutations=(i,l)=>{const a=new Map([...i.entries(),...l.entries()]);this.pendingMutations.set(u=>a),this.loadedNotifyAll(),this._rewriteMutations(this.attrs,i).forEach((u,d)=>{!l.has(d)&&!u["tx-id"]&&this._sendMutation(d,u)})},this.getPreviousResult=i=>{const l=Te(i);return this.dataForQuery(l)},this.notifyOne=i=>{var l,a;const c=(l=this.queryCbs[i])!==null&&l!==void 0?l:[],u=(a=this._dataForQueryCache[i])===null||a===void 0?void 0:a.data,d=this.dataForQuery(i);d&&(Ws(d,u)||c.forEach(f=>f.cb(d)))},this.notifyOneQueryOnce=i=>{var l;const a=(l=this.queryOnceDfds[i])!==null&&l!==void 0?l:[],c=this.dataForQuery(i);a.forEach(u=>{this._completeQueryOnce(u.q,i,u.dfd),u.dfd.resolve(c)})},this.notifyQueryError=(i,l)=>{(this.queryCbs[i]||[]).forEach(c=>c.cb({error:l}))},this.pushTx=i=>{try{const l=lx({attrs:this.optimisticAttrs(),schema:this.config.schema},i);return this.pushOps(l)}catch(l){return this.pushOps([],l)}},this.pushOps=(i,l)=>{const a=he(),c={op:"transact","tx-steps":i,error:l};this.pendingMutations.set(d=>(d.set(a,c),d));const u=new Wu;return this.mutationDeferredStore.set(a,u),this._sendMutation(a,c),this.notifyAll(),u.promise},this._wsOnOpen=i=>{const l=i.target;if(this._ws!==l){this._log.info("[socket][open]",l._id,"skip; this is no longer the current ws");return}this._log.info("[socket][open]",this._ws._id),this._setStatus(mt.OPENED),this.getCurrentUser().then(a=>{var c;this._trySend(he(),{op:"init","app-id":this.config.appId,"refresh-token":(c=a.user)===null||c===void 0?void 0:c.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})})},this._wsOnMessage=i=>{const l=i.target,a=JSON.parse(i.data.toString());if(this._ws!==l){this._log.info("[socket][message]",l._id,a,"skip; this is no longer the current ws");return}this._handleReceive(l._id,JSON.parse(i.data.toString()))},this._wsOnError=i=>{const l=i.target;if(this._ws!==l){this._log.info("[socket][error]",l._id,"skip; this is no longer the current ws");return}this._log.error("[socket][error]",l._id,i)},this._wsOnClose=i=>{const l=i.target;if(this._ws!==l){this._log.info("[socket][close]",l._id,"skip; this is no longer the current ws");return}this._setStatus(mt.CLOSED);for(const a of Object.values(this._rooms))a.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",l._id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",l._id,"schedule reconnect, ms =",this._reconnectTimeoutMs),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",l._id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this.config=Object.assign(Object.assign({},kx),t),this._log=jx(t.verbose||tc||Gh),this.versions=Object.assign(Object.assign({},s||{}),{"@instantdb/core":Xh}),this.config.schema&&(this._linkIndex=bx(this.config.schema)),Ex()&&(typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",i=>se(this,void 0,void 0,function*(){var l;if(((l=i.data)===null||l===void 0?void 0:l.type)==="auth"){const a=yield this.getCurrentUser();this.updateUser(a.user)}}))),this._oauthCallbackResponse=this._oauthLoginInit(),this._initStorage(n),this.getCurrentUser(),r.getIsOnline().then(i=>{this._isOnline=i,this._startSocket(),r.listen(l=>{l!==this._isOnline&&(this._log.info("[network] online =",l),this._isOnline=l,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",mt.CLOSED),this._setStatus(mt.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload)))}_initStorage(t){this._persister=new t(`instant_${this.config.appId}_5`),this.querySubs=new Vu(this._persister,"querySubs",{},this._onMergeQuerySubs,Ox,Px),this.pendingMutations=new Vu(this._persister,"pendingMutations",new Map,this._onMergePendingMutations,n=>JSON.stringify([...n.entries()]),n=>new Map(JSON.parse(n))),this._beforeUnloadCbs.push(()=>{this.pendingMutations.flush(),this.querySubs.flush()})}_beforeUnload(){for(const t of this._beforeUnloadCbs)t()}_finishTransaction(t,n,r){const s=this.mutationDeferredStore.get(n);this.mutationDeferredStore.delete(n);const i=t!=="error"&&t!=="timeout";!s&&!i&&console.error("Mutation failed",Object.assign({status:t,clientId:n},r)),s&&(i?s.resolve({status:t,clientId:n}):s.reject(Object.assign({status:t,clientId:n},r)))}_setStatus(t,n){this.status=t,this._errorMessage=n,this.notifyConnectionStatusSubs(t)}_flushEnqueuedRoomData(t){var n,r;const s=(r=(n=this._presence[t])===null||n===void 0?void 0:n.result)===null||r===void 0?void 0:r.user,i=this._broadcastQueue[t];if(this._broadcastQueue[t]=[],s&&this._trySetPresence(t,s),i)for(const l of i){const{topic:a,roomType:c,data:u}=l;this._tryBroadcast(t,c,a,u)}}_handleReceive(t,n){var r,s,i,l;const a=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch(qu[n.op]||this._log.info("[receive]",t,n.op,n),n.op){case"init-ok":this._setStatus(mt.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(n.attrs),this._flushPendingMessages(),this._sessionId=n["session-id"];for(const F of Object.keys(this._rooms))this._tryJoinRoom(F);break;case"add-query-exists":this.notifyOneQueryOnce(Te(n.q));break;case"add-query-ok":const{q:c,result:u}=n,d=Te(c),f=(s=(r=u==null?void 0:u[0])===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s["page-info"],m=(l=(i=u==null?void 0:u[0])===null||i===void 0?void 0:i.data)===null||l===void 0?void 0:l.aggregate,v=Hu(u),x=Po(this.attrs,v,a,this._linkIndex);this.querySubs.set(F=>(F[d].result={store:x,pageInfo:f,aggregate:m},F)),this.notifyOne(d),this.notifyOneQueryOnce(d);break;case"refresh-ok":const{computations:y,attrs:S}=n;this._setAttrs(S);const g=y.map(F=>{var je,Je,Pe,E;const I=F["instaql-query"],T=F["instaql-result"],V=Te(I),Y=Hu(T),jn=Po(this.attrs,Y,a,this._linkIndex),pt=(Je=(je=T==null?void 0:T[0])===null||je===void 0?void 0:je.data)===null||Je===void 0?void 0:Je["page-info"],ir=(E=(Pe=T==null?void 0:T[0])===null||Pe===void 0?void 0:Pe.data)===null||E===void 0?void 0:E.aggregate;return{hash:V,store:jn,pageInfo:pt,aggregate:ir}});g.forEach(({hash:F,store:je,pageInfo:Je,aggregate:Pe})=>{this.querySubs.set(E=>(E[F].result={store:je,pageInfo:Je,aggregate:Pe},E))}),g.forEach(({hash:F})=>{this.notifyOne(F)});break;case"transact-ok":const{"client-event-id":p,"tx-id":h}=n,j=this._rewriteMutations(this.attrs,this.pendingMutations.currentValue).get(p);if(!j)break;this.pendingMutations.set(F=>(F.delete(p),F));const b=j["tx-steps"];this.querySubs.set(F=>{var je;for(const[Je,Pe]of Object.entries(F)){const E=(je=Pe==null?void 0:Pe.result)===null||je===void 0?void 0:je.store;if(!E)continue;const I=Tu(E,b);F[Je].result.store=I}return F});const k=j["tx-steps"].filter(([F,...je])=>F==="add-attr").map(([F,je])=>je).concat(Object.values(this.attrs));this._setAttrs(k),this._finishTransaction("synced",p);break;case"patch-presence":{const F=n["room-id"];this._patchPresencePeers(F,n.edits),this._notifyPresenceSubs(F);break}case"refresh-presence":{const F=n["room-id"];this._setPresencePeers(F,n.data),this._notifyPresenceSubs(F);break}case"server-broadcast":const N=n["room-id"],M=n.topic;this._notifyBroadcastSubs(N,M,n);break;case"join-room-ok":const O=n["room-id"],ee=this._rooms[O];if(!ee){this._roomsPendingLeave[O]&&(this._tryLeaveRoom(O),delete this._roomsPendingLeave[O]);break}ee.isConnected=!0,this._notifyPresenceSubs(O),this._flushEnqueuedRoomData(O);break;case"join-room-error":const Ot=n["room-id"],Tt=this._rooms[Ot];Tt&&(Tt.error=n.error),this._notifyPresenceSubs(Ot);break;case"error":this._handleReceiveError(n);break}}_handleMutationError(t,n,r){const s=this.pendingMutations.currentValue.get(n);s&&(t!=="timeout"||!s["tx-id"])&&(this.pendingMutations.set(i=>(i.delete(n),i)),this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(r),this._finishTransaction(t,n,r))}_handleReceiveError(t){var n,r,s,i,l;const a=t["client-event-id"],c=this.pendingMutations.currentValue.get(a),u={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(t.hint&&(u.hint=t.hint),c){const m={message:t.message,hint:t.hint};this._handleMutationError("error",a,m);return}if(!((n=t["original-event"])===null||n===void 0)&&n.hasOwnProperty("q")&&((r=t["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const m=(s=t["original-event"])===null||s===void 0?void 0:s.q,v=Te(m);this.notifyQueryError(Te(m),u),this.notifyQueryOnceError(m,v,a,u);return}if(((i=t["original-event"])===null||i===void 0?void 0:i.op)==="init"){if(t.type==="record-not-found"&&((l=t.hint)===null||l===void 0?void 0:l["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(mt.ERRORED,u),this.notifyAll();return}const f=Object.assign({},t);delete f.message,delete f.hint,console.error(t.message,f),t.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,t.hint)}notifyQueryOnceError(t,n,r,s){var i;const l=(i=this.queryOnceDfds[n])===null||i===void 0?void 0:i.find(a=>a.eventId===r);l&&(l.dfd.reject(s),this._completeQueryOnce(t,n,l.dfd))}_setAttrs(t){this.attrs=t.reduce((n,r)=>(n[r.id]=r,n),{}),this.notifyAttrsSubs()}_startQuerySub(t,n){const r=he();return this.querySubs.set(s=>(s[n]=s[n]||{q:t,result:null,eventId:r},s)),this._trySendAuthed(r,{op:"add-query",q:t}),r}subscribeQuery(t,n,r){var s;r&&"ruleParams"in r&&(t=Object.assign({$$ruleParams:r.ruleParams},t));const i=Te(t),l=this.getPreviousResult(t);return l&&n(l),this.queryCbs[i]=(s=this.queryCbs[i])!==null&&s!==void 0?s:[],this.queryCbs[i].push({q:t,cb:n}),this._startQuerySub(t,i),()=>{this._unsubQuery(t,i,n)}}queryOnce(t,n){var r;n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const s=new Wu;if(!this._isOnline)return s.reject(new Error("We can't run `queryOnce`, because the device is offline.")),s.promise;if(!this.querySubs)return s.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),s.promise;const i=Te(t),l=this._startQuerySub(t,i);return this.queryOnceDfds[i]=(r=this.queryOnceDfds[i])!==null&&r!==void 0?r:[],this.queryOnceDfds[i].push({q:t,dfd:s,eventId:l}),setTimeout(()=>s.reject(new Error("Query timed out")),Sx),s.promise}_completeQueryOnce(t,n,r){this.queryOnceDfds[n]&&(this.queryOnceDfds[n]=this.queryOnceDfds[n].filter(s=>s.dfd!==r),this._cleanupQuery(t,n))}_unsubQuery(t,n,r){this.queryCbs[n]&&(this.queryCbs[n]=this.queryCbs[n].filter(s=>s.cb!==r),this._cleanupQuery(t,n))}_cleanupQuery(t,n){var r,s;!((r=this.queryCbs[n])===null||r===void 0)&&r.length||!((s=this.queryOnceDfds[n])===null||s===void 0)&&s.length||(delete this.queryCbs[n],delete this.queryOnceDfds[n],this._trySendAuthed(he(),{op:"remove-query",q:t}))}_rewriteMutations(t,n){if(!t)return n;const r=c=>{const[u,d,f]=c["forward-identity"];return ve(t,d,f)},s=c=>{const[u,d,f]=c["forward-identity"];return fn(t,d,f)},i={attrIdMap:{},refSwapAttrIds:new Set},l=c=>{const u=[];for(const d of c){const[f]=d;if(f==="add-attr"){const[v,x]=d,y=r(x);if(y){i.attrIdMap[x.id]=y.id;continue}if(x["value-type"]==="ref"){const S=s(x);if(S){i.attrIdMap[x.id]=S.id,i.refSwapAttrIds.add(x.id);continue}}}const m=F0(i,d);u.push(m)}return u},a=new Map;for(const[c,u]of n.entries())a.set(c,Object.assign(Object.assign({},u),{"tx-steps":l(u["tx-steps"])}));return a}optimisticAttrs(){var t;const n=[...this.pendingMutations.currentValue.values()].flatMap(a=>a["tx-steps"]),r=new Set(n.filter(([a,c])=>a==="delete-attr").map(([a,c])=>c)),s=[];for(const[a,c]of n)if(a==="add-attr")s.push(c);else if(a==="update-attr"&&c.id&&(!((t=this.attrs)===null||t===void 0)&&t[c.id])){const u=Object.assign(Object.assign({},this.attrs[c.id]),c);s.push(u)}const i=[...Object.values(this.attrs||{}),...s].filter(a=>!r.has(a.id));return Object.fromEntries(i.map(a=>[a.id,a]))}dataForQuery(t){const n=this._errorMessage;if(n)return{error:n};if(!this.querySubs||!this.pendingMutations)return;const r=this.querySubs.version(),s=this.querySubs.currentValue,i=this.pendingMutations.version(),l=this.pendingMutations.currentValue,{q:a,result:c}=s[t]||{};if(!c)return;const u=this._dataForQueryCache[t];if(u&&r===u.querySubVersion&&i===u.pendingMutationsVersion)return u.data;const{store:d,pageInfo:f,aggregate:m}=c,x=[...this._rewriteMutations(d.attrs,l).values()].flatMap(g=>g["tx-steps"]),y=Tu(d,x),S=I0({store:y,pageInfo:f,aggregate:m},a);return this._dataForQueryCache[t]={querySubVersion:r,pendingMutationsVersion:i,data:S},S}notifyAll(){Object.keys(this.queryCbs).forEach(t=>{this.notifyOne(t)})}loadedNotifyAll(){this.pendingMutations.isLoading()||this.querySubs.isLoading()||this.notifyAll()}shutdown(){var t;this._isShutdown=!0,(t=this._ws)===null||t===void 0||t.close()}_sendMutation(t,n){if(n.error){this._handleMutationError("error",t,{error:n.error,message:n.error.message});return}if(this.status!==mt.AUTHENTICATED){this._finishTransaction("enqueued",t);return}const r=Math.max(5e3,this.pendingMutations.currentValue.size*5e3);this._isOnline?(this._trySend(t,n),setTimeout(()=>{this._finishTransaction("pending",t)},3e3),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",t,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",t)}_flushPendingMessages(){Object.keys(this.queryCbs).map(s=>this.querySubs.currentValue[s]).filter(s=>s).forEach(({eventId:s,q:i})=>{this._trySendAuthed(s,{op:"add-query",q:i})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:s,q:i})=>{this._trySendAuthed(s,{op:"add-query",q:i})}),this._rewriteMutations(this.attrs,this.pendingMutations.currentValue).forEach((s,i)=>{s["tx-id"]||this._sendMutation(i,s)})}_trySendAuthed(...t){this.status===mt.AUTHENTICATED&&this._trySend(...t)}_trySend(t,n,r){this._ws.readyState===Qu&&(qu[n.op]||this._log.info("[send]",this._ws._id,n.op,n),this._ws.send(JSON.stringify(Object.assign({"client-event-id":t},n))))}_startSocket(){if(this._ws&&this._ws.readyState==_x){this._log.info("[socket][start]",this._ws._id,"maintained as current ws, we were still in a connecting state");return}const t=this._ws;this._ws=Cx(`${this.config.websocketURI}?app_id=${this.config.appId}`),this._ws.onopen=this._wsOnOpen,this._ws.onmessage=this._wsOnMessage,this._ws.onclose=this._wsOnClose,this._ws.onerror=this._wsOnError,this._log.info("[socket][start]",this._ws._id),(t==null?void 0:t.readyState)===Qu&&(this._log.info("[socket][start]",this._ws._id,"close previous ws id = ",t._id),t.close())}getLocalId(t){return se(this,void 0,void 0,function*(){const n=`localToken_${t}`,r=yield this._persister.getItem(n);if(r)return r;if(this._localIdPromises[n])return this._localIdPromises[n];const s=he();return this._localIdPromises[n]=this._persister.setItem(n,s).then(()=>s),this._localIdPromises[n]})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const t=new URL(window.location.href);if(t.searchParams.get(bl)){const n=t.toString();t.searchParams.delete(bl),t.searchParams.delete("code"),t.searchParams.delete("error");const r=t.pathname+(t.searchParams.size?"?"+t.searchParams:"")+t.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let s=!1;const i=l=>{var a;s||(s=!0,navigation.removeEventListener("navigate",i),!l.userInitiated&&l.navigationType==="replace"&&((a=l.destination)===null||a===void 0?void 0:a.url)===n&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",i)}}}_oauthLoginInit(){return se(this,void 0,void 0,function*(){var t,n,r,s;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const i=new URLSearchParams(window.location.search);if(!i.get(bl))return null;const l=i.get("error");if(l)return this._replaceUrlAfterOAuth(),{error:{message:l}};const a=i.get("code");if(!a)return null;this._replaceUrlAfterOAuth();try{const{user:c}=yield $u({apiURI:this.config.apiURI,appId:this.config.appId,code:a});return this.setCurrentUser(c),null}catch(c){return((t=c==null?void 0:c.body)===null||t===void 0?void 0:t.type)==="record-not-found"&&((r=(n=c==null?void 0:c.body)===null||n===void 0?void 0:n.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((s=c==null?void 0:c.body)===null||s===void 0?void 0:s.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return se(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(t){return this.mutationErrorCbs.push(t),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(n=>n!==t)}}subscribeAuth(t){this.authCbs.push(t);const n=this._currentUserCached;n.isLoading||t(this._currentUserCached);let r=!1;return this.getCurrentUser().then(s=>{r||Ws(s,n)||t(s)}),()=>{r=!0,this.authCbs=this.authCbs.filter(s=>s!==t)}}getAuth(){return se(this,void 0,void 0,function*(){const{user:t,error:n}=yield this.getCurrentUser();if(n)throw n;return t})}subscribeConnectionStatus(t){return this.connectionStatusCbs.push(t),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(n=>n!==t)}}subscribeAttrs(t){return this.attrsCbs.push(t),this.attrs&&t(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(n=>n!==t)}}notifyAuthSubs(t){this.authCbs.forEach(n=>n(t))}notifyMutationErrorSubs(t){this.mutationErrorCbs.forEach(n=>n(t))}notifyAttrsSubs(){if(!this.attrs)return;const t=this.optimisticAttrs();this.attrsCbs.forEach(n=>n(t))}notifyConnectionStatusSubs(t){this.connectionStatusCbs.forEach(n=>n(t))}setCurrentUser(t){return se(this,void 0,void 0,function*(){yield this._persister.setItem(jl,JSON.stringify(t))})}getCurrentUserCached(){return this._currentUserCached}getCurrentUser(){return se(this,void 0,void 0,function*(){const t=yield this._waitForOAuthCallbackResponse();if(t!=null&&t.error){const s={error:t.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},s),s}const n=yield this._persister.getItem(jl),r={user:JSON.parse(n),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r})}_hasCurrentUser(){return se(this,void 0,void 0,function*(){const t=yield this._persister.getItem(jl);return JSON.parse(t)!=null})}changeCurrentUser(t){return se(this,void 0,void 0,function*(){var n;const{user:r}=yield this.getCurrentUser();if(!Ws(r,t)){yield this.setCurrentUser(t),this.updateUser(t);try{(n=this._broadcastChannel)===null||n===void 0||n.postMessage({type:"auth"})}catch(s){console.error("Error posting message to broadcast channel",s)}}})}updateUser(t){const n={error:void 0,user:t};this._currentUserCached=Object.assign({isLoading:!1},n),this._dataForQueryCache={},this.querySubs.set(r=>(Object.keys(r).forEach(s=>{delete r[s].result}),r)),this._reconnectTimeoutMs=0,this._ws.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(n)}sendMagicCode({email:t}){return cx({apiURI:this.config.apiURI,appId:this.config.appId,email:t})}signInWithMagicCode(t){return se(this,arguments,void 0,function*({email:n,code:r}){const s=yield ux({apiURI:this.config.apiURI,appId:this.config.appId,email:n,code:r});return yield this.changeCurrentUser(s.user),s})}signInWithCustomToken(t){return se(this,void 0,void 0,function*(){const n=yield dx({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:t});return yield this.changeCurrentUser(n.user),n})}potentiallyInvalidateToken(t,n){var r;const s=(r=t==null?void 0:t.user)===null||r===void 0?void 0:r.refresh_token;if(!s)return;if(n.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}hx({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:s}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(l=>{})}signOut(t){return se(this,void 0,void 0,function*(){const n=yield this.getCurrentUser();this.potentiallyInvalidateToken(n,t),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:t,redirectURL:n}){const{apiURI:r,appId:s}=this.config;return`${r}/runtime/oauth/start?app_id=${s}&client_name=${t}&redirect_uri=${n}`}exchangeCodeForToken(t){return se(this,arguments,void 0,function*({code:n,codeVerifier:r}){const s=yield $u({apiURI:this.config.apiURI,appId:this.config.appId,code:n,codeVerifier:r});return yield this.changeCurrentUser(s.user),s})}issuerURI(){const{apiURI:t,appId:n}=this.config;return`${t}/runtime/${n}`}signInWithIdToken(t){return se(this,arguments,void 0,function*({idToken:n,clientName:r,nonce:s}){var i;const l=yield this.getCurrentUser(),a=(i=l==null?void 0:l.user)===null||i===void 0?void 0:i.refresh_token,c=yield fx({apiURI:this.config.apiURI,appId:this.config.appId,idToken:n,clientName:r,nonce:s,refreshToken:a});return yield this.changeCurrentUser(c.user),c})}joinRoom(t){return this._rooms[t]||(this._rooms[t]={isConnected:!1,error:void 0}),this._presence[t]=this._presence[t]||{},this._tryJoinRoom(t),()=>{this._cleanupRoom(t)}}_cleanupRoom(t){var n,r,s,i;if(!(!((r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0)&&r.length)&&!Object.keys((s=this._broadcastSubs[t])!==null&&s!==void 0?s:{}).length){const l=(i=this._rooms[t])===null||i===void 0?void 0:i.isConnected;delete this._rooms[t],delete this._presence[t],delete this._broadcastSubs[t],l?this._tryLeaveRoom(t):this._roomsPendingLeave[t]=!0}}getPresence(t,n,r={}){const s=this._rooms[n],i=this._presence[n];return!s||!i||!i.result?null:Object.assign(Object.assign({},xx(i.result,r,this._sessionId)),{isLoading:!s.isConnected,error:s.error})}publishPresence(t,n,r){const s=this._rooms[n],i=this._presence[n];if(!s||!i)return;i.result=i.result||{};const l=Object.assign(Object.assign({},i.result.user),r);i.result.user=l,s.isConnected&&(this._trySetPresence(n,l),this._notifyPresenceSubs(n))}_trySetPresence(t,n){this._trySendAuthed(he(),{op:"set-presence","room-id":t,data:n})}_tryJoinRoom(t){this._trySendAuthed(he(),{op:"join-room","room-id":t}),delete this._roomsPendingLeave[t]}_tryLeaveRoom(t){this._trySendAuthed(he(),{op:"leave-room","room-id":t})}subscribePresence(t,n,r,s){const i=this.joinRoom(n),l=Object.assign(Object.assign({},r),{roomId:n,cb:s,prev:null});return this._presence[n]=this._presence[n]||{},this._presence[n].handlers=this._presence[n].handlers||[],this._presence[n].handlers.push(l),this._notifyPresenceSub(n,l),()=>{var a,c,u;this._presence[n].handlers=(u=(c=(a=this._presence[n])===null||a===void 0?void 0:a.handlers)===null||c===void 0?void 0:c.filter(d=>d!==l))!==null&&u!==void 0?u:[],i()}}_notifyPresenceSubs(t){var n,r;(r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0||r.forEach(s=>{this._notifyPresenceSub(t,s)})}_notifyPresenceSub(t,n){const r=this.getPresence("",t,n);r&&(n.prev&&!wx(r,n.prev)||(n.prev=r,n.cb(r)))}_patchPresencePeers(t,n){var r,s,i;const l=((s=(r=this._presence[t])===null||r===void 0?void 0:r.result)===null||s===void 0?void 0:s.peers)||{};let a=Object.fromEntries(Object.entries(l).map(([u,d])=>[u,{data:d}]));(i=this._presence[t])===null||i===void 0||i.result;const c=Eo(a,u=>{for(let[d,f,m]of n)switch(f){case"+":Nv(u,d,m);break;case"r":Ou(u,d,m);break;case"-":Lh(u,d);break}delete u[this._sessionId]});this._setPresencePeers(t,c)}_setPresencePeers(t,n){const r=Object.assign({},n);delete r[this._sessionId];const s=Object.fromEntries(Object.entries(r).map(([i,l])=>[i,l.data]));this._presence=Eo(this._presence,i=>{Ou(i,[t,"result","peers"],s)})}publishTopic({roomType:t,roomId:n,topic:r,data:s}){var i;const l=this._rooms[n];if(l){if(!l.isConnected){this._broadcastQueue[n]=(i=this._broadcastQueue[n])!==null&&i!==void 0?i:[],this._broadcastQueue[n].push({topic:r,roomType:t,data:s});return}this._tryBroadcast(n,t,r,s)}}_tryBroadcast(t,n,r,s){this._trySendAuthed(he(),{op:"client-broadcast","room-id":t,roomType:n,topic:r,data:s})}subscribeTopic(t,n,r){const s=this.joinRoom(t);return this._broadcastSubs[t]=this._broadcastSubs[t]||{},this._broadcastSubs[t][n]=this._broadcastSubs[t][n]||[],this._broadcastSubs[t][n].push(r),this._presence[t]=this._presence[t]||{},()=>{this._broadcastSubs[t][n]=this._broadcastSubs[t][n].filter(i=>i!==r),this._broadcastSubs[t][n].length||delete this._broadcastSubs[t][n],s()}}_notifyBroadcastSubs(t,n,r){var s,i,l;(l=(i=(s=this._broadcastSubs)===null||s===void 0?void 0:s[t])===null||i===void 0?void 0:i[n])===null||l===void 0||l.forEach(a=>{var c,u,d,f,m,v;const x=(c=r.data)===null||c===void 0?void 0:c.data,y=r.data["peer-id"]===this._sessionId?(d=(u=this._presence[t])===null||u===void 0?void 0:u.result)===null||d===void 0?void 0:d.user:(v=(m=(f=this._presence[t])===null||f===void 0?void 0:f.result)===null||m===void 0?void 0:m.peers)===null||v===void 0?void 0:v[r.data["peer-id"]];return a(x,y)})}uploadFile(t,n,r){return se(this,void 0,void 0,function*(){var s;const i=yield this.getCurrentUser(),l=(s=i==null?void 0:i.user)===null||s===void 0?void 0:s.refresh_token;return px(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:t,file:n,refreshToken:l}))})}deleteFile(t){return se(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),s=(n=r==null?void 0:r.user)===null||n===void 0?void 0:n.refresh_token;return yield mx({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:s})})}upload(t,n){return se(this,void 0,void 0,function*(){var r;const s=yield this.getCurrentUser(),i=(r=s==null?void 0:s.user)===null||r===void 0?void 0:r.refresh_token,l=t||n.name,a=yield gx({apiURI:this.config.apiURI,appId:this.config.appId,fileName:l,refreshToken:i});return yield yx(a,n)})}getDownloadUrl(t){return se(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),s=(n=r==null?void 0:r.user)===null||n===void 0?void 0:n.refresh_token;return yield vx({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:s})})}}let Cs;function Mx(e,t){Cs==null||Cs.dispose();const n=Fx(t),r=Rx(t,a),s=Lx(Ix(e));function i(d){var f;d.source===s.element.contentWindow&&((f=d.data)===null||f===void 0?void 0:f.type)==="close"&&n.isVisible()&&a()}function l(d){const f=d.shiftKey&&d.ctrlKey&&d.key==="0",m=d.key==="Escape"||d.key==="Esc";(f||m&&n.isVisible())&&a()}function a(){n.isVisible()?n.element.style.display="none":(n.element.style.display="block",n.element.contains(s.element)||n.element.appendChild(s.element))}function c(){n.element.remove(),r.element.remove(),removeEventListener("keydown",l),removeEventListener("message",i)}function u(){document.body.appendChild(n.element),document.body.appendChild(r.element),addEventListener("keydown",l),addEventListener("message",i),Cs={dispose:c}}return u()}function Ix(e){return`${tc||Jh?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${e}`}function Lx(e){const t=document.createElement("iframe");return t.src=e,t.className="instant-devtool-iframe",Object.assign(t.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:t}}function Rx(e,t){const n=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=n,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},Ax(e.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",t),{element:r}}function Ax(e){switch(e){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function zx(e){switch(e){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function Fx(e){const t=document.createElement("div");Object.assign(t.style,Object.assign(Object.assign({position:"fixed"},zx(e.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),t.style.display="none",t.className="instant-devtool-container";function n(){return t.style.display!=="none"}return{element:t,isVisible:n}}const Dx={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function Ux(){var e;return globalThis.__instantDbStore=(e=globalThis.__instantDbStore)!==null&&e!==void 0?e:{},globalThis.__instantDbStore}function Uo(e){const t=e.__adminToken;return e.appId+"_"+(e.websocketURI||"default_ws_uri")+"_"+(e.apiURI||"default_api_uri")+"_"+(t||"client_only")}const $o=Ux();class $x{constructor(t){this.db=t,this.sendMagicCode=n=>this.db.sendMagicCode(n),this.signInWithMagicCode=n=>this.db.signInWithMagicCode(n),this.signInWithToken=n=>this.db.signInWithCustomToken(n),this.createAuthorizationURL=n=>this.db.createAuthorizationURL(n),this.signInWithIdToken=n=>this.db.signInWithIdToken(n),this.exchangeOAuthCode=n=>this.db.exchangeCodeForToken(n),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(n={invalidateToken:!0})=>this.db.signOut(n)}}class Bx{constructor(t){this.db=t,this.uploadFile=(n,r,s={})=>this.db.uploadFile(n,r,s),this.delete=n=>this.db.deleteFile(n),this.upload=(n,r)=>this.db.upload(n,r),this.put=this.upload,this.getDownloadUrl=n=>this.db.getDownloadUrl(n)}}function Wx(e){return JSON.parse(JSON.stringify(e))}class Vx{constructor(t){this.tx=Za(),this._reactor=t,this.auth=new $x(this._reactor),this.storage=new Bx(this._reactor)}transact(t){return this._reactor.pushTx(t)}getLocalId(t){return this._reactor.getLocalId(t)}subscribeQuery(t,n,r){return this._reactor.subscribeQuery(t,n,r)}subscribeAuth(t){return this._reactor.subscribeAuth(t)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(t){return this._reactor.subscribeConnectionStatus(t)}joinRoom(t="_defaultRoomType",n="_defaultRoomId"){return{leaveRoom:this._reactor.joinRoom(n),subscribeTopic:(s,i)=>this._reactor.subscribeTopic(n,s,i),subscribePresence:(s,i)=>this._reactor.subscribePresence(t,n,s,i),publishTopic:(s,i)=>this._reactor.publishTopic({roomType:t,roomId:n,topic:s,data:i}),publishPresence:s=>this._reactor.publishPresence(t,n,s),getPresence:s=>this._reactor.getPresence(t,n,s)}}shutdown(){delete $o[Uo(this._reactor.config)],this._reactor.shutdown()}queryOnce(t,n){return this._reactor.queryOnce(t,n)}}function Hx(e,t,n,r){const s=$o[Uo(e)];if(s)return s;const i=new Tx(Object.assign(Object.assign(Object.assign({},Dx),e),{cardinalityInference:!!e.schema}),t||qh,n||Kh,Object.assign(Object.assign({},r||{}),{"@instantdb/core":Xh})),l=new Vx(i);return $o[Uo(e)]=l,Qx(e.appId,e.devtool),l}function Qx(e,t){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof t=="boolean"&&!t)return;const n=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof t=="object"?t:{});n.allowedHosts.includes(window.location.hostname)&&Mx(e,n)}const qx={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function Kx(e){return Object.assign({isLoading:!e,data:void 0,pageInfo:void 0,error:void 0},e||{})}function Gx(e,t,n){t&&n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const r=t?Wx(t):null,s=Te(r),i=_.useRef(Kx(e._reactor.getPreviousResult(r))),l=_.useCallback(c=>r?e.subscribeQuery(r,d=>{i.current=Object.assign({isLoading:!d,data:void 0,pageInfo:void 0,error:void 0},d),c()}):()=>{},[s]);return{state:_.useSyncExternalStore(l,()=>i.current,()=>qx),query:r}}function Jx(){const e=_.useRef(null);_.useEffect(()=>{n()},[]);function t(r,s){clearTimeout(e.current),e.current=setTimeout(s,r)}function n(){clearTimeout(e.current)}return{set:t,clear:n}}const Yx=1e3;function Xx(e,t,n){_.useEffect(()=>e._core._reactor.subscribeTopic(e.id,t,(s,i)=>{n(s,i)}),[e.id,t])}function Zx(e,t){return _.useEffect(()=>e._core._reactor.joinRoom(e.id),[e.id]),_.useCallback(r=>{e._core._reactor.publishTopic({roomType:e.type,roomId:e.id,topic:t,data:r})},[e.id,t])}function e1(e,t={}){var n,r;const[s,i]=_.useState(()=>{var c;return(c=e._core._reactor.getPresence(e.type,e.id,t))!==null&&c!==void 0?c:{peers:{},isLoading:!0}});_.useEffect(()=>e._core._reactor.subscribePresence(e.type,e.id,t,u=>{i(u)}),[e.id,t.user,(n=t.peers)===null||n===void 0?void 0:n.join(),(r=t.keys)===null||r===void 0?void 0:r.join()]);const l=_.useCallback(c=>{e._core._reactor.publishPresence(e.type,e.id,c)},[e.type,e.id]);return _.useMemo(()=>Object.assign(Object.assign({},s),{publishPresence:l}),[s,l])}function t1(e,t,n){_.useEffect(()=>e._core._reactor.joinRoom(e.id),[e.id]),_.useEffect(()=>e._core._reactor.publishPresence(e.type,e.id,t),[e.type,e.id,n??JSON.stringify(t)])}function n1(e,t,n={}){const r=Jx(),s=rn.usePresence(e,{keys:[t]}),i=_.useMemo(()=>{var d;const f=e._core._reactor.getPresence(e.type,e.id);return n!=null&&n.writeOnly?[]:Object.values((d=f==null?void 0:f.peers)!==null&&d!==void 0?d:{}).filter(m=>m[t]===!0)},[n==null?void 0:n.writeOnly,s]),l=_.useCallback(d=>{var f;e._core._reactor.publishPresence(e.type,e.id,{[t]:d}),d&&((n==null?void 0:n.timeout)===null||(n==null?void 0:n.timeout)===0||r.set((f=n==null?void 0:n.timeout)!==null&&f!==void 0?f:Yx,()=>{e._core._reactor.publishPresence(e.type,e.id,{[t]:null})}))},[e.type,e.id,t,n==null?void 0:n.timeout,r]),a=_.useCallback(d=>{const m=!((n==null?void 0:n.stopOnEnter)&&d.key==="Enter");l(m)},[n.stopOnEnter,l]),c=_.useCallback(()=>{l(!1)},[l]),u=_.useMemo(()=>({onKeyDown:a,onBlur:c}),[a,c]);return{active:i,setActive:l,inputProps:u}}const rn={useTopicEffect:Xx,usePublishTopic:Zx,usePresence:e1,useSyncPresence:t1,useTypingIndicator:n1};class r1{constructor(t,n,r){this.useTopicEffect=(s,i)=>{rn.useTopicEffect(this,s,i)},this.usePublishTopic=s=>rn.usePublishTopic(this,s),this.usePresence=(s={})=>rn.usePresence(this,s),this.useSyncPresence=(s,i)=>rn.useSyncPresence(this,s,i),this.useTypingIndicator=(s,i={})=>rn.useTypingIndicator(this,s,i),this._core=t,this.type=n,this.id=r}}var s1=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function a(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})};const i1={isLoading:!0,user:void 0,error:void 0};class l1{constructor(t,n){this.tx=Za(),this.getLocalId=r=>this._core.getLocalId(r),this.useLocalId=r=>{const[s,i]=_.useState(null);return _.useEffect(()=>{s1(this,void 0,void 0,function*(){const a=yield this.getLocalId(r);i(a)})},[r]),s},this.rooms=rn,this.transact=r=>this._core.transact(r),this.useQuery=(r,s)=>Gx(this._core,r,s).state,this.useAuth=()=>{const r=_.useRef(this._core._reactor._currentUserCached),s=_.useCallback(l=>this._core.subscribeAuth(c=>{r.current=Object.assign({isLoading:!1},c),l()}),[]);return _.useSyncExternalStore(s,()=>r.current,()=>i1)},this.useConnectionStatus=()=>{const r=_.useRef(this._core._reactor.status),s=_.useCallback(l=>this._core.subscribeConnectionStatus(c=>{c!==r.current&&(r.current=c,l())}),[]);return _.useSyncExternalStore(s,()=>r.current,()=>"connecting")},this.queryOnce=(r,s)=>this._core.queryOnce(r,s),this._core=Hx(t,this.constructor.Storage,this.constructor.NetworkListener,n),this.auth=this._core.auth,this.storage=this._core.storage}room(t="_defaultRoomType",n="_defaultRoomId"){return new r1(this._core,t,n)}getAuth(){return this._core.getAuth()}}class o1 extends l1{}const a1="v0.18.10";function c1(e){return new o1(e,{"@instantdb/react":a1})}const Z=c1({appId:"d38c26a5-d1b9-4151-82b2-a2a993687d4e"});function nc({isOpen:e,onClose:t,initialMode:n="login"}){const[r,s]=_.useState(n),[i,l]=_.useState(""),[a,c]=_.useState(""),[u,d]=_.useState(""),[f,m]=_.useState(!1),[v,x]=_.useState(null),[y,S]=_.useState("email");if(!e)return null;const g=async j=>{j.preventDefault(),m(!0),x(null);try{await Z.auth.sendMagicCode({email:i}),c(i),S("code")}catch(b){x(b instanceof Error?b.message:"Failed to send code")}finally{m(!1)}},p=async j=>{j.preventDefault(),m(!0),x(null);try{await Z.auth.signInWithMagicCode({email:a,code:u}),t()}catch(b){x(b instanceof Error?b.message:"Invalid code")}finally{m(!1)}},h=()=>{const j=Z.auth.createAuthorizationURL({clientName:"google-web",redirectURL:window.location.href});window.location.href=j},w=()=>{S("email"),l(""),d(""),c(""),x(null)};return ah.createPortal(o.jsx("div",{className:"fixed inset-0 z-[100] overflow-y-auto bg-black/50",children:o.jsx("div",{className:"min-h-full flex items-start sm:items-center justify-center px-4 py-12 sm:py-4",children:o.jsxs("div",{className:"bg-cream-50 rounded-2xl w-full max-w-md p-6 relative",children:[o.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(Xn,{className:"w-5 h-5"})}),o.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:r==="login"?"Welcome back":"Create account"}),o.jsx("p",{className:"text-charcoal-light text-sm mb-6",children:r==="login"?"Sign in to access your saved shortlists and shopping lists.":"Save your color selections and shopping lists."}),o.jsxs("button",{onClick:h,className:"w-full py-3 px-4 border border-charcoal/20 rounded-full flex items-center justify-center gap-3 hover:bg-cream-100 transition-colors mb-4",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o.jsx("span",{className:"text-charcoal font-medium",children:"Continue with Google"})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("div",{className:"flex-1 h-px bg-charcoal/10"}),o.jsx("span",{className:"text-xs text-charcoal-light",children:"or"}),o.jsx("div",{className:"flex-1 h-px bg-charcoal/10"})]}),y==="email"?o.jsxs("form",{onSubmit:g,children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-charcoal mb-2",children:"Email address"}),o.jsxs("div",{className:"relative",children:[o.jsx(zy,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-charcoal-light"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:j=>l(j.target.value),placeholder:"you@example.com",className:"w-full pl-11 pr-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50",required:!0})]})]}),v&&o.jsx("p",{className:"text-red-600 text-sm mb-4",children:v}),o.jsx("button",{type:"submit",disabled:f,className:"btn-primary w-full flex items-center justify-center gap-2",children:f?o.jsxs(o.Fragment,{children:[o.jsx(De,{className:"w-5 h-5 animate-spin"}),"Sending code..."]}):"Send login code"})]}):o.jsxs("form",{onSubmit:p,children:[o.jsxs("p",{className:"text-sm text-charcoal mb-4",children:["We sent a code to ",o.jsx("strong",{children:a})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-charcoal mb-2",children:"Enter code"}),o.jsx("input",{type:"text",id:"code",value:u,onChange:j=>d(j.target.value),placeholder:"123456",className:"w-full px-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50 text-center text-lg tracking-widest",required:!0})]}),v&&o.jsx("p",{className:"text-red-600 text-sm mb-4",children:v}),o.jsx("button",{type:"submit",disabled:f,className:"btn-primary w-full flex items-center justify-center gap-2 mb-3",children:f?o.jsxs(o.Fragment,{children:[o.jsx(De,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify code"}),o.jsx("button",{type:"button",onClick:w,className:"w-full text-sm text-charcoal-light hover:text-charcoal transition-colors",children:"Use different email"})]}),o.jsx("p",{className:"text-center text-sm text-charcoal-light mt-6",children:r==="login"?o.jsxs(o.Fragment,{children:["New here?"," ",o.jsx("button",{onClick:()=>s("signup"),className:"text-charcoal font-medium hover:underline",children:"Create account"})]}):o.jsxs(o.Fragment,{children:["Already have an account?"," ",o.jsx("button",{onClick:()=>s("login"),className:"text-charcoal font-medium hover:underline",children:"Sign in"})]})})]})})}),document.body)}function u1({shortlist:e,profile:t}){const{user:n}=Z.useAuth(),[r,s]=_.useState(!1),[i,l]=_.useState(!1),[a,c]=_.useState(!1),[u,d]=_.useState(""),[f,m]=_.useState(!1),v=()=>{if(!n){c(!0);return}const y=`${(t==null?void 0:t.roomType)||"Room"} - ${new Date().toLocaleDateString()}`;d(y),l(!0)},x=async()=>{if(!(!n||!u.trim())){s(!0);try{const y=crypto.randomUUID();await Z.transact(Z.tx.savedShortlists[y].update({userId:n.id,name:u.trim(),createdAt:Date.now(),roomType:(t==null?void 0:t.roomType)||"living",shortlistData:JSON.stringify(e)})),m(!0),l(!1),setTimeout(()=>m(!1),2e3)}catch(y){console.error("Failed to save shortlist:",y)}finally{s(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:v,disabled:r,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm transition-colors ${f?"bg-emerald-100 text-emerald-700":"bg-charcoal/10 text-charcoal hover:bg-charcoal/20"}`,children:[r?o.jsx(De,{className:"w-4 h-4 animate-spin"}):f?o.jsx(Jn,{className:"w-4 h-4"}):o.jsx(Sh,{className:"w-4 h-4"}),f?"Saved!":"Save shortlist"]}),i&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:o.jsxs("div",{className:"bg-cream-50 rounded-2xl w-full max-w-sm p-6 relative",children:[o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 p-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(Xn,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-serif text-xl text-charcoal mb-4",children:"Save Shortlist"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"shortlist-name",className:"block text-sm font-medium text-charcoal mb-2",children:"Name your shortlist"}),o.jsx("input",{type:"text",id:"shortlist-name",value:u,onChange:y=>d(y.target.value),placeholder:"e.g., Living Room Ideas",className:"w-full px-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50",autoFocus:!0})]}),o.jsx("button",{onClick:x,disabled:r||!u.trim(),className:"btn-primary w-full flex items-center justify-center gap-2",children:r?o.jsxs(o.Fragment,{children:[o.jsx(De,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save"})]})}),o.jsx(nc,{isOpen:a,onClose:()=>c(!1)})]})}const d1={safe_win:{label:"Safe Win",bg:"bg-emerald-50",text:"text-emerald-700"},vibe_match:{label:"Vibe Match",bg:"bg-violet-50",text:"text-violet-700"},wildcard:{label:"Wildcard",bg:"bg-amber-50",text:"text-amber-700"}};function f1({scored:e,onCompare:t,roomImage:n}){var w,j;const r=Be(),{color:s,tag:i,scores:l,reasoning:a,suggestedTrim:c,suggestedFinish:u}=e,d=d1[i],[f,m]=_.useState(null),[v,x]=_.useState(!1),[y,S]=_.useState(null),[g,p]=_.useState(!0);_.useEffect(()=>{if(!n)return;const b=cv(n,s.id),k=uv(b);if(k){m(k);return}(async()=>{x(!0),S(null),console.log(`[Gemini] Starting visualization for ${s.name} (${s.hex})`);const M=await av(n,{name:s.name,hex:s.hex});M.success&&M.imageUrl?(console.log(`[Gemini] Successfully generated visualization for ${s.name}`),m(M.imageUrl),dv(b,M.imageUrl)):(console.error(`[Gemini] Failed to generate visualization for ${s.name}:`,M.error),S(M.error||"Failed to generate")),x(!1)})()},[n,s.id,s.name,s.hex]);const h=()=>{const b=s.undertone.temperature==="neutral"?"":`${s.undertone.temperature} `,k=s.undertone.leansPrimary==="neutral"?"neutral":`${s.undertone.leansPrimary} lean`;return`${b}${k}`.trim()};return o.jsxs("div",{className:"card overflow-hidden",children:[f&&g?o.jsxs("div",{className:"relative",children:[o.jsx(fv,{imageUrl:f,colorName:s.name}),o.jsx("div",{className:`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-medium ${d.bg} ${d.text} z-10`,children:d.label}),o.jsx("button",{onClick:()=>p(!g),className:"absolute top-3 right-3 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors z-10",title:"Show color swatch",children:o.jsx(Ly,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden",children:[v&&n?o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("img",{src:n,alt:"Your room",className:"w-full h-full object-cover blur-sm brightness-75"}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-full mb-2 flex items-center justify-center",style:{backgroundColor:s.hex},children:o.jsx(De,{className:"w-6 h-6 text-white animate-spin"})}),o.jsx("span",{className:"text-white text-sm font-medium drop-shadow-md",children:"Painting walls..."})]})]}):y&&n?o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx("div",{className:"w-full h-full",style:{backgroundColor:s.hex}}),o.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:"Visualization unavailable"})]}):o.jsx("div",{className:"w-full h-full",style:{backgroundColor:s.hex}}),o.jsx("div",{className:`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-medium ${d.bg} ${d.text}`,children:d.label})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-serif text-lg text-charcoal",children:s.name}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[s.brand," ",s.code]})]}),o.jsx("div",{className:"w-12 h-12 rounded-lg shadow-md border border-charcoal/10 flex-shrink-0",style:{backgroundColor:s.hex},title:`${s.name} - ${s.hex}`})]}),o.jsxs("p",{className:"text-sm text-charcoal-light mb-3 capitalize",children:[h(),"  LRV ",s.lrv]}),o.jsxs("div",{className:"space-y-1.5 mb-4 text-sm",children:[o.jsxs("p",{className:"text-charcoal",children:[o.jsx("span",{className:"text-charcoal-light",children:"Best in:"})," ",s.bestIn]}),o.jsxs("p",{className:"text-charcoal",children:[o.jsx("span",{className:"text-charcoal-light",children:"Watch out:"})," ",s.watchOut]})]}),o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"flex-1 h-1.5 bg-charcoal/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gold rounded-full transition-all",style:{width:`${l.overall}%`}})}),o.jsx("span",{className:"text-sm font-medium text-charcoal",children:l.overall})]}),o.jsxs("p",{className:"text-sm text-charcoal italic mb-4",children:['"',a,'"']}),o.jsxs("div",{className:"flex gap-4 text-sm text-charcoal-light mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-charcoal",children:"Trim:"})," ",((w=c.crisp)==null?void 0:w.name)||((j=c.warm)==null?void 0:j.name)||"White"]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-charcoal",children:"Finish:"})," ",u]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>r(`/product-picker/${s.id}`),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-xs",children:[o.jsx(bh,{className:"w-4 h-4"}),"Choose paint type"]}),o.jsx("button",{onClick:t,className:"btn-secondary px-3",children:o.jsx(Ty,{className:"w-4 h-4"})})]})]}),o.jsxs("button",{onClick:()=>r(`/color/${s.id}`),className:"w-full py-3 border-t border-charcoal/5 text-sm text-charcoal-light hover:text-charcoal hover:bg-cream-100 transition-colors flex items-center justify-center gap-2",children:["View paint story",o.jsx(ns,{className:"w-4 h-4"})]})]})}function h1(){const e=Be(),{shortlist:t,profile:n,setCompareColors:r,compareColors:s,roomImage:i}=Pt();if(!n||t.length===0)return o.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-charcoal-light mb-4",children:"No shortlist generated yet."}),o.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary",children:"Start over"})]})});const l={living:"Living room",bedroom:"Bedroom",kitchen:"Kitchen",bathroom:"Bathroom",hallway:"Hallway",office:"Home office",nursery:"Nursery"},a=u=>{s[0]?s[1]?r([u,null]):(r([s[0],u]),e("/compare")):r([u,null])},c=[s[0],s[1]].filter(Boolean).length;return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[o.jsx("header",{className:"px-4 py-4 border-b border-charcoal/5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e("/setup"),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Your Shortlist"}),o.jsx("p",{className:"text-xs text-charcoal-light",children:l[n.roomType]})]}),o.jsx(u1,{shortlist:t,profile:n})]})}),o.jsx("div",{className:"px-4 py-3 bg-cream-100 text-center",children:o.jsx("p",{className:"text-xs text-charcoal-light",children:"Digital swatches are a starting point. Always test with real samples."})}),i&&o.jsx("div",{className:"px-4 py-3 bg-emerald-50 text-center",children:o.jsx("p",{className:"text-xs text-emerald-700",children:" AI is visualizing each color on your room photo"})}),o.jsx("div",{className:"p-4 space-y-4",children:t.map(u=>o.jsx(f1,{scored:u,onCompare:()=>a(u),roomImage:i},u.color.id))}),c>0&&o.jsxs("div",{className:"fixed bottom-20 left-4 right-4 bg-charcoal text-cream-50 rounded-full py-3 px-4 flex items-center justify-between shadow-lg",children:[o.jsxs("span",{className:"text-sm",children:[c,"/2 colors selected"]}),c===2?o.jsxs("button",{onClick:()=>e("/compare"),className:"text-sm font-medium flex items-center gap-2",children:["Compare now",o.jsx(ns,{className:"w-4 h-4"})]}):o.jsx("button",{onClick:()=>r([null,null]),className:"text-sm text-cream-50/70",children:"Clear"})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>e("/sampling-plan"),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:"Sampling plan"}),o.jsxs("button",{onClick:()=>e("/shopping-list"),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[o.jsx(Yn,{className:"w-4 h-4"}),"Shopping list"]}),o.jsx("button",{onClick:()=>e("/stores"),className:"btn-secondary px-4",children:o.jsx(Di,{className:"w-4 h-4"})})]})})]})}function p1(){const{id:e}=gh(),t=Be(),{shortlist:n}=Pt(),r=e?jo(e):null,s=n.find(a=>a.color.id===e);if(!r)return o.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-charcoal-light mb-4",children:"Color not found."}),o.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go back"})]})});const i=()=>{const a=r.undertone.temperature==="neutral"?"":`${r.undertone.temperature} `,c=r.undertone.leansPrimary==="neutral"?"neutral":r.undertone.leansPrimary,u=r.undertone.leansSecondary?` with ${r.undertone.leansSecondary} hints`:"";return`A ${a}${c}${u}`},l=r.similarColors.map(a=>jo(a.colorId)).filter(Boolean).slice(0,3);return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[o.jsxs("div",{className:"h-64 relative",style:{backgroundColor:r.hex},children:[o.jsx("button",{onClick:()=>t(-1),className:"absolute top-4 left-4 p-2 bg-white/90 backdrop-blur-sm rounded-full text-charcoal hover:bg-white transition-colors shadow-sm",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/90 backdrop-blur-sm rounded-full text-charcoal hover:bg-white transition-colors shadow-sm",children:o.jsx(My,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"px-6 py-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"font-serif text-3xl text-charcoal mb-1",children:r.name}),o.jsxs("p",{className:"text-charcoal-light",children:[r.brand,"  ",r.code]})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("p",{className:"text-charcoal leading-relaxed",children:[i(),". Light Reflectance Value of ",r.lrv,"  ",r.depthCategory==="light"?"bright and airy":r.depthCategory==="mid"?"balanced depth":"rich and cozy","."]})}),o.jsx("div",{className:"mb-8 p-5 bg-cream-100 rounded-xl",children:o.jsxs("p",{className:"font-serif text-lg text-charcoal leading-relaxed italic",children:['"',r.description,'"']})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light uppercase tracking-wide mb-2",children:"Best in"}),o.jsx("p",{className:"text-sm text-charcoal",children:r.bestIn})]}),o.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light uppercase tracking-wide mb-2",children:"Watch out"}),o.jsx("p",{className:"text-sm text-charcoal",children:r.watchOut})]})]}),(s==null?void 0:s.suggestedTrim)&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"font-serif text-lg text-charcoal mb-4",children:"Recommended Trim"}),o.jsxs("div",{className:"flex gap-3",children:[s.suggestedTrim.crisp&&o.jsxs("div",{className:"flex-1 p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("div",{className:"w-full h-16 rounded-lg mb-3",style:{backgroundColor:s.suggestedTrim.crisp.hex}}),o.jsx("p",{className:"text-sm font-medium text-charcoal",children:s.suggestedTrim.crisp.name}),o.jsx("p",{className:"text-xs text-charcoal-light",children:"Crisp option"})]}),s.suggestedTrim.warm&&o.jsxs("div",{className:"flex-1 p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("div",{className:"w-full h-16 rounded-lg mb-3",style:{backgroundColor:s.suggestedTrim.warm.hex}}),o.jsx("p",{className:"text-sm font-medium text-charcoal",children:s.suggestedTrim.warm.name}),o.jsx("p",{className:"text-xs text-charcoal-light",children:"Warm option"})]})]})]}),l.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"font-serif text-lg text-charcoal mb-4",children:"Similar Alternatives"}),o.jsx("div",{className:"space-y-3",children:r.similarColors.map((a,c)=>{const u=l[c];return u?o.jsxs("button",{onClick:()=>t(`/color/${a.colorId}`),className:"w-full flex items-center gap-4 p-3 bg-white rounded-xl border border-charcoal/5 hover:border-charcoal/15 transition-colors text-left",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg flex-shrink-0",style:{backgroundColor:u.hex}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-charcoal",children:u.name}),o.jsx("p",{className:"text-xs text-charcoal-light",children:a.relationship})]})]},a.colorId):null})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"font-serif text-lg text-charcoal mb-4",children:"Technical Details"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"Hex"}),o.jsx("p",{className:"text-sm font-mono text-charcoal",children:r.hex})]}),o.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"LRV"}),o.jsx("p",{className:"text-sm text-charcoal",children:r.lrv})]}),o.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"RGB"}),o.jsxs("p",{className:"text-sm font-mono text-charcoal",children:[r.rgb.r,", ",r.rgb.g,", ",r.rgb.b]})]}),o.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"Finishes"}),o.jsx("p",{className:"text-sm text-charcoal capitalize",children:r.suggestedFinishes.join(", ")})]})]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(a=>o.jsx("span",{className:"px-3 py-1 bg-cream-100 text-charcoal-light text-xs rounded-full",children:a},a))})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>t(`/product-picker/${r.id}`),className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[o.jsx(bh,{className:"w-4 h-4"}),"Choose paint type & finish"]}),o.jsx("button",{className:"btn-secondary px-4",children:o.jsx(Yn,{className:"w-5 h-5"})})]})})]})}function m1(){const e=Be(),{compareColors:t,setCompareColors:n}=Pt(),[r,s]=t;if(!r||!s)return o.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-charcoal-light mb-4",children:"Select two colors to compare."}),o.jsx("button",{onClick:()=>e("/shortlist"),className:"btn-primary",children:"Back to shortlist"})]})});const i=a=>{a==="both"?(n([null,null]),e("/shortlist")):(n([null,null]),e("/shortlist"))},l=({label:a,leftValue:c,rightValue:u,leftWins:d})=>o.jsxs("div",{className:"flex border-b border-charcoal/5 last:border-0",children:[o.jsx("div",{className:`flex-1 p-3 text-sm ${d===!0?"bg-emerald-50/50":""}`,children:c}),o.jsx("div",{className:"w-24 p-3 text-xs text-charcoal-light text-center bg-cream-100 flex items-center justify-center",children:a}),o.jsx("div",{className:`flex-1 p-3 text-sm text-right ${d===!1?"bg-emerald-50/50":""}`,children:u})]});return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[o.jsx("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>{n([null,null]),e("/shortlist")},className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Compare"}),o.jsx("div",{className:"w-9"})]})}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-1 h-40 relative",style:{backgroundColor:r.color.hex},children:o.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:o.jsx("p",{className:"text-sm font-medium text-charcoal bg-white/90 backdrop-blur-sm px-3 py-2 rounded-lg",children:r.color.name})})}),o.jsx("div",{className:"w-px bg-cream-50"}),o.jsx("div",{className:"flex-1 h-40 relative",style:{backgroundColor:s.color.hex},children:o.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:o.jsx("p",{className:"text-sm font-medium text-charcoal bg-white/90 backdrop-blur-sm px-3 py-2 rounded-lg text-right",children:s.color.name})})})]}),o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/5 overflow-hidden",children:[o.jsx(l,{label:"Brand",leftValue:r.color.brand,rightValue:s.color.brand}),o.jsx(l,{label:"Code",leftValue:r.color.code,rightValue:s.color.code}),o.jsx(l,{label:"LRV",leftValue:String(r.color.lrv),rightValue:String(s.color.lrv),leftWins:r.color.lrv>s.color.lrv?!0:r.color.lrv<s.color.lrv?!1:null}),o.jsx(l,{label:"Undertone",leftValue:`${r.color.undertone.temperature}, ${r.color.undertone.leansPrimary}`,rightValue:`${s.color.undertone.temperature}, ${s.color.undertone.leansPrimary}`}),o.jsx(l,{label:"Stability",leftValue:`${Math.round(r.color.stability*100)}%`,rightValue:`${Math.round(s.color.stability*100)}%`,leftWins:r.color.stability>s.color.stability?!0:r.color.stability<s.color.stability?!1:null}),o.jsx(l,{label:"Match Score",leftValue:String(r.scores.overall),rightValue:String(s.scores.overall),leftWins:r.scores.overall>s.scores.overall?!0:r.scores.overall<s.scores.overall?!1:null})]})}),o.jsx("div",{className:"px-4 space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/5 p-4",children:[o.jsx("p",{className:"text-sm font-medium text-charcoal mb-3",children:r.color.name}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[o.jsx(Jn,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-charcoal-light",children:r.color.bestIn})]}),o.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[o.jsx(Xn,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-charcoal-light",children:r.color.watchOut})]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/5 p-4",children:[o.jsx("p",{className:"text-sm font-medium text-charcoal mb-3",children:s.color.name}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[o.jsx(Jn,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-charcoal-light",children:s.color.bestIn})]}),o.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[o.jsx(Xn,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"text-charcoal-light",children:s.color.watchOut})]})]})]})]})}),o.jsx("div",{className:"px-4 mt-4",children:o.jsx("div",{className:"bg-cream-100 rounded-xl p-4",children:o.jsxs("p",{className:"text-sm text-charcoal-light text-center",children:["Both colors work well for your space. ",r.scores.overall>s.scores.overall?`${r.color.name} scores slightly higher for your preferences.`:s.scores.overall>r.scores.overall?`${s.color.name} scores slightly higher for your preferences.`:"They're equally matched for your preferences."]})})}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:()=>i("left"),className:"flex-1 btn-secondary text-sm",children:["Pick ",r.color.name.split(" ")[0]]}),o.jsxs("button",{onClick:()=>i("right"),className:"flex-1 btn-secondary text-sm",children:["Pick ",s.color.name.split(" ")[0]]}),o.jsx("button",{onClick:()=>i("both"),className:"btn-secondary px-4 text-sm",children:"Keep both"})]})})]})}const Sl=[{id:"surface",title:"What are you painting?",options:[{label:"Walls",value:"walls"},{label:"Trim",value:"trim"},{label:"Doors",value:"doors"},{label:"Cabinets",value:"cabinets"},{label:"Ceiling",value:"ceiling"}]},{id:"condition",title:"What's the surface like now?",options:[{label:"New drywall",value:"new_drywall"},{label:"Previously painted (good shape)",value:"painted_good"},{label:"Previously painted (rough/chalky)",value:"painted_rough"},{label:"Glossy surface (semi-gloss/oil)",value:"glossy"},{label:"Stained wood or tannins",value:"stained_wood"},{label:"Cabinet (factory finish)",value:"cabinet_slick"},{label:"Brick / masonry",value:"masonry"}]},{id:"priorities",title:"What matters most?",subtitle:"Pick up to 2",options:[{label:"Easy wipe-clean",value:"wipe_clean"},{label:"Scuff resistance",value:"scuff_resistance"},{label:"Moisture resistance",value:"moisture"},{label:"Best touch-ups",value:"touch_up"},{label:"Lowest odor / low VOC",value:"low_voc"},{label:"Budget-friendly",value:"budget"}]},{id:"sheen",title:"What sheen?",options:[{label:"Matte",value:"matte",hint:"Soft, hides flaws, marks easier"},{label:"Eggshell",value:"eggshell",hint:"The safe default for most rooms"},{label:"Satin",value:"satin",hint:"More wipeable, shows more texture"},{label:"Semi-gloss",value:"semigloss",hint:"Trim/doors, high wipeability"},{label:"Not sure  choose for me",value:"auto",hint:"We'll pick based on your room"}]},{id:"roomSize",title:"Room size?",subtitle:"For quantity estimate",options:[{label:"Small (bathroom, closet)",value:"small"},{label:"Medium (bedroom, office)",value:"medium"},{label:"Large (living room)",value:"large"},{label:"Very large (great room)",value:"very_large"}]}];function g1(){const{colorId:e}=gh(),t=Be(),{addToShoppingList:n,profile:r}=Pt(),s=e?jo(e):null,[i,l]=_.useState(0),[a,c]=_.useState(!1),[u,d]=_.useState({surface:"",condition:"",priorities:[],sheen:"",roomSize:""});if(!s)return o.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-charcoal-light mb-4",children:"Color not found."}),o.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go back"})]})});const f=Sl[i],m=i===Sl.length-1,v=y=>{if(f.id==="priorities"){const S=u.priorities||[];S.includes(y)?d(g=>({...g,priorities:S.filter(p=>p!==y)})):S.length<2&&d(g=>({...g,priorities:[...S,y]}))}else d(S=>({...S,[f.id]:y})),!m&&f.id!=="priorities"&&setTimeout(()=>l(S=>S+1),200)},x=()=>{const y=u.priorities,S=rv(s.brandId,u.surface,y,a),g=sv(u.condition),p=iv(u.roomSize,9,u.surface);let h=u.sheen;if(h==="auto"){const b=(r==null?void 0:r.roomType)||"living";b==="bathroom"?h="satin":b==="kitchen"||b==="hallway"?h="eggshell":b==="bedroom"&&!a?h="matte":h="eggshell"}let w="light";s.lrv<20?w="ultradeep":s.lrv<40?w="deep":s.lrv<60&&(w="medium");const j={id:`${s.id}-${u.surface}-${Date.now()}`,roomName:(r==null?void 0:r.roomType)||"living",surface:u.surface,color:s,productLine:S.name,sheen:h,base:w,quantity:{gallons:p.gallons,coats:p.coats},primer:{needed:g.needed,type:g.type,gallons:g.needed?1:0},productSpec:{surface:u.surface,room:(r==null?void 0:r.roomType)||"living",condition:u.condition,priorities:y,sheen:h,brand:s.brandId,noRegretsMode:a}};n(j),t("/shopping-list")};return o.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[o.jsxs("header",{className:"px-4 py-4 flex items-center justify-between border-b border-charcoal/5",children:[o.jsx("button",{onClick:()=>i>0?l(y=>y-1):t(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:s.hex}}),o.jsx("span",{className:"text-sm font-medium text-charcoal",children:s.name})]}),o.jsx("div",{className:"w-9"})]}),o.jsx("div",{className:"px-4 py-3 flex gap-1",children:Sl.map((y,S)=>o.jsx("div",{className:`flex-1 h-1 rounded-full transition-colors ${S<=i?"bg-charcoal":"bg-charcoal/15"}`},S))}),o.jsxs("div",{className:"px-6 pt-4 pb-4",children:[o.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:f.title}),f.subtitle&&o.jsx("p",{className:"text-charcoal-light text-sm mb-6",children:f.subtitle}),i===0&&o.jsxs("button",{onClick:()=>c(!a),className:`w-full mb-6 p-4 rounded-xl border flex items-center gap-3 transition-colors ${a?"bg-emerald-50 border-emerald-200":"bg-white border-charcoal/10 hover:border-charcoal/20"}`,children:[o.jsx(Wy,{className:`w-5 h-5 ${a?"text-emerald-600":"text-charcoal-light"}`}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:`text-sm font-medium ${a?"text-emerald-700":"text-charcoal"}`,children:"No-regrets mode"}),o.jsx("p",{className:"text-xs text-charcoal-light",children:"Defaults to forgiving sheen + high durability"})]}),o.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${a?"bg-emerald-500":"bg-charcoal/20"}`,children:o.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transform transition-transform mt-0.5 ${a?"translate-x-4.5 ml-0.5":"translate-x-0.5"}`})})]}),o.jsx("div",{className:"space-y-3",children:f.options.map(y=>{const S=f.id==="priorities"?(u.priorities||[]).includes(y.value):u[f.id]===y.value;return o.jsxs("button",{onClick:()=>v(y.value),className:`w-full p-4 rounded-xl border text-left transition-colors flex items-center gap-3 ${S?"bg-charcoal text-cream-50 border-charcoal":"bg-white border-charcoal/10 hover:border-charcoal/20"}`,children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium",children:y.label}),y.hint&&o.jsx("p",{className:`text-xs mt-0.5 ${S?"text-cream-50/70":"text-charcoal-light"}`,children:y.hint})]}),S&&o.jsx(Jn,{className:"w-5 h-5"})]},y.value)})})]}),o.jsx("div",{className:"px-6 pb-6 pt-2 safe-area-inset-bottom",children:m?o.jsxs("button",{onClick:x,disabled:!u.roomSize,className:"btn-primary flex items-center justify-center gap-2 disabled:opacity-50",children:[o.jsx(Yn,{className:"w-5 h-5"}),"Add to shopping list"]}):f.id==="priorities"?o.jsxs("button",{onClick:()=>l(y=>y+1),className:"btn-primary flex items-center justify-center gap-2",children:["Continue",o.jsx(ns,{className:"w-4 h-4"})]}):null})]})}function y1({shoppingList:e}){const{user:t}=Z.useAuth(),[n,r]=_.useState(!1),[s,i]=_.useState(!1),[l,a]=_.useState(!1),[c,u]=_.useState(""),[d,f]=_.useState(!1),m=()=>{if(!t){a(!0);return}const x=`Shopping List - ${new Date().toLocaleDateString()}`;u(x),i(!0)},v=async()=>{if(!(!t||!c.trim())){r(!0);try{const x=crypto.randomUUID();await Z.transact(Z.tx.savedShoppingLists[x].update({userId:t.id,name:c.trim(),createdAt:Date.now(),shoppingListData:JSON.stringify(e)})),f(!0),i(!1),setTimeout(()=>f(!1),2e3)}catch(x){console.error("Failed to save shopping list:",x)}finally{r(!1)}}};return e.length===0?null:o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:m,disabled:n,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm transition-colors ${d?"bg-emerald-100 text-emerald-700":"bg-charcoal/10 text-charcoal hover:bg-charcoal/20"}`,children:[n?o.jsx(De,{className:"w-4 h-4 animate-spin"}):d?o.jsx(Jn,{className:"w-4 h-4"}):o.jsx(Sh,{className:"w-4 h-4"}),d?"Saved!":"Save list"]}),s&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:o.jsxs("div",{className:"bg-cream-50 rounded-2xl w-full max-w-sm p-6 relative",children:[o.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 p-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(Xn,{className:"w-5 h-5"})}),o.jsx("h3",{className:"font-serif text-xl text-charcoal mb-4",children:"Save Shopping List"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"list-name",className:"block text-sm font-medium text-charcoal mb-2",children:"Name your list"}),o.jsx("input",{type:"text",id:"list-name",value:c,onChange:x=>u(x.target.value),placeholder:"e.g., Bedroom Makeover",className:"w-full px-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50",autoFocus:!0})]}),o.jsx("button",{onClick:v,disabled:n||!c.trim(),className:"btn-primary w-full flex items-center justify-center gap-2",children:n?o.jsxs(o.Fragment,{children:[o.jsx(De,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save"})]})}),o.jsx(nc,{isOpen:l,onClose:()=>a(!1)})]})}function v1(){const e=Be(),{shoppingList:t,removeFromShoppingList:n,clearShoppingList:r}=Pt(),s=d=>`Hi, I'm looking for ${d.color.brand} ${d.productLine}, ${d.sheen} finish, ${d.base} base, ${d.quantity.gallons} gallon${d.quantity.gallons>1?"s":""}, color code ${d.color.code} (${d.color.name}). Do you have it in stock or can you mix it today?`,i=()=>t.map(d=>{let f=`${d.roomName} - ${d.surface}
`;return f+=`  ${d.color.name} (${d.color.code})
`,f+=`  ${d.color.brand} ${d.productLine}
`,f+=`  ${d.sheen}, ${d.base} base
`,f+=`  Qty: ${d.quantity.gallons} gal (${d.quantity.coats} coats)
`,d.primer.needed&&(f+=`  Primer: ${d.primer.type}, ${d.primer.gallons} gal
`),f}).join(`
`),l=async()=>{const d=i();await navigator.clipboard.writeText(d),alert("Shopping list copied to clipboard!")},a=async()=>{const d=i();navigator.share?await navigator.share({title:"The Color Edit - Shopping List",text:d}):l()};if(t.length===0)return o.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[o.jsxs("header",{className:"px-4 py-4 flex items-center border-b border-charcoal/5",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"ml-2 font-serif text-lg text-charcoal",children:"Shopping List"})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-charcoal-light mb-4",children:"Your shopping list is empty."}),o.jsx("p",{className:"text-sm text-charcoal-lighter mb-6",children:"Choose paint type & finish for colors in your shortlist to add them here."}),o.jsx("button",{onClick:()=>e("/shortlist"),className:"btn-secondary",children:"Back to shortlist"})]})})]});const c=t.reduce((d,f)=>d+f.quantity.gallons,0),u=t.reduce((d,f)=>d+(f.primer.gallons||0),0);return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[o.jsx("header",{className:"px-4 py-4 border-b border-charcoal/5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Shopping List"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(y1,{shoppingList:t}),o.jsx("button",{onClick:r,className:"p-2 text-charcoal-light hover:text-red-500 transition-colors",children:o.jsx(gi,{className:"w-5 h-5"})})]})]})}),o.jsxs("div",{className:"px-4 py-4 bg-cream-100",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-charcoal-light",children:"Total paint:"}),o.jsxs("span",{className:"font-medium text-charcoal",children:[c," gallon",c!==1?"s":""]})]}),u>0&&o.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[o.jsx("span",{className:"text-charcoal-light",children:"Total primer:"}),o.jsxs("span",{className:"font-medium text-charcoal",children:[u," gallon",u!==1?"s":""]})]})]}),o.jsx("div",{className:"p-4 space-y-4",children:t.map(d=>o.jsxs("div",{className:"card p-4",children:[o.jsxs("div",{className:"flex gap-4 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-xl flex-shrink-0",style:{backgroundColor:d.color.hex}}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-charcoal",children:d.color.name}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[d.color.brand,"  ",d.color.code]}),o.jsxs("p",{className:"text-xs text-charcoal-lighter mt-1 capitalize",children:[d.roomName,"  ",d.surface]})]}),o.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-charcoal-light hover:text-red-500 transition-colors",children:o.jsx(gi,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-charcoal-light",children:"Product:"})," ",o.jsx("span",{className:"text-charcoal",children:d.productLine})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-charcoal-light",children:"Sheen:"})," ",o.jsx("span",{className:"text-charcoal capitalize",children:d.sheen})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-charcoal-light",children:"Base:"})," ",o.jsx("span",{className:"text-charcoal capitalize",children:d.base})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-charcoal-light",children:"Quantity:"})," ",o.jsxs("span",{className:"text-charcoal",children:[d.quantity.gallons," gal (",d.quantity.coats," coats)"]})]})]}),d.primer.needed&&o.jsx("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsx("span",{className:"font-medium",children:"Primer needed:"})," ",d.primer.type,", ",d.primer.gallons," gallon"]})}),o.jsxs("div",{className:"mt-4 p-3 bg-cream-100 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-charcoal-light uppercase tracking-wide",children:"Call-ahead script"}),o.jsx("button",{onClick:()=>navigator.clipboard.writeText(s(d)),className:"text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(bu,{className:"w-4 h-4"})})]}),o.jsxs("p",{className:"text-xs text-charcoal leading-relaxed",children:['"',s(d),'"']})]})]},d.id))}),o.jsx("div",{className:"px-4 mb-4",children:o.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("p",{className:"text-sm font-medium text-charcoal mb-2",children:"Don't forget supplies"}),o.jsxs("ul",{className:"text-sm text-charcoal-light space-y-1",children:[o.jsx("li",{children:' Roller covers (3/8" for smooth, 1/2" for textured)'}),o.jsx("li",{children:' Quality angled brush (2.5" for cutting in)'}),o.jsx("li",{children:" Painter's tape"}),o.jsx("li",{children:" Drop cloths"}),o.jsx("li",{children:" Paint tray or bucket grid"})]})]})}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("button",{onClick:l,className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[o.jsx(bu,{className:"w-4 h-4"}),"Copy as text"]}),o.jsxs("button",{onClick:a,className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[o.jsx(By,{className:"w-4 h-4"}),"Share list"]}),o.jsxs("button",{onClick:()=>e("/stores"),className:"btn-primary px-4 flex items-center gap-2",children:[o.jsx(Di,{className:"w-4 h-4"}),"Find stores"]})]})})]})}const x1="https://color-edit-api.rkrigney.workers.dev",_l={sw:"Sherwin-Williams",bm:"Benjamin Moore",behr:"Behr",ppg:"PPG",valspar:"Valspar"};function w1(e,t){const n=e.toLowerCase(),r=[];return(n.includes("sherwin")||n.includes("sw"))&&r.push("sw"),(n.includes("benjamin moore")||n.includes("bm"))&&r.push("bm"),n.includes("home depot")&&r.push("behr","ppg"),n.includes("lowe")&&r.push("valspar","sw"),n.includes("ace hardware")&&r.push("bm","sw"),n.includes("ppg")&&r.push("ppg"),r.length===0&&(t.includes("paint_store")||n.includes("paint"))&&r.push("sw","bm"),r}function b1(e){const t=e.toLowerCase();return t.includes("sherwin")||t.includes("benjamin moore")||t.includes("ppg")?"brand_store":t.includes("home depot")||t.includes("lowe")?"big_box":t.includes("ace")||t.includes("true value")?"hardware":"independent"}function j1(){const e=Be(),[t,n]=_.useState([]),[r,s]=_.useState(""),[i,l]=_.useState(null),[a,c]=_.useState(!0),[u,d]=_.useState(null),[f,m]=_.useState("requesting");_.useEffect(()=>{v()},[]);const v=()=>{if(c(!0),d(null),m("requesting"),!navigator.geolocation){d("Geolocation is not supported by your browser"),m("error"),c(!1);return}navigator.geolocation.getCurrentPosition(async h=>{m("granted"),await x(h.coords.latitude,h.coords.longitude)},h=>{console.error("Geolocation error:",h),m("denied"),d("Please enable location access to find stores near you"),c(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},x=async(h,w)=>{try{const j=await fetch(`${x1}/stores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:h,longitude:w,radius:32187,limit:5})});if(!j.ok)throw new Error("Failed to fetch stores");const b=await j.json();if(b.success&&b.stores){const k=b.stores.map((N,M)=>{var O,ee;return{id:N.place_id||`store-${M}`,name:N.name,brandAffiliation:w1(N.name,N.types||[]),storeType:b1(N.name),distance:N.distance?Math.round(N.distance*10)/10:0,address:N.vicinity||N.formatted_address||"",city:"",state:"",phone:N.formatted_phone_number||"",hours:(O=N.opening_hours)!=null&&O.open_now?"Open now":"Hours unavailable",isOpen:((ee=N.opening_hours)==null?void 0:ee.open_now)??!0,isFavorite:!1}});n(k)}else d("No paint stores found within 20 miles")}catch(j){console.error("Error fetching stores:",j),d("Unable to find nearby stores. Please try again.")}finally{c(!1)}},y=t.filter(h=>{if(r){const w=r.toLowerCase();return h.name.toLowerCase().includes(w)||h.address.toLowerCase().includes(w)||h.brandAffiliation.some(j=>{var b;return(b=_l[j])==null?void 0:b.toLowerCase().includes(w)})}return!0}).filter(h=>i?h.brandAffiliation.includes(i):!0).sort((h,w)=>h.isFavorite&&!w.isFavorite?-1:!h.isFavorite&&w.isFavorite?1:h.distance-w.distance),S=h=>{n(w=>w.map(j=>j.id===h?{...j,isFavorite:!j.isFavorite}:j))},g=h=>{const w=encodeURIComponent(h.address);window.open(`https://www.google.com/maps/dir/?api=1&destination=${w}`,"_blank")},p=h=>{h&&window.open(`tel:${h.replace(/[^0-9]/g,"")}`,"_blank")};return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[o.jsxs("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Find Stores"}),o.jsx("div",{className:"w-9"})]}),o.jsxs("div",{className:"relative mb-3",children:[o.jsx($y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-charcoal-light"}),o.jsx("input",{type:"text",placeholder:"Search stores or brands...",value:r,onChange:h=>s(h.target.value),className:`w-full pl-10 pr-4 py-3 bg-white border border-charcoal/10 rounded-xl text-sm
                     placeholder:text-charcoal-lighter focus:outline-none focus:border-charcoal/30`})]}),o.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-4 px-4",children:[o.jsx("button",{onClick:()=>l(null),className:`flex-shrink-0 ${i?"btn-pill":"btn-pill-selected"} text-xs`,children:"All"}),["sw","bm","behr","ppg"].map(h=>o.jsx("button",{onClick:()=>l(i===h?null:h),className:`flex-shrink-0 ${i===h?"btn-pill-selected":"btn-pill"} text-xs`,children:_l[h]},h))]})]}),a&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[o.jsx(De,{className:"w-8 h-8 text-charcoal animate-spin mb-4"}),o.jsx("p",{className:"text-charcoal-light text-center",children:f==="requesting"?"Requesting location access...":"Finding paint stores near you..."})]}),!a&&u&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[o.jsx(Fy,{className:"w-12 h-12 text-charcoal-light mb-4"}),o.jsx("p",{className:"text-charcoal text-center mb-2 font-medium",children:"Location Required"}),o.jsx("p",{className:"text-charcoal-light text-center text-sm mb-6",children:u}),o.jsx("button",{onClick:v,className:"btn-primary",children:"Try Again"})]}),!a&&!u&&t.length>0&&o.jsx("div",{className:"px-4 py-3 bg-cream-100 text-center",children:o.jsxs("p",{className:"text-xs text-charcoal-light",children:["Showing ",t.length," paint stores within 20 miles. Call ahead to confirm availability."]})}),!a&&!u&&o.jsxs("div",{className:"p-4 space-y-3",children:[y.map(h=>o.jsxs("div",{className:"card p-4",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-medium text-charcoal truncate",children:h.name}),h.isFavorite&&o.jsx(mi,{className:"w-4 h-4 text-gold fill-gold flex-shrink-0"})]}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[h.distance," mi away"]})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${h.isOpen?"bg-emerald-50 text-emerald-700":"bg-charcoal/5 text-charcoal-light"}`,children:h.isOpen?"Open":"Closed"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal-light mb-2",children:[o.jsx(Di,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:h.address})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal-light mb-3",children:[o.jsx(Da,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("span",{children:h.hours})]}),h.brandAffiliation.length>0&&o.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:h.brandAffiliation.map(w=>o.jsx("span",{className:"px-2 py-0.5 bg-cream-100 text-charcoal-light text-xs rounded-full",children:_l[w]||w},w))}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>g(h),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[o.jsx(Dy,{className:"w-4 h-4"}),"Directions"]}),h.phone&&o.jsxs("button",{onClick:()=>p(h.phone),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[o.jsx(Uy,{className:"w-4 h-4"}),"Call"]}),o.jsx("button",{onClick:()=>S(h.id),className:`btn-secondary px-3 ${h.isFavorite?"text-gold":""}`,children:o.jsx(mi,{className:`w-4 h-4 ${h.isFavorite?"fill-gold":""}`})})]})]},h.id)),y.length===0&&t.length>0&&o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-charcoal-light",children:"No stores found matching your search."})})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:o.jsx("button",{onClick:()=>e("/shopping-list"),className:"btn-primary w-full",children:"Back to shopping list"})})]})}function S1(){const e=Be(),{shortlist:t,profile:n}=Pt();if(!n||t.length===0)return o.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-charcoal-light mb-4",children:"No shortlist available."}),o.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary",children:"Start over"})]})});const r=nv(t,n),s=[Hy,bo,jh];return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[o.jsxs("header",{className:"px-4 py-4 flex items-center border-b border-charcoal/5",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"ml-2 font-serif text-lg text-charcoal",children:"Sampling Plan"})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:"How to test your samples"}),o.jsx("p",{className:"text-charcoal-light",children:"Follow this plan to see how your colors really perform in your space."})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-sm text-charcoal-light uppercase tracking-wide mb-3",children:"Your shortlist"}),o.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-6 px-6",children:t.map(i=>o.jsxs("div",{className:"flex-shrink-0 w-20",children:[o.jsx("div",{className:"w-20 h-16 rounded-xl mb-2",style:{backgroundColor:i.color.hex}}),o.jsx("p",{className:"text-xs text-charcoal truncate",children:i.color.name})]},i.color.id))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[o.jsx(Di,{className:"w-5 h-5 text-gold"}),"Where to place samples"]}),o.jsx("div",{className:"space-y-3",children:r.placements.map((i,l)=>o.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("div",{className:"w-8 h-8 bg-cream-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx("span",{className:"text-sm font-medium text-charcoal",children:l+1})}),o.jsx("p",{className:"text-sm text-charcoal pt-1",children:i})]},l))})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[o.jsx(bo,{className:"w-5 h-5 text-gold"}),"When to check"]}),o.jsx("div",{className:"space-y-3",children:r.timesToCheck.map((i,l)=>{const a=s[l];return o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-charcoal/5",children:[o.jsx("div",{className:"w-8 h-8 bg-cream-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(a,{className:"w-4 h-4 text-charcoal-light"})}),o.jsx("p",{className:"text-sm text-charcoal",children:i})]},l)})})]}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[o.jsx(Oy,{className:"w-5 h-5 text-gold"}),"What to compare against"]}),o.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5 space-y-3",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),o.jsx("p",{className:"text-sm text-charcoal",children:"Hold the sample next to your floors"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),o.jsx("p",{className:"text-sm text-charcoal",children:"Hold it next to counters, cabinets, or fixed elements"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),o.jsx("p",{className:"text-sm text-charcoal",children:"Step back and view from across the room"})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),o.jsx("p",{className:"text-sm text-charcoal",children:"Look at it from the hallway or doorway"})]})]})]}),r.alternates.length>0&&o.jsxs("div",{className:"mb-8",children:[o.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[o.jsx(Ry,{className:"w-5 h-5 text-gold"}),"If it's not quite right"]}),o.jsx("div",{className:"space-y-3",children:r.alternates.map((i,l)=>o.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:o.jsxs("p",{className:"text-sm text-amber-800",children:[o.jsxs("span",{className:"font-medium",children:["If it looks too ",i.ifLooksToo,":"]})," ","try ",i.tryInstead.join(" or ")]})},l))})]}),o.jsxs("div",{className:"p-4 bg-cream-100 rounded-xl",children:[o.jsx("h4",{className:"text-sm font-medium text-charcoal mb-2",children:"Pro tips"}),o.jsxs("ul",{className:"text-sm text-charcoal-light space-y-2",children:[o.jsx("li",{children:" Paint samples are worth it  digital swatches can only get you so far"}),o.jsx("li",{children:' Use large sample boards (at least 12"12") for accuracy'}),o.jsx("li",{children:" Apply 2 coats to your sample boards for true color"}),o.jsx("li",{children:" Live with samples for at least 2448 hours before deciding"})]})]})]}),o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:o.jsxs("button",{onClick:()=>e("/shopping-list"),className:"btn-primary w-full flex items-center justify-center gap-2",children:["Got it  show shopping list",o.jsx(ns,{className:"w-4 h-4"})]})})]})}function _1(){var g,p;const e=Be(),{user:t}=Z.useAuth(),{shortlist:n,setShortlist:r,profile:s,setProfile:i}=Pt(),[l,a]=_.useState(null),{isLoading:c,data:u,error:d}=Z.useQuery(t?{savedShortlists:{}}:null),f=((p=(g=u==null?void 0:u.savedShortlists)==null?void 0:g.filter(h=>h.userId===(t==null?void 0:t.id)))==null?void 0:p.sort((h,w)=>(w.createdAt||0)-(h.createdAt||0)))||[];if(_.useEffect(()=>{d&&console.error("InstantDB query error:",d)},[d]),!t)return e("/"),null;const m=h=>{try{const w=JSON.parse(h.shortlistData);r(w),i({roomType:h.roomType,lighting:{direction:"unknown",primaryUsage:"both",bulbTemp:"unknown"},fixedElements:[],vibe:{cozyToCrisp:50,calmToMoody:50},undertoneFears:[],brandPreferences:[],depthPreference:"any"}),e("/shortlist")}catch(w){console.error("Failed to load shortlist:",w)}},v=async h=>{a(h);try{await Z.transact(Z.tx.savedShortlists[h].delete())}catch(w){console.error("Failed to delete shortlist:",w)}finally{a(null)}},x=h=>{const w=new Date(h),j=new Date,b=j.getTime()-w.getTime(),k=Math.floor(b/6e4),N=Math.floor(b/36e5),M=Math.floor(b/864e5);return k<1?"Just now":k<60?`${k}m ago`:N<24?`${N}h ago`:M<7?`${M}d ago`:w.toLocaleDateString("en-US",{month:"short",day:"numeric",year:w.getFullYear()!==j.getFullYear()?"numeric":void 0})},y={living:"Living room",bedroom:"Bedroom",kitchen:"Kitchen",bathroom:"Bathroom",hallway:"Hallway",office:"Home office",nursery:"Nursery"},S=n.length>0;return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-8",children:[o.jsx("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Saved Shortlists"}),o.jsx("div",{className:"w-9"})]})}),o.jsxs("div",{className:"p-4 space-y-6",children:[S&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xs font-medium text-charcoal-light uppercase tracking-wide mb-3 flex items-center gap-2",children:[o.jsx(mi,{className:"w-3.5 h-3.5"}),"Current Session"]}),o.jsxs("button",{onClick:()=>e("/shortlist"),className:"w-full bg-gradient-to-br from-gold/10 to-gold/5 border-2 border-gold/30 rounded-xl p-4 text-left hover:border-gold/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-charcoal",children:s!=null&&s.roomType?y[s.roomType]:"Your shortlist"}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[n.length," colors  Unsaved"]})]}),o.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-1 rounded-full",children:"Active"})]}),o.jsxs("div",{className:"flex gap-2",children:[n.slice(0,6).map((h,w)=>o.jsx("div",{className:"w-11 h-11 rounded-lg shadow-sm ring-1 ring-black/5",style:{backgroundColor:h.color.hex},title:h.color.name},w)),n.length>6&&o.jsxs("div",{className:"w-11 h-11 rounded-lg bg-charcoal/10 flex items-center justify-center text-xs text-charcoal-light",children:["+",n.length-6]})]})]})]}),o.jsxs("div",{children:[(f.length>0||S)&&o.jsxs("h2",{className:"text-xs font-medium text-charcoal-light uppercase tracking-wide mb-3 flex items-center gap-2",children:[o.jsx(pi,{className:"w-3.5 h-3.5"}),"Saved"]}),c?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(De,{className:"w-8 h-8 animate-spin text-charcoal-light"})}):d?o.jsxs("div",{className:"text-center py-8 bg-red-50 rounded-xl",children:[o.jsx("p",{className:"text-red-600 text-sm mb-2",children:"Unable to load saved shortlists"}),o.jsx("p",{className:"text-red-400 text-xs",children:"Please try refreshing the page"})]}):f.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-charcoal/5",children:[o.jsx(pi,{className:"w-10 h-10 text-charcoal/15 mx-auto mb-3"}),o.jsx("p",{className:"text-charcoal-light text-sm mb-1",children:"No saved shortlists yet"}),o.jsx("p",{className:"text-charcoal-lighter text-xs mb-4",children:"Save your shortlists to access them anytime"}),!S&&o.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary text-sm",children:"Create a shortlist"})]}):o.jsx("div",{className:"space-y-3",children:f.map(h=>{let w=[];try{w=JSON.parse(h.shortlistData||"[]")}catch{w=[]}return o.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/10 overflow-hidden shadow-sm",children:[o.jsxs("button",{onClick:()=>m(h),className:"w-full p-4 text-left hover:bg-cream-50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-charcoal",children:h.name||"Untitled"}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[y[h.roomType]||"Room","  ",w.length," colors"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-charcoal-light",children:[o.jsx(Da,{className:"w-3 h-3"}),x(h.createdAt||Date.now())]})]}),o.jsxs("div",{className:"flex gap-2",children:[w.slice(0,6).map((j,b)=>{var k,N;return o.jsx("div",{className:"w-11 h-11 rounded-lg shadow-sm ring-1 ring-black/5",style:{backgroundColor:((k=j.color)==null?void 0:k.hex)||"#ccc"},title:(N=j.color)==null?void 0:N.name},b)}),w.length>6&&o.jsxs("div",{className:"w-11 h-11 rounded-lg bg-charcoal/10 flex items-center justify-center text-xs text-charcoal-light",children:["+",w.length-6]})]})]}),o.jsxs("div",{className:"border-t border-charcoal/5 px-4 py-2 flex justify-between items-center bg-cream-50/50",children:[o.jsx("span",{className:"text-xs text-charcoal-lighter",children:"Tap to load"}),o.jsx("button",{onClick:j=>{j.stopPropagation(),v(h.id)},disabled:l===h.id,className:"p-2 text-charcoal-light hover:text-red-600 transition-colors disabled:opacity-50",children:l===h.id?o.jsx(De,{className:"w-4 h-4 animate-spin"}):o.jsx(gi,{className:"w-4 h-4"})})]})]},h.id)})})]})]})]})}function k1(){var y,S;const e=Be(),{user:t}=Z.useAuth(),{shoppingList:n,setShoppingListFromSaved:r}=Pt(),[s,i]=_.useState(null),{isLoading:l,data:a,error:c}=Z.useQuery(t?{savedShoppingLists:{}}:null),u=((S=(y=a==null?void 0:a.savedShoppingLists)==null?void 0:y.filter(g=>g.userId===(t==null?void 0:t.id)))==null?void 0:S.sort((g,p)=>(p.createdAt||0)-(g.createdAt||0)))||[];if(_.useEffect(()=>{c&&console.error("InstantDB query error:",c)},[c]),!t)return e("/"),null;const d=g=>{try{const p=JSON.parse(g.shoppingListData);r(p),e("/shopping-list")}catch(p){console.error("Failed to load shopping list:",p)}},f=async g=>{i(g);try{await Z.transact(Z.tx.savedShoppingLists[g].delete())}catch(p){console.error("Failed to delete shopping list:",p)}finally{i(null)}},m=g=>{const p=new Date(g),h=new Date,w=h.getTime()-p.getTime(),j=Math.floor(w/6e4),b=Math.floor(w/36e5),k=Math.floor(w/864e5);return j<1?"Just now":j<60?`${j}m ago`:b<24?`${b}h ago`:k<7?`${k}d ago`:p.toLocaleDateString("en-US",{month:"short",day:"numeric",year:p.getFullYear()!==h.getFullYear()?"numeric":void 0})},v=n.length>0,x=n.reduce((g,p)=>g+p.quantity.gallons,0);return o.jsxs("div",{className:"min-h-screen bg-cream-50 pb-8",children:[o.jsx("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:o.jsx(it,{className:"w-5 h-5"})}),o.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Saved Shopping Lists"}),o.jsx("div",{className:"w-9"})]})}),o.jsxs("div",{className:"p-4 space-y-6",children:[v&&o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xs font-medium text-charcoal-light uppercase tracking-wide mb-3 flex items-center gap-2",children:[o.jsx(mi,{className:"w-3.5 h-3.5"}),"Current Session"]}),o.jsxs("button",{onClick:()=>e("/shopping-list"),className:"w-full bg-gradient-to-br from-gold/10 to-gold/5 border-2 border-gold/30 rounded-xl p-4 text-left hover:border-gold/50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-charcoal",children:"Current Shopping List"}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[n.length," items  ",x," gallons  Unsaved"]})]}),o.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-1 rounded-full",children:"Active"})]}),o.jsxs("div",{className:"flex gap-2",children:[n.slice(0,6).map((g,p)=>o.jsx("div",{className:"w-11 h-11 rounded-lg shadow-sm ring-1 ring-black/5",style:{backgroundColor:g.color.hex},title:g.color.name},p)),n.length>6&&o.jsxs("div",{className:"w-11 h-11 rounded-lg bg-charcoal/10 flex items-center justify-center text-xs text-charcoal-light",children:["+",n.length-6]})]})]})]}),o.jsxs("div",{children:[(u.length>0||v)&&o.jsxs("h2",{className:"text-xs font-medium text-charcoal-light uppercase tracking-wide mb-3 flex items-center gap-2",children:[o.jsx(Yn,{className:"w-3.5 h-3.5"}),"Saved"]}),l?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(De,{className:"w-8 h-8 animate-spin text-charcoal-light"})}):c?o.jsxs("div",{className:"text-center py-8 bg-red-50 rounded-xl",children:[o.jsx("p",{className:"text-red-600 text-sm mb-2",children:"Unable to load saved shopping lists"}),o.jsx("p",{className:"text-red-400 text-xs",children:"Please try refreshing the page"})]}):u.length===0?o.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-charcoal/5",children:[o.jsx(Yn,{className:"w-10 h-10 text-charcoal/15 mx-auto mb-3"}),o.jsx("p",{className:"text-charcoal-light text-sm mb-1",children:"No saved shopping lists yet"}),o.jsx("p",{className:"text-charcoal-lighter text-xs mb-4",children:"Save your shopping lists to access them anytime"}),!v&&o.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary text-sm",children:"Start creating your palette"})]}):o.jsx("div",{className:"space-y-3",children:u.map(g=>{let p=[];try{p=JSON.parse(g.shoppingListData||"[]")}catch{p=[]}const h=p.reduce((w,j)=>{var b;return w+(((b=j.quantity)==null?void 0:b.gallons)||0)},0);return o.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/10 overflow-hidden shadow-sm",children:[o.jsxs("button",{onClick:()=>d(g),className:"w-full p-4 text-left hover:bg-cream-50 transition-colors",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-charcoal",children:g.name||"Untitled"}),o.jsxs("p",{className:"text-sm text-charcoal-light",children:[p.length," items  ",h," gallons"]})]}),o.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-charcoal-light",children:[o.jsx(Da,{className:"w-3 h-3"}),m(g.createdAt||Date.now())]})]}),o.jsxs("div",{className:"flex gap-2",children:[p.slice(0,6).map((w,j)=>{var b,k;return o.jsx("div",{className:"w-11 h-11 rounded-lg shadow-sm ring-1 ring-black/5",style:{backgroundColor:((b=w.color)==null?void 0:b.hex)||"#ccc"},title:(k=w.color)==null?void 0:k.name},j)}),p.length>6&&o.jsxs("div",{className:"w-11 h-11 rounded-lg bg-charcoal/10 flex items-center justify-center text-xs text-charcoal-light",children:["+",p.length-6]})]})]}),o.jsxs("div",{className:"border-t border-charcoal/5 px-4 py-2 flex justify-between items-center bg-cream-50/50",children:[o.jsx("span",{className:"text-xs text-charcoal-lighter",children:"Tap to load"}),o.jsx("button",{onClick:w=>{w.stopPropagation(),f(g.id)},disabled:s===g.id,className:"p-2 text-charcoal-light hover:text-red-600 transition-colors disabled:opacity-50",children:s===g.id?o.jsx(De,{className:"w-4 h-4 animate-spin"}):o.jsx(gi,{className:"w-4 h-4"})})]})]},g.id)})})]})]})]})}function N1(){var m,v,x;const e=Be(),{isLoading:t,user:n,error:r}=Z.useAuth(),[s,i]=_.useState(!1),[l,a]=_.useState(!1),{data:c}=Z.useQuery(n?{savedShortlists:{$:{where:{userId:n.id}}},savedShoppingLists:{$:{where:{userId:n.id}}}}:null),u=()=>{Z.auth.signOut(),i(!1)};if(t)return o.jsx("div",{className:"p-2",children:o.jsx(De,{className:"w-5 h-5 animate-spin text-charcoal-light"})});if(r&&console.error("Auth error:",r),!n)return o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:[o.jsx(ju,{className:"w-4 h-4"}),o.jsx("span",{children:"Sign in"})]}),o.jsx(nc,{isOpen:l,onClose:()=>a(!1)})]});const d=((m=c==null?void 0:c.savedShortlists)==null?void 0:m.length)||0,f=((v=c==null?void 0:c.savedShoppingLists)==null?void 0:v.length)||0;return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-charcoal hover:bg-cream-100 rounded-full transition-colors",children:[o.jsx("div",{className:"w-7 h-7 rounded-full bg-gold/20 flex items-center justify-center",children:o.jsx(ju,{className:"w-4 h-4 text-gold"})}),o.jsx("span",{className:"max-w-[120px] truncate",children:(x=n.email)==null?void 0:x.split("@")[0]}),o.jsx(Py,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-xl shadow-lg border border-charcoal/10 py-2 z-50",children:[o.jsxs("div",{className:"px-4 py-2 border-b border-charcoal/5",children:[o.jsx("p",{className:"text-xs text-charcoal-light",children:"Signed in as"}),o.jsx("p",{className:"text-sm text-charcoal truncate",children:n.email})]}),o.jsxs("div",{className:"py-2",children:[o.jsxs("button",{onClick:()=>{e("/saved-shortlists"),i(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-cream-100 transition-colors",children:[o.jsx(pi,{className:"w-4 h-4 text-charcoal-light"}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("span",{className:"text-sm text-charcoal",children:"Saved Shortlists"})}),d>0&&o.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-0.5 rounded-full",children:d})]}),o.jsxs("button",{onClick:()=>{e("/saved-shopping-lists"),i(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-cream-100 transition-colors",children:[o.jsx(Yn,{className:"w-4 h-4 text-charcoal-light"}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("span",{className:"text-sm text-charcoal",children:"Saved Shopping Lists"})}),f>0&&o.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-0.5 rounded-full",children:f})]})]}),o.jsx("div",{className:"border-t border-charcoal/5 pt-2",children:o.jsxs("button",{onClick:u,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-cream-100 transition-colors text-red-600",children:[o.jsx(Ay,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Sign out"})]})})]})]})]})}const gt={shortlist:"thecoloredit_shortlist",shoppingList:"thecoloredit_shoppingList",profile:"thecoloredit_profile",roomImage:"thecoloredit_roomImage"},Zh=_.createContext(null);function Pt(){const e=_.useContext(Zh);if(!e)throw new Error("useAppContext must be used within AppProvider");return e}function C1({children:e}){const t=Fa(),r=!["/setup","/product-picker"].some(s=>t.pathname.startsWith(s));return o.jsxs("div",{className:"min-h-screen bg-cream-50",children:[r&&o.jsx("div",{className:"sticky top-0 z-50 bg-cream-50/95 backdrop-blur-sm border-b border-charcoal/5",children:o.jsx("div",{className:"flex justify-end px-4 py-2",children:o.jsx(N1,{})})}),e]})}function Es(e,t){try{const n=localStorage.getItem(e);return n?JSON.parse(n):t}catch{return t}}function E1(){const[e,t]=_.useState(()=>Es(gt.profile,null)),[n,r]=_.useState(()=>Es(gt.shortlist,[])),[s,i]=_.useState([null,null]),[l,a]=_.useState(()=>Es(gt.shoppingList,[])),[c,u]=_.useState(()=>Es(gt.roomImage,null));_.useEffect(()=>{n.length>0&&localStorage.setItem(gt.shortlist,JSON.stringify(n))},[n]),_.useEffect(()=>{l.length>0&&localStorage.setItem(gt.shoppingList,JSON.stringify(l))},[l]),_.useEffect(()=>{e&&localStorage.setItem(gt.profile,JSON.stringify(e))},[e]),_.useEffect(()=>{c&&localStorage.setItem(gt.roomImage,JSON.stringify(c))},[c]);const d=g=>t(g),f=g=>r(g),m=g=>u(g),v=g=>{a(p=>[...p.filter(h=>h.id!==g.id),g])},x=g=>{a(p=>p.filter(h=>h.id!==g))},y=()=>{localStorage.removeItem(gt.shoppingList),a([])},S=g=>{a(g)};return o.jsx(Zh.Provider,{value:{profile:e,setProfile:d,shortlist:n,setShortlist:f,compareColors:s,setCompareColors:i,shoppingList:l,addToShoppingList:v,removeFromShoppingList:x,clearShoppingList:y,setShoppingListFromSaved:S,roomImage:c,setRoomImage:m},children:o.jsx(Sy,{basename:"/thecoloredit",children:o.jsx(C1,{children:o.jsxs(wy,{children:[o.jsx(We,{path:"/",element:o.jsx(Ky,{})}),o.jsx(We,{path:"/setup",element:o.jsx(lv,{})}),o.jsx(We,{path:"/shortlist",element:o.jsx(h1,{})}),o.jsx(We,{path:"/color/:id",element:o.jsx(p1,{})}),o.jsx(We,{path:"/compare",element:o.jsx(m1,{})}),o.jsx(We,{path:"/product-picker/:colorId",element:o.jsx(g1,{})}),o.jsx(We,{path:"/shopping-list",element:o.jsx(v1,{})}),o.jsx(We,{path:"/stores",element:o.jsx(j1,{})}),o.jsx(We,{path:"/sampling-plan",element:o.jsx(S1,{})}),o.jsx(We,{path:"/saved-shortlists",element:o.jsx(_1,{})}),o.jsx(We,{path:"/saved-shopping-lists",element:o.jsx(k1,{})})]})})})})}kl.createRoot(document.getElementById("root")).render(o.jsx(sd.StrictMode,{children:o.jsx(E1,{})}));
