function Yh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hu={exports:{}},yi={},Qu={exports:{}},A={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),Zh=Symbol.for("react.portal"),ep=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),rp=Symbol.for("react.provider"),sp=Symbol.for("react.context"),ip=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),op=Symbol.for("react.memo"),ap=Symbol.for("react.lazy"),ec=Symbol.iterator;function cp(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,Gu={};function Zn(e,t,n){this.props=e,this.context=t,this.refs=Gu,this.updater=n||qu}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ju(){}Ju.prototype=Zn.prototype;function $o(e,t,n){this.props=e,this.context=t,this.refs=Gu,this.updater=n||qu}var Uo=$o.prototype=new Ju;Uo.constructor=$o;Ku(Uo,Zn.prototype);Uo.isPureReactComponent=!0;var tc=Array.isArray,Yu=Object.prototype.hasOwnProperty,Bo={current:null},Xu={key:!0,ref:!0,__self:!0,__source:!0};function Zu(e,t,n){var r,s={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Yu.call(t,r)&&!Xu.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Gr,type:e,key:i,ref:l,props:s,_owner:Bo.current}}function up(e,t){return{$$typeof:Gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gr}function dp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var nc=/\/+/g;function Ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dp(""+e.key):t.toString(36)}function Cs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Gr:case Zh:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Ui(l,0):r,tc(s)?(n="",e!=null&&(n=e.replace(nc,"$&/")+"/"),Cs(s,t,n,"",function(u){return u})):s!=null&&(Wo(s)&&(s=up(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(nc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",tc(e))for(var o=0;o<e.length;o++){i=e[o];var c=r+Ui(i,o);l+=Cs(i,t,n,c,s)}else if(c=cp(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=r+Ui(i,o++),l+=Cs(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ls(e,t,n){if(e==null)return e;var r=[],s=0;return Cs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function fp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var we={current:null},Es={transition:null},hp={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Es,ReactCurrentOwner:Bo};function ed(){throw Error("act(...) is not supported in production builds of React.")}A.Children={map:ls,forEach:function(e,t,n){ls(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ls(e,function(){t++}),t},toArray:function(e){return ls(e,function(t){return t})||[]},only:function(e){if(!Wo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};A.Component=Zn;A.Fragment=ep;A.Profiler=np;A.PureComponent=$o;A.StrictMode=tp;A.Suspense=lp;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hp;A.act=ed;A.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ku({},e.props),s=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Bo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Yu.call(t,c)&&!Xu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Gr,type:e.type,key:s,ref:i,props:r,_owner:l}};A.createContext=function(e){return e={$$typeof:sp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rp,_context:e},e.Consumer=e};A.createElement=Zu;A.createFactory=function(e){var t=Zu.bind(null,e);return t.type=e,t};A.createRef=function(){return{current:null}};A.forwardRef=function(e){return{$$typeof:ip,render:e}};A.isValidElement=Wo;A.lazy=function(e){return{$$typeof:ap,_payload:{_status:-1,_result:e},_init:fp}};A.memo=function(e,t){return{$$typeof:op,type:e,compare:t===void 0?null:t}};A.startTransition=function(e){var t=Es.transition;Es.transition={};try{e()}finally{Es.transition=t}};A.unstable_act=ed;A.useCallback=function(e,t){return we.current.useCallback(e,t)};A.useContext=function(e){return we.current.useContext(e)};A.useDebugValue=function(){};A.useDeferredValue=function(e){return we.current.useDeferredValue(e)};A.useEffect=function(e,t){return we.current.useEffect(e,t)};A.useId=function(){return we.current.useId()};A.useImperativeHandle=function(e,t,n){return we.current.useImperativeHandle(e,t,n)};A.useInsertionEffect=function(e,t){return we.current.useInsertionEffect(e,t)};A.useLayoutEffect=function(e,t){return we.current.useLayoutEffect(e,t)};A.useMemo=function(e,t){return we.current.useMemo(e,t)};A.useReducer=function(e,t,n){return we.current.useReducer(e,t,n)};A.useRef=function(e){return we.current.useRef(e)};A.useState=function(e){return we.current.useState(e)};A.useSyncExternalStore=function(e,t,n){return we.current.useSyncExternalStore(e,t,n)};A.useTransition=function(){return we.current.useTransition()};A.version="18.3.1";Qu.exports=A;var S=Qu.exports;const td=Xh(S),pp=Yh({__proto__:null,default:td},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp=S,gp=Symbol.for("react.element"),yp=Symbol.for("react.fragment"),vp=Object.prototype.hasOwnProperty,xp=mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wp={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)vp.call(t,r)&&!wp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:gp,type:e,key:i,ref:l,props:s,_owner:xp.current}}yi.Fragment=yp;yi.jsx=nd;yi.jsxs=nd;Hu.exports=yi;var a=Hu.exports,Sl={},rd={exports:{}},$e={},sd={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,M){var T=E.length;E.push(M);e:for(;0<T;){var V=T-1>>>1,X=E[V];if(0<s(X,M))E[V]=M,E[T]=X,T=V;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var M=E[0],T=E.pop();if(T!==M){E[0]=T;e:for(var V=0,X=E.length,bn=X>>>1;V<bn;){var pt=2*(V+1)-1,rr=E[pt],Zt=pt+1,is=E[Zt];if(0>s(rr,T))Zt<X&&0>s(is,rr)?(E[V]=is,E[Zt]=T,V=Zt):(E[V]=rr,E[pt]=T,V=pt);else if(Zt<X&&0>s(is,T))E[V]=is,E[Zt]=T,V=Zt;else break e}}return M}function s(E,M){var T=E.sortIndex-M.sortIndex;return T!==0?T:E.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,f=null,h=3,x=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=E)r(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=n(u)}}function b(E){if(y=!1,m(E),!v)if(n(c)!==null)v=!0,Je(_);else{var M=n(u);M!==null&&Pe(b,M.startTime-E)}}function _(E,M){v=!1,y&&(y=!1,g(C),C=-1),x=!0;var T=h;try{for(m(M),f=n(c);f!==null&&(!(f.expirationTime>M)||E&&!ee());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var X=V(f.expirationTime<=M);M=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),m(M)}else r(c);f=n(c)}if(f!==null)var bn=!0;else{var pt=n(u);pt!==null&&Pe(b,pt.startTime-M),bn=!1}return bn}finally{f=null,h=T,x=!1}}var j=!1,k=null,C=-1,I=5,O=-1;function ee(){return!(e.unstable_now()-O<I)}function Pt(){if(k!==null){var E=e.unstable_now();O=E;var M=!0;try{M=k(!0,E)}finally{M?Ot():(j=!1,k=null)}}else j=!1}var Ot;if(typeof p=="function")Ot=function(){p(Pt)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,je=F.port2;F.port1.onmessage=Pt,Ot=function(){je.postMessage(null)}}else Ot=function(){w(Pt,0)};function Je(E){k=E,j||(j=!0,Ot())}function Pe(E,M){C=w(function(){E(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,Je(_))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var T=h;h=M;try{return E()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,M){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var T=h;h=E;try{return M()}finally{h=T}},e.unstable_scheduleCallback=function(E,M,T){var V=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?V+T:V):T=V,E){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=T+X,E={id:d++,callback:M,priorityLevel:E,startTime:T,expirationTime:X,sortIndex:-1},T>V?(E.sortIndex=T,t(u,E),n(c)===null&&E===n(u)&&(y?(g(C),C=-1):y=!0,Pe(b,T-V))):(E.sortIndex=X,t(c,E),v||x||(v=!0,Je(_))),E},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(E){var M=h;return function(){var T=h;h=M;try{return E.apply(this,arguments)}finally{h=T}}}})(id);sd.exports=id;var bp=sd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=S,Fe=bp;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ld=new Set,Pr={};function yn(e,t){Bn(e,t),Bn(e+"Capture",t)}function Bn(e,t){for(Pr[e]=t,e=0;e<t.length;e++)ld.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=Object.prototype.hasOwnProperty,Sp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rc={},sc={};function _p(e){return _l.call(sc,e)?!0:_l.call(rc,e)?!1:Sp.test(e)?sc[e]=!0:(rc[e]=!0,!1)}function kp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Np(e,t,n,r){if(t===null||typeof t>"u"||kp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,n,r,s,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vo=/[\-:]([a-z])/g;function Ho(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vo,Ho);ue[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vo,Ho);ue[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vo,Ho);ue[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qo(e,t,n,r){var s=ue.hasOwnProperty(t)?ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Np(t,n,s,r)&&(n=null),r||s===null?_p(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),_n=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),qo=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),od=Symbol.for("react.provider"),ad=Symbol.for("react.context"),Ko=Symbol.for("react.forward_ref"),Nl=Symbol.for("react.suspense"),Cl=Symbol.for("react.suspense_list"),Go=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),ic=Symbol.iterator;function sr(e){return e===null||typeof e!="object"?null:(e=ic&&e[ic]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,Bi;function fr(e){if(Bi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Bi=t&&t[1]||""}return`
`+Bi+e}var Wi=!1;function Vi(e,t){if(!e||Wi)return"";Wi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,o=i.length-1;1<=l&&0<=o&&s[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==i[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{Wi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fr(e):""}function Cp(e){switch(e.tag){case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return e=Vi(e.type,!1),e;case 11:return e=Vi(e.type.render,!1),e;case 1:return e=Vi(e.type,!0),e;default:return""}}function El(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case _n:return"Portal";case kl:return"Profiler";case qo:return"StrictMode";case Nl:return"Suspense";case Cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ad:return(e.displayName||"Context")+".Consumer";case od:return(e._context.displayName||"Context")+".Provider";case Ko:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Go:return t=e.displayName||null,t!==null?t:El(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return El(e(t))}catch{}}return null}function Ep(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return El(t);case 8:return t===qo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ud(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e){var t=ud(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function as(e){e._valueTracker||(e._valueTracker=Pp(e))}function dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ud(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pl(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function lc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&Qo(e,"checked",t,!1)}function Ol(e,t){fd(e,t);var n=qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tl(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function oc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Tl(e,t,n){(t!=="number"||Bs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hr=Array.isArray;function Rn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ml(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ac(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(N(92));if(hr(n)){if(1<n.length)throw Error(N(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qt(n)}}function hd(e,t){var n=qt(t.value),r=qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function cc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cs,md=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cs=cs||document.createElement("div"),cs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Op=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){Op.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function gd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Tp=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(e,t){if(t){if(Tp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function Al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function Jo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zl=null,zn=null,Fn=null;function uc(e){if(e=Xr(e)){if(typeof zl!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ji(t),zl(e.stateNode,e.type,t))}}function vd(e){zn?Fn?Fn.push(e):Fn=[e]:zn=e}function xd(){if(zn){var e=zn,t=Fn;if(Fn=zn=null,uc(e),t)for(e=0;e<t.length;e++)uc(t[e])}}function wd(e,t){return e(t)}function bd(){}var Hi=!1;function jd(e,t,n){if(Hi)return e(t,n);Hi=!0;try{return wd(e,t,n)}finally{Hi=!1,(zn!==null||Fn!==null)&&(bd(),xd())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(N(231,t,typeof n));return n}var Fl=!1;if(jt)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Fl=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Fl=!1}function Mp(e,t,n,r,s,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var xr=!1,Ws=null,Vs=!1,Dl=null,Ip={onError:function(e){xr=!0,Ws=e}};function Lp(e,t,n,r,s,i,l,o,c){xr=!1,Ws=null,Mp.apply(Ip,arguments)}function Ap(e,t,n,r,s,i,l,o,c){if(Lp.apply(this,arguments),xr){if(xr){var u=Ws;xr=!1,Ws=null}else throw Error(N(198));Vs||(Vs=!0,Dl=u)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dc(e){if(vn(e)!==e)throw Error(N(188))}function Rp(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(N(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dc(s),e;if(i===r)return dc(s),t;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=i;break}if(o===r){l=!0,r=s,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=s;break}if(o===r){l=!0,r=i,n=s;break}o=o.sibling}if(!l)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?e:t}function _d(e){return e=Rp(e),e!==null?kd(e):null}function kd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kd(e);if(t!==null)return t;e=e.sibling}return null}var Nd=Fe.unstable_scheduleCallback,fc=Fe.unstable_cancelCallback,zp=Fe.unstable_shouldYield,Fp=Fe.unstable_requestPaint,J=Fe.unstable_now,Dp=Fe.unstable_getCurrentPriorityLevel,Yo=Fe.unstable_ImmediatePriority,Cd=Fe.unstable_UserBlockingPriority,Hs=Fe.unstable_NormalPriority,$p=Fe.unstable_LowPriority,Ed=Fe.unstable_IdlePriority,vi=null,ut=null;function Up(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(vi,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Vp,Bp=Math.log,Wp=Math.LN2;function Vp(e){return e>>>=0,e===0?32:31-(Bp(e)/Wp|0)|0}var us=64,ds=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=pr(o):(i&=l,i!==0&&(r=pr(i)))}else l=n&~s,l!==0?r=pr(l):i!==0&&(r=pr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-nt(t),s=1<<n,r|=e[n],t&=~s;return r}function Hp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-nt(i),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=Hp(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function $l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pd(){var e=us;return us<<=1,!(us&4194240)&&(us=64),e}function Qi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Jr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=n}function qp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-nt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Xo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-nt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var D=0;function Od(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Td,Zo,Md,Id,Ld,Ul=!1,fs=[],Dt=null,$t=null,Ut=null,Mr=new Map,Ir=new Map,Lt=[],Kp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":$t=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Mr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function lr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xr(t),t!==null&&Zo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Gp(e,t,n,r,s){switch(t){case"focusin":return Dt=lr(Dt,e,t,n,r,s),!0;case"dragenter":return $t=lr($t,e,t,n,r,s),!0;case"mouseover":return Ut=lr(Ut,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Mr.set(i,lr(Mr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ir.set(i,lr(Ir.get(i)||null,e,t,n,r,s)),!0}return!1}function Ad(e){var t=rn(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Sd(n),t!==null){e.blockedOn=t,Ld(e.priority,function(){Md(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ps(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Bl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rl=r,n.target.dispatchEvent(r),Rl=null}else return t=Xr(n),t!==null&&Zo(t),e.blockedOn=n,!1;t.shift()}return!0}function pc(e,t,n){Ps(e)&&n.delete(t)}function Jp(){Ul=!1,Dt!==null&&Ps(Dt)&&(Dt=null),$t!==null&&Ps($t)&&($t=null),Ut!==null&&Ps(Ut)&&(Ut=null),Mr.forEach(pc),Ir.forEach(pc)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,Ul||(Ul=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Jp)))}function Lr(e){function t(s){return or(s,e)}if(0<fs.length){or(fs[0],e);for(var n=1;n<fs.length;n++){var r=fs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dt!==null&&or(Dt,e),$t!==null&&or($t,e),Ut!==null&&or(Ut,e),Mr.forEach(t),Ir.forEach(t),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)Ad(n),n.blockedOn===null&&Lt.shift()}var Dn=Ct.ReactCurrentBatchConfig,qs=!0;function Yp(e,t,n,r){var s=D,i=Dn.transition;Dn.transition=null;try{D=1,ea(e,t,n,r)}finally{D=s,Dn.transition=i}}function Xp(e,t,n,r){var s=D,i=Dn.transition;Dn.transition=null;try{D=4,ea(e,t,n,r)}finally{D=s,Dn.transition=i}}function ea(e,t,n,r){if(qs){var s=Bl(e,t,n,r);if(s===null)nl(e,t,r,Ks,n),hc(e,r);else if(Gp(s,e,t,n,r))r.stopPropagation();else if(hc(e,r),t&4&&-1<Kp.indexOf(e)){for(;s!==null;){var i=Xr(s);if(i!==null&&Td(i),i=Bl(e,t,n,r),i===null&&nl(e,t,r,Ks,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else nl(e,t,r,null,n)}}var Ks=null;function Bl(e,t,n,r){if(Ks=null,e=Jo(r),e=rn(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Sd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function Rd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dp()){case Yo:return 1;case Cd:return 4;case Hs:case $p:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var Rt=null,ta=null,Os=null;function zd(){if(Os)return Os;var e,t=ta,n=t.length,r,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[i-r];r++);return Os=s.slice(e,1<r?1-r:void 0)}function Ts(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function mc(){return!1}function Ue(e){function t(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hs:mc,this.isPropagationStopped=mc,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),t}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},na=Ue(er),Yr=q({},er,{view:0,detail:0}),Zp=Ue(Yr),qi,Ki,ar,xi=q({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&e.type==="mousemove"?(qi=e.screenX-ar.screenX,Ki=e.screenY-ar.screenY):Ki=qi=0,ar=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:Ki}}),gc=Ue(xi),em=q({},xi,{dataTransfer:0}),tm=Ue(em),nm=q({},Yr,{relatedTarget:0}),Gi=Ue(nm),rm=q({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),sm=Ue(rm),im=q({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lm=Ue(im),om=q({},er,{data:0}),yc=Ue(om),am={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=um[e])?!!t[e]:!1}function ra(){return dm}var fm=q({},Yr,{key:function(e){if(e.key){var t=am[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hm=Ue(fm),pm=q({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=Ue(pm),mm=q({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),gm=Ue(mm),ym=q({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),vm=Ue(ym),xm=q({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wm=Ue(xm),bm=[9,13,27,32],sa=jt&&"CompositionEvent"in window,wr=null;jt&&"documentMode"in document&&(wr=document.documentMode);var jm=jt&&"TextEvent"in window&&!wr,Fd=jt&&(!sa||wr&&8<wr&&11>=wr),xc=" ",wc=!1;function Dd(e,t){switch(e){case"keyup":return bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nn=!1;function Sm(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(wc=!0,xc);case"textInput":return e=t.data,e===xc&&wc?null:e;default:return null}}function _m(e,t){if(Nn)return e==="compositionend"||!sa&&Dd(e,t)?(e=zd(),Os=ta=Rt=null,Nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fd&&t.locale!=="ko"?null:t.data;default:return null}}var km={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!km[e.type]:t==="textarea"}function Ud(e,t,n,r){vd(r),t=Gs(t,"onChange"),0<t.length&&(n=new na("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var br=null,Ar=null;function Nm(e){Xd(e,0)}function wi(e){var t=Pn(e);if(dd(t))return e}function Cm(e,t){if(e==="change")return t}var Bd=!1;if(jt){var Ji;if(jt){var Yi="oninput"in document;if(!Yi){var jc=document.createElement("div");jc.setAttribute("oninput","return;"),Yi=typeof jc.oninput=="function"}Ji=Yi}else Ji=!1;Bd=Ji&&(!document.documentMode||9<document.documentMode)}function Sc(){br&&(br.detachEvent("onpropertychange",Wd),Ar=br=null)}function Wd(e){if(e.propertyName==="value"&&wi(Ar)){var t=[];Ud(t,Ar,e,Jo(e)),jd(Nm,t)}}function Em(e,t,n){e==="focusin"?(Sc(),br=t,Ar=n,br.attachEvent("onpropertychange",Wd)):e==="focusout"&&Sc()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(Ar)}function Om(e,t){if(e==="click")return wi(t)}function Tm(e,t){if(e==="input"||e==="change")return wi(t)}function Mm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var st=typeof Object.is=="function"?Object.is:Mm;function Rr(e,t){if(st(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_l.call(t,s)||!st(e[s],t[s]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=_c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function Vd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hd(){for(var e=window,t=Bs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Bs(e.document)}return t}function ia(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Im(e){var t=Hd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vd(n.ownerDocument.documentElement,n)){if(r!==null&&ia(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=kc(n,i);var l=kc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lm=jt&&"documentMode"in document&&11>=document.documentMode,Cn=null,Wl=null,jr=null,Vl=!1;function Nc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vl||Cn==null||Cn!==Bs(r)||(r=Cn,"selectionStart"in r&&ia(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&Rr(jr,r)||(jr=r,r=Gs(Wl,"onSelect"),0<r.length&&(t=new na("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Cn)))}function ps(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var En={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},Xi={},Qd={};jt&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete En.animationend.animation,delete En.animationiteration.animation,delete En.animationstart.animation),"TransitionEvent"in window||delete En.transitionend.transition);function bi(e){if(Xi[e])return Xi[e];if(!En[e])return e;var t=En[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qd)return Xi[e]=t[n];return e}var qd=bi("animationend"),Kd=bi("animationiteration"),Gd=bi("animationstart"),Jd=bi("transitionend"),Yd=new Map,Cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Yd.set(e,t),yn(t,[e])}for(var Zi=0;Zi<Cc.length;Zi++){var el=Cc[Zi],Am=el.toLowerCase(),Rm=el[0].toUpperCase()+el.slice(1);Jt(Am,"on"+Rm)}Jt(qd,"onAnimationEnd");Jt(Kd,"onAnimationIteration");Jt(Gd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Jd,"onTransitionEnd");Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zm=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function Ec(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ap(r,t,void 0,e),e.currentTarget=null}function Xd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;Ec(s,o,u),i=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;Ec(s,o,u),i=c}}}if(Vs)throw e=Dl,Vs=!1,Dl=null,e}function U(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var r=e+"__bubble";n.has(r)||(Zd(t,e,2,!1),n.add(r))}function tl(e,t,n){var r=0;t&&(r|=4),Zd(n,e,r,t)}var ms="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[ms]){e[ms]=!0,ld.forEach(function(n){n!=="selectionchange"&&(zm.has(n)||tl(n,!1,e),tl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ms]||(t[ms]=!0,tl("selectionchange",!1,t))}}function Zd(e,t,n,r){switch(Rd(t)){case 1:var s=Yp;break;case 4:s=Xp;break;default:s=ea}n=s.bind(null,t,n,e),s=void 0,!Fl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function nl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=rn(o),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}o=o.parentNode}}r=r.return}jd(function(){var u=i,d=Jo(n),f=[];e:{var h=Yd.get(e);if(h!==void 0){var x=na,v=e;switch(e){case"keypress":if(Ts(n)===0)break e;case"keydown":case"keyup":x=hm;break;case"focusin":v="focus",x=Gi;break;case"focusout":v="blur",x=Gi;break;case"beforeblur":case"afterblur":x=Gi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=gc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=tm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=gm;break;case qd:case Kd:case Gd:x=sm;break;case Jd:x=vm;break;case"scroll":x=Zp;break;case"wheel":x=wm;break;case"copy":case"cut":case"paste":x=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=vc}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var p=u,m;p!==null;){m=p;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=Tr(p,g),b!=null&&y.push(Fr(p,b,m)))),w)break;p=p.return}0<y.length&&(h=new x(h,v,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",h&&n!==Rl&&(v=n.relatedTarget||n.fromElement)&&(rn(v)||v[St]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(v=n.relatedTarget||n.toElement,x=u,v=v?rn(v):null,v!==null&&(w=vn(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(y=gc,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=vc,b="onPointerLeave",g="onPointerEnter",p="pointer"),w=x==null?h:Pn(x),m=v==null?h:Pn(v),h=new y(b,p+"leave",x,n,d),h.target=w,h.relatedTarget=m,b=null,rn(d)===u&&(y=new y(g,p+"enter",v,n,d),y.target=m,y.relatedTarget=w,b=y),w=b,x&&v)t:{for(y=x,g=v,p=0,m=y;m;m=jn(m))p++;for(m=0,b=g;b;b=jn(b))m++;for(;0<p-m;)y=jn(y),p--;for(;0<m-p;)g=jn(g),m--;for(;p--;){if(y===g||g!==null&&y===g.alternate)break t;y=jn(y),g=jn(g)}y=null}else y=null;x!==null&&Pc(f,h,x,y,!1),v!==null&&w!==null&&Pc(f,w,v,y,!0)}}e:{if(h=u?Pn(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var _=Cm;else if(bc(h))if(Bd)_=Tm;else{_=Pm;var j=Em}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Om);if(_&&(_=_(e,u))){Ud(f,_,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Tl(h,"number",h.value)}switch(j=u?Pn(u):window,e){case"focusin":(bc(j)||j.contentEditable==="true")&&(Cn=j,Wl=u,jr=null);break;case"focusout":jr=Wl=Cn=null;break;case"mousedown":Vl=!0;break;case"contextmenu":case"mouseup":case"dragend":Vl=!1,Nc(f,n,d);break;case"selectionchange":if(Lm)break;case"keydown":case"keyup":Nc(f,n,d)}var k;if(sa)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Nn?Dd(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Fd&&n.locale!=="ko"&&(Nn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Nn&&(k=zd()):(Rt=d,ta="value"in Rt?Rt.value:Rt.textContent,Nn=!0)),j=Gs(u,C),0<j.length&&(C=new yc(C,e,null,n,d),f.push({event:C,listeners:j}),k?C.data=k:(k=$d(n),k!==null&&(C.data=k)))),(k=jm?Sm(e,n):_m(e,n))&&(u=Gs(u,"onBeforeInput"),0<u.length&&(d=new yc("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}Xd(f,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Tr(e,n),i!=null&&r.unshift(Fr(e,i,s)),i=Tr(e,t),i!=null&&r.push(Fr(e,i,s))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pc(e,t,n,r,s){for(var i=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,s?(c=Tr(n,i),c!=null&&l.unshift(Fr(n,c,o))):s||(c=Tr(n,i),c!=null&&l.push(Fr(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Fm=/\r\n?/g,Dm=/\u0000|\uFFFD/g;function Oc(e){return(typeof e=="string"?e:""+e).replace(Fm,`
`).replace(Dm,"")}function gs(e,t,n){if(t=Oc(t),Oc(e)!==t&&n)throw Error(N(425))}function Js(){}var Hl=null,Ql=null;function ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,$m=typeof clearTimeout=="function"?clearTimeout:void 0,Tc=typeof Promise=="function"?Promise:void 0,Um=typeof queueMicrotask=="function"?queueMicrotask:typeof Tc<"u"?function(e){return Tc.resolve(null).then(e).catch(Bm)}:Kl;function Bm(e){setTimeout(function(){throw e})}function rl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Lr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lr(t)}function Bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),ct="__reactFiber$"+tr,Dr="__reactProps$"+tr,St="__reactContainer$"+tr,Gl="__reactEvents$"+tr,Wm="__reactListeners$"+tr,Vm="__reactHandles$"+tr;function rn(e){var t=e[ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[St]||n[ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mc(e);e!==null;){if(n=e[ct])return n;e=Mc(e)}return t}e=n,n=e.parentNode}return null}function Xr(e){return e=e[ct]||e[St],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ji(e){return e[Dr]||null}var Jl=[],On=-1;function Yt(e){return{current:e}}function B(e){0>On||(e.current=Jl[On],Jl[On]=null,On--)}function $(e,t){On++,Jl[On]=e.current,e.current=t}var Kt={},me=Yt(Kt),Ne=Yt(!1),fn=Kt;function Wn(e,t){var n=e.type.contextTypes;if(!n)return Kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(e){return e=e.childContextTypes,e!=null}function Ys(){B(Ne),B(me)}function Ic(e,t,n){if(me.current!==Kt)throw Error(N(168));$(me,t),$(Ne,n)}function ef(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(N(108,Ep(e)||"Unknown",s));return q({},n,r)}function Xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,fn=me.current,$(me,e),$(Ne,Ne.current),!0}function Lc(e,t,n){var r=e.stateNode;if(!r)throw Error(N(169));n?(e=ef(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,B(Ne),B(me),$(me,e)):B(Ne),$(Ne,n)}var yt=null,Si=!1,sl=!1;function tf(e){yt===null?yt=[e]:yt.push(e)}function Hm(e){Si=!0,tf(e)}function Xt(){if(!sl&&yt!==null){sl=!0;var e=0,t=D;try{var n=yt;for(D=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}yt=null,Si=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),Nd(Yo,Xt),s}finally{D=t,sl=!1}}return null}var Tn=[],Mn=0,Zs=null,ei=0,Ve=[],He=0,hn=null,vt=1,xt="";function en(e,t){Tn[Mn++]=ei,Tn[Mn++]=Zs,Zs=e,ei=t}function nf(e,t,n){Ve[He++]=vt,Ve[He++]=xt,Ve[He++]=hn,hn=e;var r=vt;e=xt;var s=32-nt(r)-1;r&=~(1<<s),n+=1;var i=32-nt(t)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,vt=1<<32-nt(t)+s|n<<s|r,xt=i+e}else vt=1<<i|n<<s|r,xt=e}function la(e){e.return!==null&&(en(e,1),nf(e,1,0))}function oa(e){for(;e===Zs;)Zs=Tn[--Mn],Tn[Mn]=null,ei=Tn[--Mn],Tn[Mn]=null;for(;e===hn;)hn=Ve[--He],Ve[He]=null,xt=Ve[--He],Ve[He]=null,vt=Ve[--He],Ve[He]=null}var Re=null,Ie=null,W=!1,tt=null;function rf(e,t){var n=Qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ac(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,Ie=Bt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hn!==null?{id:vt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Re=e,Ie=null,!0):!1;default:return!1}}function Yl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xl(e){if(W){var t=Ie;if(t){var n=t;if(!Ac(e,t)){if(Yl(e))throw Error(N(418));t=Bt(n.nextSibling);var r=Re;t&&Ac(e,t)?rf(r,n):(e.flags=e.flags&-4097|2,W=!1,Re=e)}}else{if(Yl(e))throw Error(N(418));e.flags=e.flags&-4097|2,W=!1,Re=e}}}function Rc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function ys(e){if(e!==Re)return!1;if(!W)return Rc(e),W=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ql(e.type,e.memoizedProps)),t&&(t=Ie)){if(Yl(e))throw sf(),Error(N(418));for(;t;)rf(e,t),t=Bt(t.nextSibling)}if(Rc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Bt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=Re?Bt(e.stateNode.nextSibling):null;return!0}function sf(){for(var e=Ie;e;)e=Bt(e.nextSibling)}function Vn(){Ie=Re=null,W=!1}function aa(e){tt===null?tt=[e]:tt.push(e)}var Qm=Ct.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=s.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zc(e){var t=e._init;return t(e._payload)}function lf(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Qt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,b){return p===null||p.tag!==6?(p=dl(m,g.mode,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function c(g,p,m,b){var _=m.type;return _===kn?d(g,p,m.props.children,b,m.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Mt&&zc(_)===p.type)?(b=s(p,m.props),b.ref=cr(g,p,m),b.return=g,b):(b=Fs(m.type,m.key,m.props,null,g.mode,b),b.ref=cr(g,p,m),b.return=g,b)}function u(g,p,m,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=fl(m,g.mode,b),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,b,_){return p===null||p.tag!==7?(p=cn(m,g.mode,b,_),p.return=g,p):(p=s(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=dl(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case os:return m=Fs(p.type,p.key,p.props,null,g.mode,m),m.ref=cr(g,null,p),m.return=g,m;case _n:return p=fl(p,g.mode,m),p.return=g,p;case Mt:var b=p._init;return f(g,b(p._payload),m)}if(hr(p)||sr(p))return p=cn(p,g.mode,m,null),p.return=g,p;vs(g,p)}return null}function h(g,p,m,b){var _=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return _!==null?null:o(g,p,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case os:return m.key===_?c(g,p,m,b):null;case _n:return m.key===_?u(g,p,m,b):null;case Mt:return _=m._init,h(g,p,_(m._payload),b)}if(hr(m)||sr(m))return _!==null?null:d(g,p,m,b,null);vs(g,m)}return null}function x(g,p,m,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,o(p,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case os:return g=g.get(b.key===null?m:b.key)||null,c(p,g,b,_);case _n:return g=g.get(b.key===null?m:b.key)||null,u(p,g,b,_);case Mt:var j=b._init;return x(g,p,m,j(b._payload),_)}if(hr(b)||sr(b))return g=g.get(m)||null,d(p,g,b,_,null);vs(p,b)}return null}function v(g,p,m,b){for(var _=null,j=null,k=p,C=p=0,I=null;k!==null&&C<m.length;C++){k.index>C?(I=k,k=null):I=k.sibling;var O=h(g,k,m[C],b);if(O===null){k===null&&(k=I);break}e&&k&&O.alternate===null&&t(g,k),p=i(O,p,C),j===null?_=O:j.sibling=O,j=O,k=I}if(C===m.length)return n(g,k),W&&en(g,C),_;if(k===null){for(;C<m.length;C++)k=f(g,m[C],b),k!==null&&(p=i(k,p,C),j===null?_=k:j.sibling=k,j=k);return W&&en(g,C),_}for(k=r(g,k);C<m.length;C++)I=x(k,g,C,m[C],b),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?C:I.key),p=i(I,p,C),j===null?_=I:j.sibling=I,j=I);return e&&k.forEach(function(ee){return t(g,ee)}),W&&en(g,C),_}function y(g,p,m,b){var _=sr(m);if(typeof _!="function")throw Error(N(150));if(m=_.call(m),m==null)throw Error(N(151));for(var j=_=null,k=p,C=p=0,I=null,O=m.next();k!==null&&!O.done;C++,O=m.next()){k.index>C?(I=k,k=null):I=k.sibling;var ee=h(g,k,O.value,b);if(ee===null){k===null&&(k=I);break}e&&k&&ee.alternate===null&&t(g,k),p=i(ee,p,C),j===null?_=ee:j.sibling=ee,j=ee,k=I}if(O.done)return n(g,k),W&&en(g,C),_;if(k===null){for(;!O.done;C++,O=m.next())O=f(g,O.value,b),O!==null&&(p=i(O,p,C),j===null?_=O:j.sibling=O,j=O);return W&&en(g,C),_}for(k=r(g,k);!O.done;C++,O=m.next())O=x(k,g,C,O.value,b),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),p=i(O,p,C),j===null?_=O:j.sibling=O,j=O);return e&&k.forEach(function(Pt){return t(g,Pt)}),W&&en(g,C),_}function w(g,p,m,b){if(typeof m=="object"&&m!==null&&m.type===kn&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case os:e:{for(var _=m.key,j=p;j!==null;){if(j.key===_){if(_=m.type,_===kn){if(j.tag===7){n(g,j.sibling),p=s(j,m.props.children),p.return=g,g=p;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Mt&&zc(_)===j.type){n(g,j.sibling),p=s(j,m.props),p.ref=cr(g,j,m),p.return=g,g=p;break e}n(g,j);break}else t(g,j);j=j.sibling}m.type===kn?(p=cn(m.props.children,g.mode,b,m.key),p.return=g,g=p):(b=Fs(m.type,m.key,m.props,null,g.mode,b),b.ref=cr(g,p,m),b.return=g,g=b)}return l(g);case _n:e:{for(j=m.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=fl(m,g.mode,b),p.return=g,g=p}return l(g);case Mt:return j=m._init,w(g,p,j(m._payload),b)}if(hr(m))return v(g,p,m,b);if(sr(m))return y(g,p,m,b);vs(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=dl(m,g.mode,b),p.return=g,g=p),l(g)):n(g,p)}return w}var Hn=lf(!0),of=lf(!1),ti=Yt(null),ni=null,In=null,ca=null;function ua(){ca=In=ni=null}function da(e){var t=ti.current;B(ti),e._currentValue=t}function Zl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $n(e,t){ni=e,ca=In=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(ca!==e)if(e={context:e,memoizedValue:t,next:null},In===null){if(ni===null)throw Error(N(308));In=e,ni.dependencies={lanes:0,firstContext:e}}else In=In.next=e;return t}var sn=null;function fa(e){sn===null?sn=[e]:sn.push(e)}function af(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,fa(t)):(n.next=s.next,s.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_t(e,n)}return s=r.interleaved,s===null?(t.next=t,fa(r)):(t.next=s.next,s.next=t),r.interleaved=t,_t(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xo(e,n)}}function Fc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ri(e,t,n,r){var s=e.updateQueue;It=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;l=0,d=u=c=null,o=i;do{var h=o.lane,x=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(h=t,x=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){f=v.call(x,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(x,f,h):v,h==null)break e;f=q({},f,h);break e;case 2:It=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else x={eventTime:x,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,l|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mn|=l,e.lanes=l,e.memoizedState=f}}function Dc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var Zr={},dt=Yt(Zr),$r=Yt(Zr),Ur=Yt(Zr);function ln(e){if(e===Zr)throw Error(N(174));return e}function pa(e,t){switch($(Ur,t),$($r,e),$(dt,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Il(t,e)}B(dt),$(dt,t)}function Qn(){B(dt),B($r),B(Ur)}function uf(e){ln(Ur.current);var t=ln(dt.current),n=Il(t,e.type);t!==n&&($($r,e),$(dt,n))}function ma(e){$r.current===e&&(B(dt),B($r))}var H=Yt(0);function si(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var il=[];function ga(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var Is=Ct.ReactCurrentDispatcher,ll=Ct.ReactCurrentBatchConfig,pn=0,Q=null,te=null,ie=null,ii=!1,Sr=!1,Br=0,qm=0;function de(){throw Error(N(321))}function ya(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!st(e[n],t[n]))return!1;return!0}function va(e,t,n,r,s,i){if(pn=i,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Is.current=e===null||e.memoizedState===null?Ym:Xm,e=n(r,s),Sr){i=0;do{if(Sr=!1,Br=0,25<=i)throw Error(N(301));i+=1,ie=te=null,t.updateQueue=null,Is.current=Zm,e=n(r,s)}while(Sr)}if(Is.current=li,t=te!==null&&te.next!==null,pn=0,ie=te=Q=null,ii=!1,t)throw Error(N(300));return e}function xa(){var e=Br!==0;return Br=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?Q.memoizedState=ie=e:ie=ie.next=e,ie}function Ge(){if(te===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=ie===null?Q.memoizedState:ie.next;if(t!==null)ie=t,te=e;else{if(e===null)throw Error(N(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},ie===null?Q.memoizedState=ie=e:ie=ie.next=e}return ie}function Wr(e,t){return typeof t=="function"?t(e):t}function ol(e){var t=Ge(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((pn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,l=r):c=c.next=f,Q.lanes|=d,mn|=d}u=u.next}while(u!==null&&u!==i);c===null?l=r:c.next=o,st(r,t.memoizedState)||(ke=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Q.lanes|=i,mn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function al(e){var t=Ge(),n=t.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=e(i,l.action),l=l.next;while(l!==s);st(i,t.memoizedState)||(ke=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function df(){}function ff(e,t){var n=Q,r=Ge(),s=t(),i=!st(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,wa(mf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Vr(9,pf.bind(null,n,r,s,t),void 0,null),le===null)throw Error(N(349));pn&30||hf(n,t,s)}return s}function hf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pf(e,t,n,r){t.value=n,t.getSnapshot=r,gf(t)&&yf(e)}function mf(e,t,n){return n(function(){gf(t)&&yf(e)})}function gf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!st(e,n)}catch{return!0}}function yf(e){var t=_t(e,1);t!==null&&rt(t,e,1,-1)}function $c(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:e},t.queue=e,e=e.dispatch=Jm.bind(null,Q,e),[t.memoizedState,e]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Q.updateQueue,t===null?(t={lastEffect:null,stores:null},Q.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function vf(){return Ge().memoizedState}function Ls(e,t,n,r){var s=at();Q.flags|=e,s.memoizedState=Vr(1|t,n,void 0,r===void 0?null:r)}function _i(e,t,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(te!==null){var l=te.memoizedState;if(i=l.destroy,r!==null&&ya(r,l.deps)){s.memoizedState=Vr(t,n,i,r);return}}Q.flags|=e,s.memoizedState=Vr(1|t,n,i,r)}function Uc(e,t){return Ls(8390656,8,e,t)}function wa(e,t){return _i(2048,8,e,t)}function xf(e,t){return _i(4,2,e,t)}function wf(e,t){return _i(4,4,e,t)}function bf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jf(e,t,n){return n=n!=null?n.concat([e]):null,_i(4,4,bf.bind(null,t,e),n)}function ba(){}function Sf(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _f(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kf(e,t,n){return pn&21?(st(n,t)||(n=Pd(),Q.lanes|=n,mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=n)}function Km(e,t){var n=D;D=n!==0&&4>n?n:4,e(!0);var r=ll.transition;ll.transition={};try{e(!1),t()}finally{D=n,ll.transition=r}}function Nf(){return Ge().memoizedState}function Gm(e,t,n){var r=Ht(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cf(e))Ef(t,n);else if(n=af(e,t,n,r),n!==null){var s=xe();rt(n,e,r,s),Pf(n,t,r)}}function Jm(e,t,n){var r=Ht(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cf(e))Ef(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(s.hasEagerState=!0,s.eagerState=o,st(o,l)){var c=t.interleaved;c===null?(s.next=s,fa(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=af(e,t,s,r),n!==null&&(s=xe(),rt(n,e,r,s),Pf(n,t,r))}}function Cf(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function Ef(e,t){Sr=ii=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xo(e,n)}}var li={readContext:Ke,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},Ym={readContext:Ke,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Uc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ls(4194308,4,bf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ls(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ls(4,2,e,t)},useMemo:function(e,t){var n=at();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=at();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gm.bind(null,Q,e),[r.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:ba,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=Km.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Q,s=at();if(W){if(n===void 0)throw Error(N(407));n=n()}else{if(n=t(),le===null)throw Error(N(349));pn&30||hf(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Uc(mf.bind(null,r,i,e),[e]),r.flags|=2048,Vr(9,pf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=at(),t=le.identifierPrefix;if(W){var n=xt,r=vt;n=(r&~(1<<32-nt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xm={readContext:Ke,useCallback:Sf,useContext:Ke,useEffect:wa,useImperativeHandle:jf,useInsertionEffect:xf,useLayoutEffect:wf,useMemo:_f,useReducer:ol,useRef:vf,useState:function(){return ol(Wr)},useDebugValue:ba,useDeferredValue:function(e){var t=Ge();return kf(t,te.memoizedState,e)},useTransition:function(){var e=ol(Wr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:df,useSyncExternalStore:ff,useId:Nf,unstable_isNewReconciler:!1},Zm={readContext:Ke,useCallback:Sf,useContext:Ke,useEffect:wa,useImperativeHandle:jf,useInsertionEffect:xf,useLayoutEffect:wf,useMemo:_f,useReducer:al,useRef:vf,useState:function(){return al(Wr)},useDebugValue:ba,useDeferredValue:function(e){var t=Ge();return te===null?t.memoizedState=e:kf(t,te.memoizedState,e)},useTransition:function(){var e=al(Wr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:df,useSyncExternalStore:ff,useId:Nf,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function eo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ki={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Ht(e),i=wt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Wt(e,i,s),t!==null&&(rt(t,e,s,r),Ms(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xe(),s=Ht(e),i=wt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Wt(e,i,s),t!==null&&(rt(t,e,s,r),Ms(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xe(),r=Ht(e),s=wt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Wt(e,s,r),t!==null&&(rt(t,e,r,n),Ms(t,e,r))}};function Bc(e,t,n,r,s,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(s,i):!0}function Of(e,t,n){var r=!1,s=Kt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ce(t)?fn:me.current,r=t.contextTypes,i=(r=r!=null)?Wn(e,s):Kt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ki,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ki.enqueueReplaceState(t,t.state,null)}function to(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ha(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ce(t)?fn:me.current,s.context=Wn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(eo(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ki.enqueueReplaceState(s,s.state,null),ri(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var n="",r=t;do n+=Cp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function no(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eg=typeof WeakMap=="function"?WeakMap:Map;function Tf(e,t,n){n=wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ai||(ai=!0,ho=r),no(e,t)},n}function Mf(e,t,n){n=wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){no(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){no(e,t),typeof r!="function"&&(Vt===null?Vt=new Set([this]):Vt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Vc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=pg.bind(null,e,t,n),t.then(e,e))}function Hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wt(-1,1),t.tag=2,Wt(n,t,1))),n.lanes|=1),e)}var tg=Ct.ReactCurrentOwner,ke=!1;function ge(e,t,n,r){t.child=e===null?of(t,null,n,r):Hn(t,e.child,n,r)}function qc(e,t,n,r,s){n=n.render;var i=t.ref;return $n(t,s),r=va(e,t,n,r,i,s),n=xa(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(W&&n&&la(t),t.flags|=1,ge(e,t,r,s),t.child)}function Kc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Pa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,If(e,t,i,r,s)):(e=Fs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(l,r)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Qt(i,r),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Rr(i,r)&&e.ref===t.ref)if(ke=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,kt(e,t,s)}return ro(e,t,n,r,s)}function Lf(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$(An,Oe),Oe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$(An,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,$(An,Oe),Oe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,$(An,Oe),Oe|=r;return ge(e,t,s,n),t.child}function Af(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ro(e,t,n,r,s){var i=Ce(n)?fn:me.current;return i=Wn(t,i),$n(t,s),n=va(e,t,n,r,i,s),r=xa(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(W&&r&&la(t),t.flags|=1,ge(e,t,n,s),t.child)}function Gc(e,t,n,r,s){if(Ce(n)){var i=!0;Xs(t)}else i=!1;if($n(t,s),t.stateNode===null)As(e,t),Of(t,n,r),to(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ce(n)?fn:me.current,u=Wn(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";f||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==u)&&Wc(t,l,r,u),It=!1;var h=t.memoizedState;l.state=h,ri(t,r,l,s),c=t.memoizedState,o!==r||h!==c||Ne.current||It?(typeof d=="function"&&(eo(t,n,d,r),c=t.memoizedState),(o=It||Bc(t,n,o,r,h,c,u))?(f||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=u,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,cf(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Xe(t.type,o),l.props=u,f=t.pendingProps,h=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ke(c):(c=Ce(n)?fn:me.current,c=Wn(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==f||h!==c)&&Wc(t,l,r,c),It=!1,h=t.memoizedState,l.state=h,ri(t,r,l,s);var v=t.memoizedState;o!==f||h!==v||Ne.current||It?(typeof x=="function"&&(eo(t,n,x,r),v=t.memoizedState),(u=It||Bc(t,n,u,r,h,v,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,v,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,v,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),l.props=r,l.state=v,l.context=c,r=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return so(e,t,n,r,i,s)}function so(e,t,n,r,s,i){Af(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Lc(t,n,!1),kt(e,t,i);r=t.stateNode,tg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Hn(t,e.child,null,i),t.child=Hn(t,null,o,i)):ge(e,t,o,i),t.memoizedState=r.state,s&&Lc(t,n,!0),t.child}function Rf(e){var t=e.stateNode;t.pendingContext?Ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ic(e,t.context,!1),pa(e,t.containerInfo)}function Jc(e,t,n,r,s){return Vn(),aa(s),t.flags|=256,ge(e,t,n,r),t.child}var io={dehydrated:null,treeContext:null,retryLane:0};function lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function zf(e,t,n){var r=t.pendingProps,s=H.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$(H,s&1),e===null)return Xl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ei(l,r,0,null),e=cn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=lo(n),t.memoizedState=io,e):ja(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ng(e,t,l,r,o,s,n);if(i){i=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Qt(o,i):(i=cn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=io,r}return i=e.child,e=i.sibling,r=Qt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ja(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xs(e,t,n,r){return r!==null&&aa(r),Hn(t,e.child,null,n),e=ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ng(e,t,n,r,s,i,l){if(n)return t.flags&256?(t.flags&=-257,r=cl(Error(N(422))),xs(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ei({mode:"visible",children:r.children},s,0,null),i=cn(i,s,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Hn(t,e.child,null,l),t.child.memoizedState=lo(l),t.memoizedState=io,i);if(!(t.mode&1))return xs(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(N(419)),r=cl(i,r,void 0),xs(e,t,l,r)}if(o=(l&e.childLanes)!==0,ke||o){if(r=le,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),rt(r,e,s,-1))}return Ea(),r=cl(Error(N(421))),xs(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ie=Bt(s.nextSibling),Re=t,W=!0,tt=null,e!==null&&(Ve[He++]=vt,Ve[He++]=xt,Ve[He++]=hn,vt=e.id,xt=e.overflow,hn=t),t=ja(t,r.children),t.flags|=4096,t)}function Yc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zl(e.return,t,n)}function ul(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ff(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(ge(e,t,r.children,n),r=H.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yc(e,n,t);else if(e.tag===19)Yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($(H,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&si(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ul(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&si(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ul(t,!0,n,null,i);break;case"together":ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function As(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,n=Qt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rg(e,t,n){switch(t.tag){case 3:Rf(t),Vn();break;case 5:uf(t);break;case 1:Ce(t.type)&&Xs(t);break;case 4:pa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$(ti,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($(H,H.current&1),t.flags|=128,null):n&t.child.childLanes?zf(e,t,n):($(H,H.current&1),e=kt(e,t,n),e!==null?e.sibling:null);$(H,H.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ff(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$(H,H.current),r)break;return null;case 22:case 23:return t.lanes=0,Lf(e,t,n)}return kt(e,t,n)}var Df,oo,$f,Uf;Df=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oo=function(){};$f=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ln(dt.current);var i=null;switch(n){case"input":s=Pl(e,s),r=Pl(e,r),i=[];break;case"select":s=q({},s,{value:void 0}),r=q({},r,{value:void 0}),i=[];break;case"textarea":s=Ml(e,s),r=Ml(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Js)}Ll(n,r);var l;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&U("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Uf=function(e,t,n,r){n!==r&&(t.flags|=4)};function ur(e,t){if(!W)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sg(e,t,n){var r=t.pendingProps;switch(oa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return Ce(t.type)&&Ys(),fe(t),null;case 3:return r=t.stateNode,Qn(),B(Ne),B(me),ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ys(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(go(tt),tt=null))),oo(e,t),fe(t),null;case 5:ma(t);var s=ln(Ur.current);if(n=t.type,e!==null&&t.stateNode!=null)$f(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(N(166));return fe(t),null}if(e=ln(dt.current),ys(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ct]=t,r[Dr]=i,e=(t.mode&1)!==0,n){case"dialog":U("cancel",r),U("close",r);break;case"iframe":case"object":case"embed":U("load",r);break;case"video":case"audio":for(s=0;s<mr.length;s++)U(mr[s],r);break;case"source":U("error",r);break;case"img":case"image":case"link":U("error",r),U("load",r);break;case"details":U("toggle",r);break;case"input":lc(r,i),U("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},U("invalid",r);break;case"textarea":ac(r,i),U("invalid",r)}Ll(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,o,e),s=["children",""+o]):Pr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&U("scroll",r)}switch(n){case"input":as(r),oc(r,i,!0);break;case"textarea":as(r),cc(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Js)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ct]=t,e[Dr]=r,Df(e,t,!1,!1),t.stateNode=e;e:{switch(l=Al(n,r),n){case"dialog":U("cancel",e),U("close",e),s=r;break;case"iframe":case"object":case"embed":U("load",e),s=r;break;case"video":case"audio":for(s=0;s<mr.length;s++)U(mr[s],e);s=r;break;case"source":U("error",e),s=r;break;case"img":case"image":case"link":U("error",e),U("load",e),s=r;break;case"details":U("toggle",e),s=r;break;case"input":lc(e,r),s=Pl(e,r),U("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=q({},r,{value:void 0}),U("invalid",e);break;case"textarea":ac(e,r),s=Ml(e,r),U("invalid",e);break;default:s=r}Ll(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?yd(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&md(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Or(e,c):typeof c=="number"&&Or(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&U("scroll",e):c!=null&&Qo(e,i,c,l))}switch(n){case"input":as(e),oc(e,r,!1);break;case"textarea":as(e),cc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Rn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Rn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fe(t),null;case 6:if(e&&t.stateNode!=null)Uf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(N(166));if(n=ln(Ur.current),ln(dt.current),ys(t)){if(r=t.stateNode,n=t.memoizedProps,r[ct]=t,(i=r.nodeValue!==n)&&(e=Re,e!==null))switch(e.tag){case 3:gs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ct]=t,t.stateNode=r}return fe(t),null;case 13:if(B(H),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(W&&Ie!==null&&t.mode&1&&!(t.flags&128))sf(),Vn(),t.flags|=98560,i=!1;else if(i=ys(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(N(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[ct]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else tt!==null&&(go(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||H.current&1?ne===0&&(ne=3):Ea())),t.updateQueue!==null&&(t.flags|=4),fe(t),null);case 4:return Qn(),oo(e,t),e===null&&zr(t.stateNode.containerInfo),fe(t),null;case 10:return da(t.type._context),fe(t),null;case 17:return Ce(t.type)&&Ys(),fe(t),null;case 19:if(B(H),i=t.memoizedState,i===null)return fe(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)ur(i,!1);else{if(ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=si(e),l!==null){for(t.flags|=128,ur(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $(H,H.current&1|2),t.child}e=e.sibling}i.tail!==null&&J()>Kn&&(t.flags|=128,r=!0,ur(i,!1),t.lanes=4194304)}else{if(!r)if(e=si(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!W)return fe(t),null}else 2*J()-i.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,r=!0,ur(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=J(),t.sibling=null,n=H.current,$(H,r?n&1|2:n&1),t):(fe(t),null);case 22:case 23:return Ca(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Oe&1073741824&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function ig(e,t){switch(oa(t),t.tag){case 1:return Ce(t.type)&&Ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),B(Ne),B(me),ga(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ma(t),null;case 13:if(B(H),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(H),null;case 4:return Qn(),null;case 10:return da(t.type._context),null;case 22:case 23:return Ca(),null;case 24:return null;default:return null}}var ws=!1,pe=!1,lg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ln(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){K(e,t,r)}else n.current=null}function ao(e,t,n){try{n()}catch(r){K(e,t,r)}}var Xc=!1;function og(e,t){if(Hl=qs,e=Hd(),ia(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(o=l+s),f!==i||r!==0&&f.nodeType!==3||(c=l+r),f.nodeType===3&&(l+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===e)break t;if(h===n&&++u===s&&(o=l),h===i&&++d===r&&(c=l),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ql={focusedElem:e,selectionRange:n},qs=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Xe(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){K(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=Xc,Xc=!1,v}function _r(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ao(t,n,i)}s=s.next}while(s!==r)}}function Ni(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function co(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Bf(e){var t=e.alternate;t!==null&&(e.alternate=null,Bf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ct],delete t[Dr],delete t[Gl],delete t[Wm],delete t[Vm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wf(e){return e.tag===5||e.tag===3||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Js));else if(r!==4&&(e=e.child,e!==null))for(uo(e,t,n),e=e.sibling;e!==null;)uo(e,t,n),e=e.sibling}function fo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(fo(e,t,n),e=e.sibling;e!==null;)fo(e,t,n),e=e.sibling}var ae=null,Ze=!1;function Tt(e,t,n){for(n=n.child;n!==null;)Vf(e,t,n),n=n.sibling}function Vf(e,t,n){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(vi,n)}catch{}switch(n.tag){case 5:pe||Ln(n,t);case 6:var r=ae,s=Ze;ae=null,Tt(e,t,n),ae=r,Ze=s,ae!==null&&(Ze?(e=ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(Ze?(e=ae,n=n.stateNode,e.nodeType===8?rl(e.parentNode,n):e.nodeType===1&&rl(e,n),Lr(e)):rl(ae,n.stateNode));break;case 4:r=ae,s=Ze,ae=n.stateNode.containerInfo,Ze=!0,Tt(e,t,n),ae=r,Ze=s;break;case 0:case 11:case 14:case 15:if(!pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&ao(n,t,l),s=s.next}while(s!==r)}Tt(e,t,n);break;case 1:if(!pe&&(Ln(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){K(n,t,o)}Tt(e,t,n);break;case 21:Tt(e,t,n);break;case 22:n.mode&1?(pe=(r=pe)||n.memoizedState!==null,Tt(e,t,n),pe=r):Tt(e,t,n);break;default:Tt(e,t,n)}}function eu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lg),t.forEach(function(r){var s=gg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ye(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ae=o.stateNode,Ze=!1;break e;case 3:ae=o.stateNode.containerInfo,Ze=!0;break e;case 4:ae=o.stateNode.containerInfo,Ze=!0;break e}o=o.return}if(ae===null)throw Error(N(160));Vf(i,l,s),ae=null,Ze=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){K(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hf(t,e),t=t.sibling}function Hf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),ot(e),r&4){try{_r(3,e,e.return),Ni(3,e)}catch(y){K(e,e.return,y)}try{_r(5,e,e.return)}catch(y){K(e,e.return,y)}}break;case 1:Ye(t,e),ot(e),r&512&&n!==null&&Ln(n,n.return);break;case 5:if(Ye(t,e),ot(e),r&512&&n!==null&&Ln(n,n.return),e.flags&32){var s=e.stateNode;try{Or(s,"")}catch(y){K(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&fd(s,i),Al(o,l);var u=Al(o,i);for(l=0;l<c.length;l+=2){var d=c[l],f=c[l+1];d==="style"?yd(s,f):d==="dangerouslySetInnerHTML"?md(s,f):d==="children"?Or(s,f):Qo(s,d,f,u)}switch(o){case"input":Ol(s,i);break;case"textarea":hd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?Rn(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?Rn(s,!!i.multiple,i.defaultValue,!0):Rn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dr]=i}catch(y){K(e,e.return,y)}}break;case 6:if(Ye(t,e),ot(e),r&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){K(e,e.return,y)}}break;case 3:if(Ye(t,e),ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(y){K(e,e.return,y)}break;case 4:Ye(t,e),ot(e);break;case 13:Ye(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ka=J())),r&4&&eu(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(pe=(u=pe)||d,Ye(t,e),pe=u):Ye(t,e),ot(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(f=P=d;P!==null;){switch(h=P,x=h.child,h.tag){case 0:case 11:case 14:case 15:_r(4,h,h.return);break;case 1:Ln(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){K(r,n,y)}}break;case 5:Ln(h,h.return);break;case 22:if(h.memoizedState!==null){nu(f);continue}}x!==null?(x.return=h,P=x):nu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,c=f.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=gd("display",l))}catch(y){K(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){K(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ye(t,e),ot(e),r&4&&eu(e);break;case 21:break;default:Ye(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wf(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Or(s,""),r.flags&=-33);var i=Zc(e);fo(e,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Zc(e);uo(e,o,l);break;default:throw Error(N(161))}}catch(c){K(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ag(e,t,n){P=e,Qf(e)}function Qf(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||ws;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||pe;o=ws;var u=pe;if(ws=l,(pe=c)&&!u)for(P=s;P!==null;)l=P,c=l.child,l.tag===22&&l.memoizedState!==null?ru(s):c!==null?(c.return=l,P=c):ru(s);for(;i!==null;)P=i,Qf(i),i=i.sibling;P=s,ws=o,pe=u}tu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):tu(e)}}function tu(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||Ni(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Xe(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Dc(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}pe||t.flags&512&&co(t)}catch(h){K(t,t.return,h)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function nu(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function ru(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ni(4,t)}catch(c){K(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){K(t,s,c)}}var i=t.return;try{co(t)}catch(c){K(t,i,c)}break;case 5:var l=t.return;try{co(t)}catch(c){K(t,l,c)}}}catch(c){K(t,t.return,c)}if(t===e){P=null;break}var o=t.sibling;if(o!==null){o.return=t.return,P=o;break}P=t.return}}var cg=Math.ceil,oi=Ct.ReactCurrentDispatcher,Sa=Ct.ReactCurrentOwner,qe=Ct.ReactCurrentBatchConfig,z=0,le=null,Z=null,ce=0,Oe=0,An=Yt(0),ne=0,Hr=null,mn=0,Ci=0,_a=0,kr=null,Se=null,ka=0,Kn=1/0,gt=null,ai=!1,ho=null,Vt=null,bs=!1,zt=null,ci=0,Nr=0,po=null,Rs=-1,zs=0;function xe(){return z&6?J():Rs!==-1?Rs:Rs=J()}function Ht(e){return e.mode&1?z&2&&ce!==0?ce&-ce:Qm.transition!==null?(zs===0&&(zs=Pd()),zs):(e=D,e!==0||(e=window.event,e=e===void 0?16:Rd(e.type)),e):1}function rt(e,t,n,r){if(50<Nr)throw Nr=0,po=null,Error(N(185));Jr(e,n,r),(!(z&2)||e!==le)&&(e===le&&(!(z&2)&&(Ci|=n),ne===4&&At(e,ce)),Ee(e,r),n===1&&z===0&&!(t.mode&1)&&(Kn=J()+500,Si&&Xt()))}function Ee(e,t){var n=e.callbackNode;Qp(e,t);var r=Qs(e,e===le?ce:0);if(r===0)n!==null&&fc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fc(n),t===1)e.tag===0?Hm(su.bind(null,e)):tf(su.bind(null,e)),Um(function(){!(z&6)&&Xt()}),n=null;else{switch(Od(r)){case 1:n=Yo;break;case 4:n=Cd;break;case 16:n=Hs;break;case 536870912:n=Ed;break;default:n=Hs}n=eh(n,qf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qf(e,t){if(Rs=-1,zs=0,z&6)throw Error(N(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=Qs(e,e===le?ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ui(e,r);else{t=r;var s=z;z|=2;var i=Gf();(le!==e||ce!==t)&&(gt=null,Kn=J()+500,an(e,t));do try{fg();break}catch(o){Kf(e,o)}while(!0);ua(),oi.current=i,z=s,Z!==null?t=0:(le=null,ce=0,t=ne)}if(t!==0){if(t===2&&(s=$l(e),s!==0&&(r=s,t=mo(e,s))),t===1)throw n=Hr,an(e,0),At(e,r),Ee(e,J()),n;if(t===6)At(e,r);else{if(s=e.current.alternate,!(r&30)&&!ug(s)&&(t=ui(e,r),t===2&&(i=$l(e),i!==0&&(r=i,t=mo(e,i))),t===1))throw n=Hr,an(e,0),At(e,r),Ee(e,J()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(N(345));case 2:tn(e,Se,gt);break;case 3:if(At(e,r),(r&130023424)===r&&(t=ka+500-J(),10<t)){if(Qs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){xe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Kl(tn.bind(null,e,Se,gt),t);break}tn(e,Se,gt);break;case 4:if(At(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-nt(r);i=1<<l,l=t[l],l>s&&(s=l),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cg(r/1960))-r,10<r){e.timeoutHandle=Kl(tn.bind(null,e,Se,gt),r);break}tn(e,Se,gt);break;case 5:tn(e,Se,gt);break;default:throw Error(N(329))}}}return Ee(e,J()),e.callbackNode===n?qf.bind(null,e):null}function mo(e,t){var n=kr;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=ui(e,t),e!==2&&(t=Se,Se=n,t!==null&&go(t)),e}function go(e){Se===null?Se=e:Se.push.apply(Se,e)}function ug(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!st(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~_a,t&=~Ci,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nt(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(z&6)throw Error(N(327));Un();var t=Qs(e,0);if(!(t&1))return Ee(e,J()),null;var n=ui(e,t);if(e.tag!==0&&n===2){var r=$l(e);r!==0&&(t=r,n=mo(e,r))}if(n===1)throw n=Hr,an(e,0),At(e,t),Ee(e,J()),n;if(n===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tn(e,Se,gt),Ee(e,J()),null}function Na(e,t){var n=z;z|=1;try{return e(t)}finally{z=n,z===0&&(Kn=J()+500,Si&&Xt())}}function gn(e){zt!==null&&zt.tag===0&&!(z&6)&&Un();var t=z;z|=1;var n=qe.transition,r=D;try{if(qe.transition=null,D=1,e)return e()}finally{D=r,qe.transition=n,z=t,!(z&6)&&Xt()}}function Ca(){Oe=An.current,B(An)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$m(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(oa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ys();break;case 3:Qn(),B(Ne),B(me),ga();break;case 5:ma(r);break;case 4:Qn();break;case 13:B(H);break;case 19:B(H);break;case 10:da(r.type._context);break;case 22:case 23:Ca()}n=n.return}if(le=e,Z=e=Qt(e.current,null),ce=Oe=t,ne=0,Hr=null,_a=Ci=mn=0,Se=kr=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}sn=null}return e}function Kf(e,t){do{var n=Z;try{if(ua(),Is.current=li,ii){for(var r=Q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ii=!1}if(pn=0,ie=te=Q=null,Sr=!1,Br=0,Sa.current=null,n===null||n.return===null){ne=1,Hr=t,Z=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=ce,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Hc(l);if(x!==null){x.flags&=-257,Qc(x,l,o,i,t),x.mode&1&&Vc(i,u,t),t=x,c=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}else{if(!(t&1)){Vc(i,u,t),Ea();break e}c=Error(N(426))}}else if(W&&o.mode&1){var w=Hc(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Qc(w,l,o,i,t),aa(qn(c,o));break e}}i=c=qn(c,o),ne!==4&&(ne=2),kr===null?kr=[i]:kr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Tf(i,c,t);Fc(i,g);break e;case 1:o=c;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Vt===null||!Vt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Mf(i,o,t);Fc(i,b);break e}}i=i.return}while(i!==null)}Yf(n)}catch(_){t=_,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function Gf(){var e=oi.current;return oi.current=li,e===null?li:e}function Ea(){(ne===0||ne===3||ne===2)&&(ne=4),le===null||!(mn&268435455)&&!(Ci&268435455)||At(le,ce)}function ui(e,t){var n=z;z|=2;var r=Gf();(le!==e||ce!==t)&&(gt=null,an(e,t));do try{dg();break}catch(s){Kf(e,s)}while(!0);if(ua(),z=n,oi.current=r,Z!==null)throw Error(N(261));return le=null,ce=0,ne}function dg(){for(;Z!==null;)Jf(Z)}function fg(){for(;Z!==null&&!zp();)Jf(Z)}function Jf(e){var t=Zf(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Yf(e):Z=t,Sa.current=null}function Yf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ig(n,t),n!==null){n.flags&=32767,Z=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ne=6,Z=null;return}}else if(n=sg(n,t,Oe),n!==null){Z=n;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);ne===0&&(ne=5)}function tn(e,t,n){var r=D,s=qe.transition;try{qe.transition=null,D=1,hg(e,t,n,r)}finally{qe.transition=s,D=r}return null}function hg(e,t,n,r){do Un();while(zt!==null);if(z&6)throw Error(N(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(qp(e,i),e===le&&(Z=le=null,ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bs||(bs=!0,eh(Hs,function(){return Un(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var l=D;D=1;var o=z;z|=4,Sa.current=null,og(e,n),Hf(n,e),Im(Ql),qs=!!Hl,Ql=Hl=null,e.current=n,ag(n),Fp(),z=o,D=l,qe.transition=i}else e.current=n;if(bs&&(bs=!1,zt=e,ci=s),i=e.pendingLanes,i===0&&(Vt=null),Up(n.stateNode),Ee(e,J()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ai)throw ai=!1,e=ho,ho=null,e;return ci&1&&e.tag!==0&&Un(),i=e.pendingLanes,i&1?e===po?Nr++:(Nr=0,po=e):Nr=0,Xt(),null}function Un(){if(zt!==null){var e=Od(ci),t=qe.transition,n=D;try{if(qe.transition=null,D=16>e?16:e,zt===null)var r=!1;else{if(e=zt,zt=null,ci=0,z&6)throw Error(N(331));var s=z;for(z|=4,P=e.current;P!==null;){var i=P,l=i.child;if(P.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:_r(8,d,i)}var f=d.child;if(f!==null)f.return=d,P=f;else for(;P!==null;){d=P;var h=d.sibling,x=d.return;if(Bf(d),d===u){P=null;break}if(h!==null){h.return=x,P=h;break}P=x}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}P=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,P=l;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_r(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=e.current;for(P=p;P!==null;){l=P;var m=l.child;if(l.subtreeFlags&2064&&m!==null)m.return=l,P=m;else e:for(l=p;P!==null;){if(o=P,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ni(9,o)}}catch(_){K(o,o.return,_)}if(o===l){P=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,P=b;break e}P=o.return}}if(z=s,Xt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(vi,e)}catch{}r=!0}return r}finally{D=n,qe.transition=t}}return!1}function iu(e,t,n){t=qn(n,t),t=Tf(e,t,1),e=Wt(e,t,1),t=xe(),e!==null&&(Jr(e,1,t),Ee(e,t))}function K(e,t,n){if(e.tag===3)iu(e,e,n);else for(;t!==null;){if(t.tag===3){iu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vt===null||!Vt.has(r))){e=qn(n,e),e=Mf(t,e,1),t=Wt(t,e,1),e=xe(),t!==null&&(Jr(t,1,e),Ee(t,e));break}}t=t.return}}function pg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xe(),e.pingedLanes|=e.suspendedLanes&n,le===e&&(ce&n)===n&&(ne===4||ne===3&&(ce&130023424)===ce&&500>J()-ka?an(e,0):_a|=n),Ee(e,t)}function Xf(e,t){t===0&&(e.mode&1?(t=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):t=1);var n=xe();e=_t(e,t),e!==null&&(Jr(e,t,n),Ee(e,n))}function mg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Xf(e,n)}function gg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(t),Xf(e,n)}var Zf;Zf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ne.current)ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ke=!1,rg(e,t,n);ke=!!(e.flags&131072)}else ke=!1,W&&t.flags&1048576&&nf(t,ei,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;As(e,t),e=t.pendingProps;var s=Wn(t,me.current);$n(t,n),s=va(null,t,r,e,s,n);var i=xa();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(i=!0,Xs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ha(t),s.updater=ki,t.stateNode=s,s._reactInternals=t,to(t,r,e,n),t=so(null,t,r,!0,i,n)):(t.tag=0,W&&i&&la(t),ge(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(As(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=vg(r),e=Xe(r,e),s){case 0:t=ro(null,t,r,e,n);break e;case 1:t=Gc(null,t,r,e,n);break e;case 11:t=qc(null,t,r,e,n);break e;case 14:t=Kc(null,t,r,Xe(r.type,e),n);break e}throw Error(N(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),ro(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),Gc(e,t,r,s,n);case 3:e:{if(Rf(t),e===null)throw Error(N(387));r=t.pendingProps,i=t.memoizedState,s=i.element,cf(e,t),ri(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=qn(Error(N(423)),t),t=Jc(e,t,r,n,s);break e}else if(r!==s){s=qn(Error(N(424)),t),t=Jc(e,t,r,n,s);break e}else for(Ie=Bt(t.stateNode.containerInfo.firstChild),Re=t,W=!0,tt=null,n=of(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===s){t=kt(e,t,n);break e}ge(e,t,r,n)}t=t.child}return t;case 5:return uf(t),e===null&&Xl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,ql(r,s)?l=null:i!==null&&ql(r,i)&&(t.flags|=32),Af(e,t),ge(e,t,l,n),t.child;case 6:return e===null&&Xl(t),null;case 13:return zf(e,t,n);case 4:return pa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hn(t,null,r,n):ge(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),qc(e,t,r,s,n);case 7:return ge(e,t,t.pendingProps,n),t.child;case 8:return ge(e,t,t.pendingProps.children,n),t.child;case 12:return ge(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,l=s.value,$(ti,r._currentValue),r._currentValue=l,i!==null)if(st(i.value,l)){if(i.children===s.children&&!Ne.current){t=kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=wt(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zl(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(N(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Zl(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}ge(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,$n(t,n),s=Ke(s),r=r(s),t.flags|=1,ge(e,t,r,n),t.child;case 14:return r=t.type,s=Xe(r,t.pendingProps),s=Xe(r.type,s),Kc(e,t,r,s,n);case 15:return If(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Xe(r,s),As(e,t),t.tag=1,Ce(r)?(e=!0,Xs(t)):e=!1,$n(t,n),Of(t,r,s),to(t,r,s,n),so(null,t,r,!0,e,n);case 19:return Ff(e,t,n);case 22:return Lf(e,t,n)}throw Error(N(156,t.tag))};function eh(e,t){return Nd(e,t)}function yg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,n,r){return new yg(e,t,n,r)}function Pa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vg(e){if(typeof e=="function")return Pa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ko)return 11;if(e===Go)return 14}return 2}function Qt(e,t){var n=e.alternate;return n===null?(n=Qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fs(e,t,n,r,s,i){var l=2;if(r=e,typeof e=="function")Pa(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case kn:return cn(n.children,s,i,t);case qo:l=8,s|=8;break;case kl:return e=Qe(12,n,t,s|2),e.elementType=kl,e.lanes=i,e;case Nl:return e=Qe(13,n,t,s),e.elementType=Nl,e.lanes=i,e;case Cl:return e=Qe(19,n,t,s),e.elementType=Cl,e.lanes=i,e;case cd:return Ei(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case od:l=10;break e;case ad:l=9;break e;case Ko:l=11;break e;case Go:l=14;break e;case Mt:l=16,r=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Qe(l,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function cn(e,t,n,r){return e=Qe(7,e,r,t),e.lanes=n,e}function Ei(e,t,n,r){return e=Qe(22,e,r,t),e.elementType=cd,e.lanes=n,e.stateNode={isHidden:!1},e}function dl(e,t,n){return e=Qe(6,e,null,t),e.lanes=n,e}function fl(e,t,n){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oa(e,t,n,r,s,i,l,o,c){return e=new xg(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ha(i),e}function wg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function th(e){if(!e)return Kt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var n=e.type;if(Ce(n))return ef(e,n,t)}return t}function nh(e,t,n,r,s,i,l,o,c){return e=Oa(n,r,!0,e,s,i,l,o,c),e.context=th(null),n=e.current,r=xe(),s=Ht(n),i=wt(r,s),i.callback=t??null,Wt(n,i,s),e.current.lanes=s,Jr(e,s,r),Ee(e,r),e}function Pi(e,t,n,r){var s=t.current,i=xe(),l=Ht(s);return n=th(n),t.context===null?t.context=n:t.pendingContext=n,t=wt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wt(s,t,l),e!==null&&(rt(e,s,l,i),Ms(e,s,l)),l}function di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ta(e,t){lu(e,t),(e=e.alternate)&&lu(e,t)}function bg(){return null}var rh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}Oi.prototype.render=Ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Pi(e,t,null,null)};Oi.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){Pi(null,e,null,null)}),t[St]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Id();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&t!==0&&t<Lt[n].priority;n++);Lt.splice(n,0,e),n===0&&Ad(e)}};function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ti(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ou(){}function jg(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=di(l);i.call(u)}}var l=nh(t,r,e,0,null,!1,!1,"",ou);return e._reactRootContainer=l,e[St]=l.current,zr(e.nodeType===8?e.parentNode:e),gn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=di(c);o.call(u)}}var c=Oa(e,0,!1,null,null,!1,!1,"",ou);return e._reactRootContainer=c,e[St]=c.current,zr(e.nodeType===8?e.parentNode:e),gn(function(){Pi(t,c,n,r)}),c}function Mi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var o=s;s=function(){var c=di(l);o.call(c)}}Pi(t,l,e,s)}else l=jg(n,t,e,s,r);return di(l)}Td=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pr(t.pendingLanes);n!==0&&(Xo(t,n|1),Ee(t,J()),!(z&6)&&(Kn=J()+500,Xt()))}break;case 13:gn(function(){var r=_t(e,1);if(r!==null){var s=xe();rt(r,e,1,s)}}),Ta(e,1)}};Zo=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=xe();rt(t,e,134217728,n)}Ta(e,134217728)}};Md=function(e){if(e.tag===13){var t=Ht(e),n=_t(e,t);if(n!==null){var r=xe();rt(n,e,t,r)}Ta(e,t)}};Id=function(){return D};Ld=function(e,t){var n=D;try{return D=e,t()}finally{D=n}};zl=function(e,t,n){switch(t){case"input":if(Ol(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ji(r);if(!s)throw Error(N(90));dd(r),Ol(r,s)}}}break;case"textarea":hd(e,n);break;case"select":t=n.value,t!=null&&Rn(e,!!n.multiple,t,!1)}};wd=Na;bd=gn;var Sg={usingClientEntryPoint:!1,Events:[Xr,Pn,ji,vd,xd,Na]},dr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_g={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_d(e),e===null?null:e.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||bg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{vi=js.inject(_g),ut=js}catch{}}$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ia(t))throw Error(N(200));return wg(e,t,null,n)};$e.createRoot=function(e,t){if(!Ia(e))throw Error(N(299));var n=!1,r="",s=rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Oa(e,1,!1,null,null,n,!1,r,s),e[St]=t.current,zr(e.nodeType===8?e.parentNode:e),new Ma(t)};$e.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=_d(t),e=e===null?null:e.stateNode,e};$e.flushSync=function(e){return gn(e)};$e.hydrate=function(e,t,n){if(!Ti(t))throw Error(N(200));return Mi(null,e,t,!0,n)};$e.hydrateRoot=function(e,t,n){if(!Ia(e))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=rh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=nh(t,null,e,1,n??null,s,!1,i,l),e[St]=t.current,zr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Oi(t)};$e.render=function(e,t,n){if(!Ti(t))throw Error(N(200));return Mi(null,e,t,!1,n)};$e.unmountComponentAtNode=function(e){if(!Ti(e))throw Error(N(40));return e._reactRootContainer?(gn(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[St]=null})}),!0):!1};$e.unstable_batchedUpdates=Na;$e.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ti(n))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Mi(e,t,n,!1,r)};$e.version="18.3.1-next-f1338f8080-20240426";function sh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sh)}catch(e){console.error(e)}}sh(),rd.exports=$e;var kg=rd.exports,au=kg;Sl.createRoot=au.createRoot,Sl.hydrateRoot=au.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}var Ft;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ft||(Ft={}));const cu="popstate";function Ng(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:l,hash:o}=r.location;return yo("",{pathname:i,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ih(s)}return Eg(t,n,null,e)}function re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function La(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cg(){return Math.random().toString(36).substr(2,8)}function uu(e,t){return{usr:e.state,key:e.key,idx:t}}function yo(e,t,n,r){return n===void 0&&(n=null),Qr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nr(t):t,{state:n,key:t&&t.key||r||Cg()})}function ih(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Eg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,o=Ft.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(Qr({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function f(){o=Ft.Pop;let w=d(),g=w==null?null:w-u;u=w,c&&c({action:o,location:y.location,delta:g})}function h(w,g){o=Ft.Push;let p=yo(y.location,w,g);u=d()+1;let m=uu(p,u),b=y.createHref(p);try{l.pushState(m,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(b)}i&&c&&c({action:o,location:y.location,delta:1})}function x(w,g){o=Ft.Replace;let p=yo(y.location,w,g);u=d();let m=uu(p,u),b=y.createHref(p);l.replaceState(m,"",b),i&&c&&c({action:o,location:y.location,delta:0})}function v(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:ih(w);return p=p.replace(/ $/,"%20"),re(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let y={get action(){return o},get location(){return e(s,l)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cu,f),c=w,()=>{s.removeEventListener(cu,f),c=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:x,go(w){return l.go(w)}};return y}var du;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(du||(du={}));function Pg(e,t,n){return n===void 0&&(n="/"),Og(e,t,n)}function Og(e,t,n,r){let s=typeof t=="string"?nr(t):t,i=ah(s.pathname||"/",n);if(i==null)return null;let l=lh(e);Tg(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=Wg(i);o=$g(l[c],u)}return o}function lh(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=un([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lh(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Fg(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,l);else for(let c of oh(i.path))s(i,l,c)}),t}function oh(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=oh(r.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Tg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Dg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Mg=/^:[\w-]+$/,Ig=3,Lg=2,Ag=1,Rg=10,zg=-2,fu=e=>e==="*";function Fg(e,t){let n=e.split("/"),r=n.length;return n.some(fu)&&(r+=zg),t&&(r+=Lg),n.filter(s=>!fu(s)).reduce((s,i)=>s+(Mg.test(i)?Ig:i===""?Ag:Rg),r)}function Dg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function $g(e,t,n){let{routesMeta:r}=e,s={},i="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ug({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),l.push({params:s,pathname:un([i,f.pathname]),pathnameBase:Jg(un([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=un([i,f.pathnameBase]))}return l}function Ug(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Bg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:x}=d;if(h==="*"){let y=o[f]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[f];return x&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function Bg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),La(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Wg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return La(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ah(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Vg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hg=e=>Vg.test(e);function Qg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?nr(e):e,i;if(n)if(Hg(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),La(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=hu(n.substring(1),"/"):i=hu(n,t)}else i=t;return{pathname:i,search:Yg(r),hash:Xg(s)}}function hu(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Kg(e,t){let n=qg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Gg(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=nr(e):(s=Qr({},e),re(!s.pathname||!s.pathname.includes("?"),hl("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),hl("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),hl("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,o;if(l==null)o=n;else{let f=t.length-1;if(!r&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=Qg(s,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const un=e=>e.join("/").replace(/\/\/+/g,"/"),Jg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ch=["post","put","patch","delete"];new Set(ch);const ey=["get",...ch];new Set(ey);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qr(){return qr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qr.apply(this,arguments)}const Aa=S.createContext(null),ty=S.createContext(null),Ii=S.createContext(null),Li=S.createContext(null),xn=S.createContext({outlet:null,matches:[],isDataRoute:!1}),uh=S.createContext(null);function Ai(){return S.useContext(Li)!=null}function Ra(){return Ai()||re(!1),S.useContext(Li).location}function dh(e){S.useContext(Ii).static||S.useLayoutEffect(e)}function Be(){let{isDataRoute:e}=S.useContext(xn);return e?py():ny()}function ny(){Ai()||re(!1);let e=S.useContext(Aa),{basename:t,future:n,navigator:r}=S.useContext(Ii),{matches:s}=S.useContext(xn),{pathname:i}=Ra(),l=JSON.stringify(Kg(s,n.v7_relativeSplatPath)),o=S.useRef(!1);return dh(()=>{o.current=!0}),S.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){r.go(u);return}let f=Gg(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:un([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,l,i,e])}function fh(){let{matches:e}=S.useContext(xn),t=e[e.length-1];return t?t.params:{}}function ry(e,t){return sy(e,t)}function sy(e,t,n,r){Ai()||re(!1);let{navigator:s}=S.useContext(Ii),{matches:i}=S.useContext(xn),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Ra(),d;if(t){var f;let w=typeof t=="string"?nr(t):t;c==="/"||(f=w.pathname)!=null&&f.startsWith(c)||re(!1),d=w}else d=u;let h=d.pathname||"/",x=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Pg(e,{pathname:x}),y=cy(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:un([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:un([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&y?S.createElement(Li.Provider,{value:{location:qr({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ft.Pop}},y):y}function iy(){let e=hy(),t=Zg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),n?S.createElement("pre",{style:s},n):null,null)}const ly=S.createElement(iy,null);class oy extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?S.createElement(xn.Provider,{value:this.props.routeContext},S.createElement(uh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ay(e){let{routeContext:t,match:n,children:r}=e,s=S.useContext(Aa);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(xn.Provider,{value:t},r)}function cy(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let d=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||re(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<l.length;d++){let f=l[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:x}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!x||x[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,f,h)=>{let x,v=!1,y=null,w=null;n&&(x=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||ly,c&&(u<0&&h===0?(my("route-fallback"),v=!0,w=null):u===h&&(v=!0,w=f.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,h+1)),p=()=>{let m;return x?m=y:v?m=w:f.route.Component?m=S.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=d,S.createElement(ay,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:m})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?S.createElement(oy,{location:n.location,revalidation:n.revalidation,component:y,error:x,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var hh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hh||{}),ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ph||{});function uy(e){let t=S.useContext(Aa);return t||re(!1),t}function dy(e){let t=S.useContext(ty);return t||re(!1),t}function fy(e){let t=S.useContext(xn);return t||re(!1),t}function mh(e){let t=fy(),n=t.matches[t.matches.length-1];return n.route.id||re(!1),n.route.id}function hy(){var e;let t=S.useContext(uh),n=dy(),r=mh();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function py(){let{router:e}=uy(hh.UseNavigateStable),t=mh(ph.UseNavigateStable),n=S.useRef(!1);return dh(()=>{n.current=!0}),S.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qr({fromRouteId:t},i)))},[e,t])}const pu={};function my(e,t,n){pu[e]||(pu[e]=!0)}function gy(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function We(e){re(!1)}function yy(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ft.Pop,navigator:i,static:l=!1,future:o}=e;Ai()&&re(!1);let c=t.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:c,navigator:i,static:l,future:qr({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof r=="string"&&(r=nr(r));let{pathname:d="/",search:f="",hash:h="",state:x=null,key:v="default"}=r,y=S.useMemo(()=>{let w=ah(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:x,key:v},navigationType:s}},[c,d,f,h,x,v,s]);return y==null?null:S.createElement(Ii.Provider,{value:u},S.createElement(Li.Provider,{children:n,value:y}))}function vy(e){let{children:t,location:n}=e;return ry(vo(t),n)}new Promise(()=>{});function vo(e,t){t===void 0&&(t=[]);let n=[];return S.Children.forEach(e,(r,s)=>{if(!S.isValidElement(r))return;let i=[...t,s];if(r.type===S.Fragment){n.push.apply(n,vo(r.props.children,i));return}r.type!==We&&re(!1),!r.props.index||!r.props.children||re(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=vo(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const xy="6";try{window.__reactRouterVersion=xy}catch{}const wy="startTransition",mu=pp[wy];function by(e){let{basename:t,children:n,future:r,window:s}=e,i=S.useRef();i.current==null&&(i.current=Ng({window:s,v5Compat:!0}));let l=i.current,[o,c]=S.useState({action:l.action,location:l.location}),{v7_startTransition:u}=r||{},d=S.useCallback(f=>{u&&mu?mu(()=>c(f)):c(f)},[c,u]);return S.useLayoutEffect(()=>l.listen(d),[l,d]),S.useEffect(()=>gy(r),[r]),S.createElement(yy,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}var gu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gu||(gu={}));var yu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yu||(yu={}));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gh=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...o},c)=>S.createElement("svg",{ref:c,...Sy,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:gh("lucide",s),...o},[...l.map(([u,d])=>S.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=(e,t)=>{const n=S.forwardRef(({className:r,...s},i)=>S.createElement(_y,{ref:i,iconNode:t,className:gh(`lucide-${jy(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=L("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=L("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=L("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=L("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=L("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=L("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=L("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=L("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=L("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=L("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=L("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=L("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=L("MapPinOff",[["path",{d:"M12.75 7.09a3 3 0 0 1 2.16 2.16",key:"1d4wjd"}],["path",{d:"M17.072 17.072c-1.634 2.17-3.527 3.912-4.471 4.727a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 1.432-4.568",key:"12yil7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.475 2.818A8 8 0 0 1 20 10c0 1.183-.31 2.377-.81 3.533",key:"lhrkcz"}],["path",{d:"M9.13 9.13a3 3 0 0 0 3.74 3.74",key:"13wojd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=L("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=L("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=L("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=L("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=L("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=L("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=L("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=L("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=L("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=L("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=L("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Te(e){if(typeof e=="number")return(Math.abs(e*2654435761)>>>0).toString(16);if(typeof e=="boolean")return e?"1":"0";if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string"){let t=2166136261;for(let n=0;n<e.length;n++)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t=t>>>0;return t.toString(16)}if(Array.isArray(e)){let t=2166136261;for(let n=0;n<e.length;n++){t^=(n+1)*2654435761;const r=Te(e[n]);for(let s=0;s<r.length;s++)t^=r.charCodeAt(s),t*=16777619,t=t>>>0}return t.toString(16)}if(typeof e=="object"){let t=2166136261;const n=Object.keys(e).sort();for(let r=0;r<n.length;r++){const s=n[r],i=Te(s);t^=parseInt(i,16),t*=16777619,t=t>>>0;const l=Te(e[s]);t^=parseInt(l,16),t*=16777619,t=t>>>0}return t.toString(16)}return Te(String(e))}const G={Remove:"remove",Replace:"replace",Add:"add"},bh=Symbol.for("__MUTATIVE_PROXY_DRAFT__"),Qy=Symbol("__MUTATIVE_RAW_RETURN_SYMBOL__"),Ds=Symbol.iterator,ze={mutable:"mutable",immutable:"immutable"},Fa={};function Cr(e,t){return e instanceof Map?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wu(e,t){if(t in e){let n=Reflect.getPrototypeOf(e);for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Reflect.getPrototypeOf(n)}}}function Da(e){return Object.getPrototypeOf(e)===Set.prototype}function $a(e){return Object.getPrototypeOf(e)===Map.prototype}function Me(e){var t;return(t=e.copy)!==null&&t!==void 0?t:e.original}function Gt(e){return!!R(e)}function R(e){return typeof e!="object"?null:e==null?void 0:e[bh]}function Ua(e){var t;const n=R(e);return n?(t=n.copy)!==null&&t!==void 0?t:n.original:e}function lt(e,t){if(!e||typeof e!="object")return!1;let n;return Object.getPrototypeOf(e)===Object.prototype||Array.isArray(e)||e instanceof Map||e instanceof Set||!!(t!=null&&t.mark)&&((n=t.mark(e,ze))===ze.immutable||typeof n=="function")}function jh(e,t=[]){if(Object.hasOwnProperty.call(e,"key")){const n=e.parent.copy,r=R(Nt(n,e.key));if(r!==null&&(r==null?void 0:r.original)!==e.original)return null;const s=e.parent.type===3,i=s?Array.from(e.parent.setMap.keys()).indexOf(e.key):e.key;if(!(s&&n.size>i||Cr(n,i)))return null;t.push(i)}if(e.parent)return jh(e.parent,t);t.reverse();try{qy(e.copy,t)}catch{return null}return t}function wn(e){return Array.isArray(e)?1:e instanceof Map?2:e instanceof Set?3:0}function Nt(e,t){return wn(e)===2?e.get(t):e[t]}function ns(e,t,n){wn(e)===2?e.set(t,n):e[t]=n}function pl(e,t){const n=R(e);return(n?Me(n):e)[t]}function bt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function wo(e){if(e)for(;e.finalities.revoke.length>0;)e.finalities.revoke.pop()()}function on(e,t){return t?e:[""].concat(e).map(n=>{const r=`${n}`;return r.indexOf("/")===-1&&r.indexOf("~")===-1?r:r.replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")}function qy(e,t){for(let n=0;n<t.length-1;n+=1){const r=t[n];if(e=Nt(wn(e)===3?Array.from(e):e,r),typeof e!="object")throw new Error(`Cannot resolve patch at '${t.join("/")}'.`)}return e}function Ky(e){const t=Object.create(Object.getPrototypeOf(e));return Reflect.ownKeys(e).forEach(n=>{let r=Reflect.getOwnPropertyDescriptor(e,n);if(r.enumerable&&r.configurable&&r.writable){t[n]=e[n];return}r.writable||(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(r={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[n]}),Reflect.defineProperty(t,n,r)}),t}const Gy=Object.prototype.propertyIsEnumerable;function Sh(e,t){let n;if(Array.isArray(e))return Array.prototype.concat.call(e);if(e instanceof Set){if(!Da(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e.values())}return Set.prototype.difference?Set.prototype.difference.call(e,new Set):new Set(e.values())}else if(e instanceof Map){if(!$a(e)){const r=Object.getPrototypeOf(e).constructor;return new r(e)}return new Map(e)}else if(t!=null&&t.mark&&(n=t.mark(e,ze),n!==void 0)&&n!==ze.mutable){if(n===ze.immutable)return Ky(e);if(typeof n=="function"){if(t.enablePatches||t.enableAutoFreeze)throw new Error("You can't use mark and patches or auto freeze together.");return n()}throw new Error(`Unsupported mark result: ${n}`)}else if(typeof e=="object"&&Object.getPrototypeOf(e)===Object.prototype){const r={};return Object.keys(e).forEach(s=>{r[s]=e[s]}),Object.getOwnPropertySymbols(e).forEach(s=>{Gy.call(e,s)&&(r[s]=e[s])}),r}else throw new Error("Please check mark() to ensure that it is a stable marker draftable function.")}function ye(e){e.copy||(e.copy=Sh(e.original,e.options))}function gr(e){if(!lt(e))return Ua(e);if(Array.isArray(e))return e.map(gr);if(e instanceof Map){const n=Array.from(e.entries()).map(([r,s])=>[r,gr(s)]);if(!$a(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Map(n)}if(e instanceof Set){const n=Array.from(e).map(gr);if(!Da(e)){const r=Object.getPrototypeOf(e).constructor;return new r(n)}return new Set(n)}const t=Object.create(Object.getPrototypeOf(e));for(const n in e)t[n]=gr(e[n]);return t}function $s(e){return Gt(e)?gr(e):e}function ft(e){var t;e.assignedMap=(t=e.assignedMap)!==null&&t!==void 0?t:new Map,e.operated||(e.operated=!0,e.parent&&ft(e.parent))}function bu(){throw new Error("Cannot modify frozen object")}function Sn(e,t,n,r,s){{n=n??new WeakMap,r=r??[],s=s??[];const l=n.has(e)?n.get(e):e;if(r.length>0){const o=r.indexOf(l);if(l&&typeof l=="object"&&o!==-1)throw r[0]===l?new Error("Forbids circular reference"):new Error(`Forbids circular reference: ~/${s.slice(0,o).map((c,u)=>{if(typeof c=="symbol")return`[${c.toString()}]`;const d=r[u];return typeof c=="object"&&(d instanceof Map||d instanceof Set)?Array.from(d.keys()).indexOf(c):c}).join("/")}`);r.push(l),s.push(t)}else r.push(l)}if(Object.isFrozen(e)||Gt(e)){r.pop(),s.pop();return}switch(wn(e)){case 2:for(const[o,c]of e)Sn(o,o,n,r,s),Sn(c,o,n,r,s);e.set=e.clear=e.delete=bu;break;case 3:for(const o of e)Sn(o,o,n,r,s);e.add=e.clear=e.delete=bu;break;case 1:Object.freeze(e);let l=0;for(const o of e)Sn(o,l,n,r,s),l+=1;break;default:Object.freeze(e),Object.keys(e).forEach(o=>{const c=e[o];Sn(c,o,n,r,s)})}r.pop(),s.pop()}function Ba(e,t){const n=wn(e);if(n===0)Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)});else if(n===1){let r=0;for(const s of e)t(r,s,e),r+=1}else e.forEach((r,s)=>t(s,r,e))}function _h(e,t,n){if(Gt(e)||!lt(e,n)||t.has(e)||Object.isFrozen(e))return;const r=e instanceof Set,s=r?new Map:void 0;if(t.add(e),Ba(e,(i,l)=>{var o;if(Gt(l)){const c=R(l);ye(c);const u=!((o=c.assignedMap)===null||o===void 0)&&o.size||c.operated?c.copy:c.original;ns(r?s:e,i,u)}else _h(l,t,n)}),s){const i=e,l=Array.from(i);i.clear(),l.forEach(o=>{i.add(s.has(o)?s.get(o):o)})}}function Jy(e,t){const n=e.type===3?e.setMap:e.copy;e.finalities.revoke.length>1&&e.assignedMap.get(t)&&n&&_h(Nt(n,t),e.finalities.handledSet,e.options)}function bo(e){e.type===3&&e.copy&&(e.copy.clear(),e.setMap.forEach(t=>{e.copy.add(Ua(t))}))}function jo(e,t,n,r){if(e.operated&&e.assignedMap&&e.assignedMap.size>0&&!e.finalized){if(n&&r){const i=jh(e);i&&t(e,i,n,r)}e.finalized=!0}}function Wa(e,t,n,r){const s=R(n);s&&(s.callbacks||(s.callbacks=[]),s.callbacks.push((i,l)=>{var o;const c=e.type===3?e.setMap:e.copy;if(bt(Nt(c,t),n)){let u=s.original;s.copy&&(u=s.copy),bo(e),jo(e,r,i,l),e.options.enableAutoFreeze&&(e.options.updatedValues=(o=e.options.updatedValues)!==null&&o!==void 0?o:new WeakMap,e.options.updatedValues.set(u,s.original)),ns(c,t,u)}}),e.options.enableAutoFreeze&&s.finalities!==e.finalities&&(e.options.enableAutoFreeze=!1)),lt(n,e.options)&&e.finalities.draft.push(()=>{const i=e.type===3?e.setMap:e.copy;bt(Nt(i,t),n)&&Jy(e,t)})}function Yy(e,t,n,r,s){let{original:i,assignedMap:l,options:o}=e,c=e.copy;c.length<i.length&&([i,c]=[c,i],[n,r]=[r,n]);for(let u=0;u<i.length;u+=1)if(l.get(u.toString())&&c[u]!==i[u]){const d=t.concat([u]),f=on(d,s);n.push({op:G.Replace,path:f,value:$s(c[u])}),r.push({op:G.Replace,path:f,value:$s(i[u])})}for(let u=i.length;u<c.length;u+=1){const d=t.concat([u]),f=on(d,s);n.push({op:G.Add,path:f,value:$s(c[u])})}if(i.length<c.length){const{arrayLengthAssignment:u=!0}=o.enablePatches;if(u){const d=t.concat(["length"]),f=on(d,s);r.push({op:G.Replace,path:f,value:i.length})}else for(let d=c.length;i.length<d;d-=1){const f=t.concat([d-1]),h=on(f,s);r.push({op:G.Remove,path:h})}}}function Xy({original:e,copy:t,assignedMap:n},r,s,i,l){n.forEach((o,c)=>{const u=Nt(e,c),d=$s(Nt(t,c)),f=o?Cr(e,c)?G.Replace:G.Add:G.Remove;if(bt(u,d)&&f===G.Replace)return;const h=r.concat(c),x=on(h,l);s.push(f===G.Remove?{op:f,path:x}:{op:f,path:x,value:d}),i.push(f===G.Add?{op:G.Remove,path:x}:f===G.Remove?{op:G.Add,path:x,value:u}:{op:G.Replace,path:x,value:u})})}function Zy({original:e,copy:t},n,r,s,i){let l=0;e.forEach(o=>{if(!t.has(o)){const c=n.concat([l]),u=on(c,i);r.push({op:G.Remove,path:u,value:o}),s.unshift({op:G.Add,path:u,value:o})}l+=1}),l=0,t.forEach(o=>{if(!e.has(o)){const c=n.concat([l]),u=on(c,i);r.push({op:G.Add,path:u,value:o}),s.unshift({op:G.Remove,path:u,value:o})}l+=1})}function Kr(e,t,n,r){const{pathAsArray:s=!0}=e.options.enablePatches;switch(e.type){case 0:case 2:return Xy(e,t,n,r,s);case 1:return Yy(e,t,n,r,s);case 3:return Zy(e,t,n,r,s)}}const pi=(e,t,n=!1)=>{if(typeof e=="object"&&e!==null&&(!lt(e,t)||n))throw new Error("Strict mode: Mutable data cannot be accessed directly, please use 'unsafe(callback)' wrap.")},So={get size(){return Me(R(this)).size},has(e){return Me(R(this)).has(e)},set(e,t){const n=R(this),r=Me(n);return(!r.has(e)||!bt(r.get(e),t))&&(ye(n),ft(n),n.assignedMap.set(e,!0),n.copy.set(e,t),Wa(n,e,t,Kr)),this},delete(e){if(!this.has(e))return!1;const t=R(this);return ye(t),ft(t),t.original.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.copy.delete(e),!0},clear(){const e=R(this);if(this.size){ye(e),ft(e),e.assignedMap=new Map;for(const[t]of e.original)e.assignedMap.set(t,!1);e.copy.clear()}},forEach(e,t){const n=R(this);Me(n).forEach((r,s)=>{e.call(t,this.get(s),s,this)})},get(e){var t,n;const r=R(this),s=Me(r).get(e),i=((n=(t=r.options).mark)===null||n===void 0?void 0:n.call(t,s,ze))===ze.mutable;if(r.options.strict&&pi(s,r.options,i),i||r.finalized||!lt(s,r.options)||s!==r.original.get(e))return s;const l=Fa.createDraft({original:s,parentDraft:r,key:e,finalities:r.finalities,options:r.options});return ye(r),r.copy.set(e,l),l},keys(){return Me(R(this)).keys()},values(){const e=this.keys();return{[Ds]:()=>this.values(),next:()=>{const t=e.next();return t.done?t:{done:!1,value:this.get(t.value)}}}},entries(){const e=this.keys();return{[Ds]:()=>this.entries(),next:()=>{const t=e.next();if(t.done)return t;const n=this.get(t.value);return{done:!1,value:[t.value,n]}}}},[Ds](){return this.entries()}},ev=Reflect.ownKeys(So),ju=(e,t,{isValuesIterator:n})=>()=>{var r,s;const i=t.next();if(i.done)return i;const l=i.value;let o=e.setMap.get(l);const c=R(o),u=((s=(r=e.options).mark)===null||s===void 0?void 0:s.call(r,o,ze))===ze.mutable;if(e.options.strict&&pi(l,e.options,u),!u&&!c&&lt(l,e.options)&&!e.finalized&&e.original.has(l)){const d=Fa.createDraft({original:l,parentDraft:e,key:l,finalities:e.finalities,options:e.options});e.setMap.set(l,d),o=d}else c&&(o=c.proxy);return{done:!1,value:n?o:[o,o]}},mi={get size(){return R(this).setMap.size},has(e){const t=R(this);if(t.setMap.has(e))return!0;ye(t);const n=R(e);return!!(n&&t.setMap.has(n.original))},add(e){const t=R(this);return this.has(e)||(ye(t),ft(t),t.assignedMap.set(e,!0),t.setMap.set(e,e),Wa(t,e,e,Kr)),this},delete(e){if(!this.has(e))return!1;const t=R(this);ye(t),ft(t);const n=R(e);return n&&t.setMap.has(n.original)?(t.assignedMap.set(n.original,!1),t.setMap.delete(n.original)):(!n&&t.setMap.has(e)?t.assignedMap.set(e,!1):t.assignedMap.delete(e),t.setMap.delete(e))},clear(){if(!this.size)return;const e=R(this);ye(e),ft(e);for(const t of e.original)e.assignedMap.set(t,!1);e.setMap.clear()},values(){const e=R(this);ye(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.values(),next:ju(e,t,{isValuesIterator:!0})}},entries(){const e=R(this);ye(e);const t=e.setMap.keys();return{[Symbol.iterator]:()=>this.entries(),next:ju(e,t,{isValuesIterator:!1})}},keys(){return this.values()},[Ds](){return this.values()},forEach(e,t){const n=this.values();let r=n.next();for(;!r.done;)e.call(t,r.value,r.value,this),r=n.next()}};Set.prototype.difference&&Object.assign(mi,{intersection(e){return Set.prototype.intersection.call(new Set(this.values()),e)},union(e){return Set.prototype.union.call(new Set(this.values()),e)},difference(e){return Set.prototype.difference.call(new Set(this.values()),e)},symmetricDifference(e){return Set.prototype.symmetricDifference.call(new Set(this.values()),e)},isSubsetOf(e){return Set.prototype.isSubsetOf.call(new Set(this.values()),e)},isSupersetOf(e){return Set.prototype.isSupersetOf.call(new Set(this.values()),e)},isDisjointFrom(e){return Set.prototype.isDisjointFrom.call(new Set(this.values()),e)}});const tv=Reflect.ownKeys(mi),kh={get(e,t,n){var r,s;const i=(r=e.copy)===null||r===void 0?void 0:r[t];if(i&&e.finalities.draftsCache.has(i))return i;if(t===bh)return e;let l;if(e.options.mark){const u=t==="size"&&(e.original instanceof Map||e.original instanceof Set)?Reflect.get(e.original,t):Reflect.get(e.original,t,n);if(l=e.options.mark(u,ze),l===ze.mutable)return e.options.strict&&pi(u,e.options,!0),u}const o=Me(e);if(o instanceof Map&&ev.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(So,"size").get.call(e.proxy):So[t].bind(e.proxy);if(o instanceof Set&&tv.includes(t))return t==="size"?Object.getOwnPropertyDescriptor(mi,"size").get.call(e.proxy):mi[t].bind(e.proxy);if(!Cr(o,t)){const u=wu(o,t);return u?"value"in u?u.value:(s=u.get)===null||s===void 0?void 0:s.call(e.proxy):void 0}const c=o[t];if(e.options.strict&&pi(c,e.options),e.finalized||!lt(c,e.options))return c;if(c===pl(e.original,t)){if(ye(e),e.copy[t]=Va({original:e.original[t],parentDraft:e,key:e.type===1?Number(t):t,finalities:e.finalities,options:e.options}),typeof l=="function"){const u=R(e.copy[t]);return ye(u),ft(u),u.copy}return e.copy[t]}return Gt(c)&&e.finalities.draftsCache.add(c),c},set(e,t,n){var r;if(e.type===3||e.type===2)throw new Error("Map/Set draft does not support any property assignment.");let s;if(e.type===1&&t!=="length"&&!(Number.isInteger(s=Number(t))&&s>=0&&(t===0||s===0||String(s)===String(t))))throw new Error("Only supports setting array indices and the 'length' property.");const i=wu(Me(e),t);if(i!=null&&i.set)return i.set.call(e.proxy,n),!0;const l=pl(Me(e),t),o=R(l);return o&&bt(o.original,n)?(e.copy[t]=n,e.assignedMap=(r=e.assignedMap)!==null&&r!==void 0?r:new Map,e.assignedMap.set(t,!1),!0):(bt(n,l)&&(n!==void 0||Cr(e.original,t))||(ye(e),ft(e),Cr(e.original,t)&&bt(n,e.original[t])?e.assignedMap.delete(t):e.assignedMap.set(t,!0),e.copy[t]=n,Wa(e,t,n,Kr)),!0)},has(e,t){return t in Me(e)},ownKeys(e){return Reflect.ownKeys(Me(e))},getOwnPropertyDescriptor(e,t){const n=Me(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},getPrototypeOf(e){return Reflect.getPrototypeOf(e.original)},setPrototypeOf(){throw new Error("Cannot call 'setPrototypeOf()' on drafts")},defineProperty(){throw new Error("Cannot call 'defineProperty()' on drafts")},deleteProperty(e,t){var n;return e.type===1?kh.set.call(this,e,t,void 0,e.proxy):(pl(e.original,t)!==void 0||t in e.original?(ye(e),ft(e),e.assignedMap.set(t,!1)):(e.assignedMap=(n=e.assignedMap)!==null&&n!==void 0?n:new Map,e.assignedMap.delete(t)),e.copy&&delete e.copy[t],!0)}};function Va(e){const{original:t,parentDraft:n,key:r,finalities:s,options:i}=e,l=wn(t),o={type:l,finalized:!1,parent:n,original:t,copy:null,proxy:null,finalities:s,options:i,setMap:l===3?new Map(t.entries()):void 0};(r||"key"in e)&&(o.key=r);const{proxy:c,revoke:u}=Proxy.revocable(l===1?Object.assign([],o):o,kh);if(s.revoke.push(u),o.proxy=c,n){const d=n;d.finalities.draft.push((f,h)=>{var x,v;const y=R(c);let w=d.type===3?d.setMap:d.copy;const g=Nt(w,r),p=R(g);if(p){let m=p.original;p.operated&&(m=Ua(g)),bo(p),jo(p,Kr,f,h),d.options.enableAutoFreeze&&(d.options.updatedValues=(x=d.options.updatedValues)!==null&&x!==void 0?x:new WeakMap,d.options.updatedValues.set(m,p.original)),ns(w,r,m)}(v=y.callbacks)===null||v===void 0||v.forEach(m=>{m(f,h)})})}else{const d=R(c);d.finalities.draft.push((f,h)=>{bo(d),jo(d,Kr,f,h)})}return c}Fa.createDraft=Va;function nv(e,t,n,r,s){var i;const l=R(e),o=(i=l==null?void 0:l.original)!==null&&i!==void 0?i:e,c=!!t.length;if(l!=null&&l.operated)for(;l.finalities.draft.length>0;)l.finalities.draft.pop()(n,r);const u=c?t[0]:l?l.operated?l.copy:l.original:e;return l&&wo(l),s&&Sn(u,u,l==null?void 0:l.options.updatedValues),[u,n&&c?[{op:G.Replace,path:[],value:t[0]}]:n,r&&c?[{op:G.Replace,path:[],value:o}]:r]}function rv(e,t){var n;const r={draft:[],revoke:[],handledSet:new WeakSet,draftsCache:new WeakSet};let s,i;t.enablePatches&&(s=[],i=[]);const o=((n=t.mark)===null||n===void 0?void 0:n.call(t,e,ze))===ze.mutable||!lt(e,t)?e:Va({original:e,parentDraft:null,finalities:r,options:t});return[o,(c=[])=>{const[u,d,f]=nv(o,c,s,i,t.enableAutoFreeze);return t.enablePatches?[u,d,f]:u}]}function _o(e){const{rootDraft:t,value:n,useRawReturn:r=!1,isRoot:s=!0}=e;Ba(n,(i,l,o)=>{const c=R(l);if(c&&t&&c.finalities===t.finalities){e.isContainDraft=!0;const u=c.original;if(o instanceof Set){const d=Array.from(o);o.clear(),d.forEach(f=>o.add(i===f?u:f))}else ns(o,i,u)}else typeof l=="object"&&l!==null&&(e.value=l,e.isRoot=!1,_o(e))}),s&&(e.isContainDraft||console.warn("The return value does not contain any draft, please use 'rawReturn()' to wrap the return value to improve performance."),r&&console.warn("The return value contains drafts, please don't use 'rawReturn()' to wrap the return value."))}function Nh(e){var t;const n=R(e);if(!lt(e,n==null?void 0:n.options))return e;const r=wn(e);if(n&&!n.operated)return n.original;let s;function i(){s=r===2?$a(e)?new Map(e):new(Object.getPrototypeOf(e)).constructor(e):r===3?Array.from(n.setMap.values()):Sh(e,n==null?void 0:n.options)}if(n){n.finalized=!0;try{i()}finally{n.finalized=!1}}else s=e;if(Ba(s,(l,o)=>{if(n&&bt(Nt(n.original,l),o))return;const c=Nh(o);c!==o&&(s===e&&i(),ns(s,l,c))}),r===3){const l=(t=n==null?void 0:n.original)!==null&&t!==void 0?t:s;return Da(l)?new Set(s):new(Object.getPrototypeOf(l)).constructor(s)}return s}function Su(e){if(!Gt(e))throw new Error(`current() is only used for Draft, parameter: ${e}`);return Nh(e)}const sv=e=>function t(n,r,s){var i,l,o;if(typeof n=="function"&&typeof r!="function")return function(_,...j){return t(_,k=>n.call(this,k,...j),r)};const c=n,u=r;let d=s;if(typeof r!="function"&&(d=r),d!==void 0&&Object.prototype.toString.call(d)!=="[object Object]")throw new Error(`Invalid options: ${d}, 'options' should be an object.`);d=Object.assign(Object.assign({},e),d);const f=Gt(c)?Su(c):c,h=Array.isArray(d.mark)?(_,j)=>{for(const k of d.mark){if(typeof k!="function")throw new Error(`Invalid mark: ${k}, 'mark' should be a function.`);const C=k(_,j);if(C)return C}}:d.mark,x=(i=d.enablePatches)!==null&&i!==void 0?i:!1,v=(l=d.strict)!==null&&l!==void 0?l:!1,w={enableAutoFreeze:(o=d.enableAutoFreeze)!==null&&o!==void 0?o:!1,mark:h,strict:v,enablePatches:x};if(!lt(f,w)&&typeof f=="object"&&f!==null)throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");const[g,p]=rv(f,w);if(typeof r!="function"){if(!lt(f,w))throw new Error("Invalid base state: create() only supports plain objects, arrays, Set, Map or using mark() to mark the state as immutable.");return[g,p]}let m;try{m=u(g)}catch(_){throw wo(R(g)),_}const b=_=>{const j=R(g);if(!Gt(_)){if(_!==void 0&&!bt(_,g)&&(j!=null&&j.operated))throw new Error("Either the value is returned as a new non-draft value, or only the draft is modified without returning any value.");const C=_==null?void 0:_[Qy];if(C){const I=C[0];return w.strict&&typeof _=="object"&&_!==null&&_o({rootDraft:j,value:_,useRawReturn:!0}),p([I])}if(_!==void 0)return typeof _=="object"&&_!==null&&_o({rootDraft:j,value:_}),p([_])}if(_===g||_===void 0)return p([]);const k=R(_);if(w===k.options){if(k.operated)throw new Error("Cannot return a modified child draft.");return p([Su(_)])}return p([_])};return m instanceof Promise?m.then(b,_=>{throw wo(R(g)),_}):b(m)},ko=sv();Object.prototype.constructor.toString();function Ch(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&Object.keys(e).every(s=>t.hasOwnProperty(s))}function _u(e,t){return Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n])}function Us(e,t){return typeof e!="object"||typeof t!="object"||e===null||t===null?e===t:Ch(e,t)?Object.keys(e).every(n=>Us(e[n],t[n])):!1}function Eh(e){if(!yr(e))return e;const t={};for(const[n,r]of Object.entries(e))r!==void 0&&(t[n]=r);return t}function Ph(e,t){if(!yr(e)||!yr(t))return t;const n=Object.assign({},e);for(const r of Object.keys(t)){if(t[r]===void 0)continue;if(t[r]===null){delete n[r];continue}const s=yr(e[r])&&yr(t[r]);n[r]=s?Ph(e[r],t[r]):t[r]}return n}function yr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function iv(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let i=0;i<t.length-1;i++){const l=t[i];(!(l in r)||typeof r[l]!="object")&&(r[l]=typeof t[i+1]=="number"?[]:{}),r=r[l]}const s=t[t.length-1];Array.isArray(r)&&typeof s=="number"?r.splice(s,0,n):r[s]=n}function ku(e,t,n){if(!e||t.length===0)return;let r=e||{};for(let s=0;s<t.length-1;s++){const i=t[s];(!(i in r)||typeof r[i]!="object")&&(r[i]=typeof t[s+1]=="number"?[]:{}),r=r[i]}r[t[t.length-1]]=n}function Oh(e,t){if(!e||t.length===0)return;const[n,...r]=t;if(n in e){if(r.length===0){Array.isArray(e)?e.splice(n,1):delete e[n];return}Oh(e[n],r),lv(e[n])&&delete e[n]}}function lv(e){return e&&Object.keys(e).length===0}function ov(e){return e.cardinality==="one"}function Ha(e){return e["value-type"]==="ref"}function Qa(e){return e["value-type"]==="blob"}function zi(e,t){return e[t]}function qa(e,t){return t.reduce((n,r)=>n&&n.get(r),e)}function et(e,t){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.delete(t[0]);return}const[n,...r]=t;e.has(n)&&et(e.get(n),r)}function _e(e,t,n){if(t.length===0)throw new Error("path must have at least one element");if(t.length===1){e.set(t[0],n);return}const[r,...s]=t;let i=e.get(r);i||(i=new Map,e.set(r,i)),_e(i,s,n)}function Th(e,t){const n=new Map,r=new Map,s=new Map;for(const i of t){const[l,o,c,u]=i,d=zi(e,o);if(!d){console.warn("no such attr",l,e);continue}Ha(d)&&_e(s,[c,o,l],i),_e(n,[l,o,c],i),_e(r,[o,l,c],i)}return{eav:n,aev:r,vae:s}}function Mh(e){const t=new Map,n=new Map,r=new Map,s=new Map;for(const i of Object.values(e)){const l=i["forward-identity"],[o,c,u]=l,d=i["reverse-identity"];if(_e(r,[c,u],i),Qa(i)&&_e(t,[c,u],i),i["primary?"]&&_e(n,[c],i),d){const[f,h,x]=d;_e(s,[h,x],i)}}return{blobAttrs:t,primaryKeys:n,forwardIdents:r,revIdents:s}}function av(e){return{__type:e.__type,attrs:e.attrs,triples:Le(e.eav,3),cardinalityInference:e.cardinalityInference,linkIndex:e.linkIndex}}function cv(e){return No(e.attrs,e.triples,e.cardinalityInference,e.linkIndex)}function Ka(e){e.attrIndexes=Mh(e.attrs)}function No(e,t,n,r){const s=Th(e,t);return s.attrs=e,s.attrIndexes=Mh(e),s.cardinalityInference=n,s.linkIndex=r,s.__type="store",s}function Fi(e,t){var n,r;let s;if(Array.isArray(t[0])){const[l,o]=t[0],c=e.aev.get(l);if(!c)return null;s=(n=Le(c,2).find(d=>d[2]===o))===null||n===void 0?void 0:n[0]}else s=t[0];if(!s)return null;const i=t[2];if(Array.isArray(i)&&i.length===2&&e.aev.get(i[0])){const[l,o]=i,c=e.aev.get(l);if(!c)return null;const d=(r=Le(c,2).find(y=>y[2]===o))===null||r===void 0?void 0:r[0];if(!d)return null;const[f,h,x,...v]=t;return[s,h,d,...v]}else{const[l,...o]=t;return[s,...o]}}function uv(e,t){const n=Fi(e,t);if(!n)return;const[r,s,i]=n,l=zi(e.attrs,s);l&&(et(e.eav,[r,s,i]),et(e.aev,[s,r,i]),Ha(l)&&et(e.vae,[i,s,r]))}let dv=0;function Ih(e,t,n){const[r,s,i]=n;let l;const o=qa(e.ea,[r,s,i]);return o&&(l=o[3]),l||Date.now()*10+dv++}function fv(e,t){var n;const r=Fi(e,t);if(!r)return;const[s,i,l]=r,o=zi(e.attrs,i);if(!o)return;const c=qa(e.eav,[s,i,l]),u=(n=c==null?void 0:c[3])!==null&&n!==void 0?n:Ih(e,o,r),d=[s,i,l,u];ov(o)?(_e(e.eav,[s,i],new Map([[l,d]])),_e(e.aev,[i,s],new Map([[l,d]]))):(_e(e.eav,[s,i,l],d),_e(e.aev,[i,s,l],d)),Ha(o)&&_e(e.vae,[l,i,s],d)}function hv(e,t){var n;const r=Fi(e,t);if(!r)return;const[s,i,l]=r,o=zi(e.attrs,i);if(!o)return;if(!Qa(o))throw new Error("merge operation is not supported for links");const c=qa(e.eav,[s,i]);if(!c)return;const u=(n=c.values().next())===null||n===void 0?void 0:n.value;if(!u)return;const d=u[2],f=Ph(d,l),h=[s,i,f,Ih(e,o,u)];_e(e.eav,[s,i],new Map([[f,h]]))}function Co(e,t){var n,r;const[s,i]=t,l=Fi(e,[s]);if(!l)return;const[o]=l,c=e.eav.get(o);if(c){for(const d of c.keys()){const f=e.attrs[d];f&&f["on-delete-reverse"]==="cascade"&&Le(c.get(d),1).forEach(([h,x,v])=>{var y;return Co(e,[v,(y=f["reverse-identity"])===null||y===void 0?void 0:y[1]])}),(!i||!f||((n=f["forward-identity"])===null||n===void 0?void 0:n[1])===i)&&(et(e.aev,[d,o]),et(e.eav,[o,d]))}c.size===0&&et(e.eav,[o])}const u=e.vae.get(o)&&Le(e.vae.get(o),2);u&&u.forEach(d=>{var f,h;const[x,v,y]=d,w=e.attrs[v];(!i||!w||((f=w["reverse-identity"])===null||f===void 0?void 0:f[1])===i)&&(et(e.eav,[x,v,y]),et(e.aev,[v,x,y]),et(e.vae,[y,v,x])),w&&w["on-delete"]==="cascade"&&Co(e,[x,(h=w["forward-identity"])===null||h===void 0?void 0:h[1]])}),((r=e.vae.get(o))===null||r===void 0?void 0:r.size)===0&&et(e.vae,[o])}function Lh(e,t){const n=Th(e.attrs,t);Object.keys(n).forEach(r=>{e[r]=n[r]})}function pv(e,[t]){e.attrs[t.id]=t,Ka(e)}function Ah(e){return Le(e.eav,3)}function mv(e,[t]){if(!e.attrs[t])return;const n=Ah(e).filter(([r,s])=>s!==t);delete e.attrs[t],Ka(e),Lh(e,n)}function gv(e,[t]){const n=e.attrs[t.id];n&&(e.attrs[t.id]=Object.assign(Object.assign({},n),t),Ka(e),Lh(e,Ah(e)))}function yv(e,t){const[n,...r]=t;switch(n){case"add-triple":fv(e,r);break;case"deep-merge-triple":hv(e,r);break;case"retract-triple":uv(e,r);break;case"delete-entity":Co(e,r);break;case"add-attr":pv(e,r);break;case"delete-attr":mv(e,r);break;case"update-attr":gv(e,r);break;case"rule-params":break;default:throw new Error(`unhandled transaction action: ${n}`)}}function Le(e,t,n=[]){if(!e||t===0)return n;if(t===1){for(const r of e.values())n.push(r);return n}for(const r of e.values())Le(r,t-1,n);return n}function Ss(e,t,n){var r,s;const i=[];if(n!=null&&n.hasOwnProperty("$not")){for(const o of t.keys())n.$not!==o&&i.push(t.get(o));return i}if(n!=null&&n.hasOwnProperty("$isNull")){const{attrId:o,isNull:c,reverse:u}=n.$isNull;if(u)for(const d of t.keys()){const f=e.vae.get(d),h=!f||((r=f.get(o))===null||r===void 0?void 0:r.get(null))||!f.get(o);(c?h:!h)&&i.push(t.get(d))}else{const d=e.aev.get(o);for(const f of t.keys()){const h=!d||((s=d.get(f))===null||s===void 0?void 0:s.get(null))||!d.get(f);(c?h:!h)&&i.push(t.get(f))}}return i}if(n!=null&&n.$comparator)return Le(t,1).filter(n.$op);const l=n.in||n.$in||[n];for(const o of l){const c=t.get(o);c&&i.push(c)}return i}function vv(e,t,n){let r="";return e!==void 0&&(r+="e"),t!==void 0&&(r+="a"),n!==void 0&&(r+="v"),r}function xv(e,[t,n,r]){var s,i;switch(vv(t,n,r)){case"e":{const o=e.eav.get(t);return Le(o,2)}case"ea":{const o=(s=e.eav.get(t))===null||s===void 0?void 0:s.get(n);return Le(o,1)}case"eav":{const o=(i=e.eav.get(t))===null||i===void 0?void 0:i.get(n);return o?Ss(e,o,r):[]}case"ev":{const o=e.eav.get(t);if(!o)return[];const c=[];for(const u of o.values())c.push(...Ss(e,u,r));return c}case"a":{const o=e.aev.get(n);return Le(o,2)}case"av":{const o=e.aev.get(n);if(!o)return[];const c=[];for(const u of o.values())c.push(...Ss(e,u,r));return c}case"v":{const o=[];for(const c of e.eav.values())for(const u of c.values())o.push(...Ss(e,u,r))}default:return Le(e.eav,3)}}function wv(e,t,n){var r;const s={};for(const[i,l]of t.entries()){const o=(r=e.eav.get(n))===null||r===void 0?void 0:r.get(l.id),c=Le(o,1);for(const u of c)s[i]=u[2]}return s}function Yn(e,t,n){var r;return(r=e.attrIndexes.forwardIdents.get(t))===null||r===void 0?void 0:r.get(n)}function Rh(e,t,n){var r;return(r=e.attrIndexes.revIdents.get(t))===null||r===void 0?void 0:r.get(n)}function bv(e,t){return e.attrIndexes.blobAttrs.get(t)}function jv(e,t){var n;const r=e.attrIndexes.primaryKeys.get(t);return r||((n=e.attrIndexes.forwardIdents.get(t))===null||n===void 0?void 0:n.get("id"))}function Nu(e,t){return ko(e,n=>{t.forEach(r=>{yv(n,r)})})}function Sv(e){return typeof e=="string"&&e.startsWith("?")}function _v(e,t,n){if(n.hasOwnProperty(e)){const r=n[e];return zh(r,t,n)}return Object.assign(Object.assign({},n),{[e]:t})}function Cu(e,t,n){return e===t?n:null}function kv(e){switch(typeof e){case"string":return e.startsWith("?")?_v:Cu;default:return Cu}}const Nv=["in","$in","$not","$isNull","$comparator"];function Cv(e){for(const t of Nv)if(e.hasOwnProperty(t))return!0;return!1}function zh(e,t,n){return n?typeof e=="object"?Cv(e)?n:null:kv(e)(e,t,n):null}function Ev(e,t,n){return e.reduce((r,s,i)=>{const l=t[i];return zh(s,l,r)},n)}function Pv(e,t,n){return Mv(e,t,n).map(r=>Ev(t,r,n)).filter(r=>r)}function Ov(e,t,n){return t.or?t.or.patterns.flatMap(r=>Eo(e,r,n)):t.and?t.and.patterns.reduce((r,s)=>Eo(e,s,r),n):n.flatMap(r=>Pv(e,t,r))}function Eo(e,t,n=[{}]){return t.reduce((r,s)=>Ov(e,s,r),n)}function Ga(e,t){return Array.isArray(t)?t.map(n=>Ga(e,n)):Sv(t)?e[t]:t}function Tv(e,{find:t,where:n}){return Eo(e,n).map(s=>Ga(s,t))}function Mv(e,t,n){return xv(e,Ga(n,t))}let _s;const Iv=new Uint8Array(16);function Lv(){if(!_s&&(_s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _s(Iv)}const oe=[];for(let e=0;e<256;++e)oe.push((e+256).toString(16).slice(1));function Av(e,t=0){return oe[e[t+0]]+oe[e[t+1]]+oe[e[t+2]]+oe[e[t+3]]+"-"+oe[e[t+4]]+oe[e[t+5]]+"-"+oe[e[t+6]]+oe[e[t+7]]+"-"+oe[e[t+8]]+oe[e[t+9]]+"-"+oe[e[t+10]]+oe[e[t+11]]+oe[e[t+12]]+oe[e[t+13]]+oe[e[t+14]]+oe[e[t+15]]}const Rv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Eu={randomUUID:Rv};function zv(e,t,n){if(Eu.randomUUID&&!e)return Eu.randomUUID();e=e||{};const r=e.random||(e.rng||Lv)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Av(r)}function Pu(e){const t=e.replace(/-/g,""),n=[];for(let r=0;r<t.length;r+=2)n.push(parseInt(t.substring(r,r+2),16));return n}function Fv(e,t){for(let n=0;n<e.length;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}function Dv(e,t){return Fv(Pu(e),Pu(t))}function he(){return zv()}let $v=0;function Er(e){return Di(`_${e}`,$v++)}function Di(e,t){return`?${e}-${t}`}class Xn extends Error{constructor(t){super(t),this.name="AttrNotFoundError"}}function Uv(e,t){const n=jv(e,t);if(!n)throw new Xn(`Could not find id attr for ${t}`);return n}function Ou(e,t,n,r){return[Bv(e,t,n,r)]}function Bv(e,t,n,r){return[e(n,r),Uv(t,n).id,e(n,r),e("time",r)]}function Wv(e,t,n){return e.map(r=>r===t?n:r)}function Fh(e,t,n,r,s){const i=Yn(t,n,s),l=Rh(t,n,s),o=i||l;if(!o)throw new Xn(`Could not find attr for ${[n,s]}`);if(o["value-type"]!=="ref")throw new Error(`Attr ${o.id} is not a ref`);const[c,u]=o["forward-identity"],[d,f]=o["reverse-identity"],h=r+1,x=i?[e(u,r),o.id,e(f,h),Er("time")]:[e(u,h),o.id,e(f,r),Er("time")];return[i?f:u,h,x,o,!!i]}function Tu(e,t){if(typeof t!="string")return function(l){return!1};const r=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."),s=new RegExp(`^${r}$`,e?void 0:"i");return function(l){return typeof l!="string"?!1:s.test(l)}}function Vv(e,t){if(typeof t!="object"||t.hasOwnProperty("$in")||t.hasOwnProperty("in"))return t;const n=e["checked-data-type"]==="date";if(t.hasOwnProperty("$gt"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])>new Date(t.$gt)}:function(s){return s[2]>t.$gt}};if(t.hasOwnProperty("$gte"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])>=new Date(t.$gte)}:function(s){return s[2]>=t.$gte}};if(t.hasOwnProperty("$lt"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])<new Date(t.$lt)}:function(s){return s[2]<t.$lt}};if(t.hasOwnProperty("$lte"))return{$comparator:!0,$op:n?function(s){return new Date(s[2])<=new Date(t.$lte)}:function(s){return s[2]<=t.$lte}};if(t.hasOwnProperty("$like")){const r=Tu(!0,t.$like);return{$comparator:!0,$op:function(i){return r(i[2])}}}if(t.hasOwnProperty("$ilike")){const r=Tu(!1,t.$ilike);return{$comparator:!0,$op:function(i){return r(i[2])}}}return t}function Hv(e,t,n,r,s,i){const l=Yn(t,n,s),o=Rh(t,n,s),c=l||o;if(!c)throw new Xn(`No attr for etype = ${n} label = ${s}`);if(i!=null&&i.hasOwnProperty("$isNull")){const u=Yn(t,n,"id");if(!u)throw new Xn(`No attr for etype = ${n} label = id`);return[e(n,r),u.id,{$isNull:{attrId:c.id,isNull:i.$isNull,reverse:!l}},Er("time")]}return l?[e(n,r),c.id,Vv(c,i),Er("time")]:[i,c.id,e(n,r),Er("time")]}function Qv(e,t,n,r,s){const[i,l,o]=s.reduce((c,u)=>{const[d,f,h]=c,[x,v,y]=Fh(e,t,d,f,u);return[x,v,[...h,y]]},[n,r,[]]);return[i,l,o]}function Po(e,t,n,r,s,i){const l=s.slice(0,s.length-1),o=s[s.length-1],[c,u,d]=Qv(e,t,n,r,l),f=Hv(e,t,c,u,o,i);return d.concat([f])}function qv(e,t){return t?[t].concat(e):e}function Kv([e,t]){return e==="or"&&Array.isArray(t)}function Gv([e,t]){return e==="and"&&Array.isArray(t)}function Jv(e,t,n){return(r,s)=>{const i=e(r,s);return t==i?i:`${i}-${n}`}}function Mu(e,t,n,r,s,i){const l=e(r,s),o=i.map((c,u)=>{const d=Jv(e,l,u);return Dh(d,n,r,s,c)});return{[t]:{patterns:o,joinSym:l}}}function Yv(e){const t=[];for(let n=1;n<=e.length;n++)t.push(e.slice(0,n));return t}function Iu(e,t,n,r,s){return Yv(s).map(i=>Po(e,t,n,r,i,{$isNull:!0}))}function Dh(e,t,n,r,s){return Object.entries(s).flatMap(([i,l])=>{if(Kv([i,l]))return Mu(e,"or",t,n,r,l);if(Gv([i,l]))return Mu(e,"and",t,n,r,l);if(i==="$entityIdStartsWith")return[];const o=i.split(".");if(l!=null&&l.hasOwnProperty("$not")){const c=Po(e,t,n,r,o,l),u=Iu(e,t,n,r,o);return[{or:{patterns:[c,...u],joinSym:e(n,r)}}]}return l!=null&&l.hasOwnProperty("$isNull")&&l.$isNull===!0&&o.length>1?[{or:{patterns:Iu(e,t,n,r,o),joinSym:e(n,r)}}]:Po(e,t,n,r,o,l)})}function Xv(e,t,n,r){const s=Di;return r?Dh(s,e,t,n,r).concat(Ou(s,e,t,n)):Ou(s,e,t,n)}function Zv(e,t,n){return[e(t,n),e("time",n)]}function e0(e,t,n,r,s,i){const[l,o,c,u,d]=Fh(e,t,n,r,s),f=Wv(c,e(n,r),i);return[l,o,f,u,d]}function t0(e,t,{etype:n,level:r,form:s},i){const l=Object.keys(s).filter(o=>o!=="$");return l.length?Object.entries(i).map(function([c,u]){return l.map(function(h){var x,v,y;const w=!!(t.cardinalityInference&&(!((y=(v=(x=t.linkIndex)===null||x===void 0?void 0:x[n])===null||v===void 0?void 0:v[h])===null||y===void 0)&&y.isSingular));try{const[g,p,m]=e0(e,t,n,r,h,c),b=$h(t,{etype:g,level:p,form:s[h],join:m}),_=w?b[0]:b;return{[h]:_}}catch(g){if(g instanceof Xn)return{[h]:w?void 0:[]};throw g}}).reduce(function(h,x){return Object.assign(Object.assign({},h),x)},u)}):Object.values(i)}function gi([e,t],[n,r]){return t===r||t==null&&r==null?Dv(e,n):r==null?1:t==null?-1:t>r?1:-1}function Oo(e){return e==null?e:new Date(e).getTime()}function n0(e,t,n,r){var s;const[i,l,o,c]=e,u=n==="desc"?1:-1;if(((s=t["forward-identity"])===null||s===void 0?void 0:s[2])==="id")return gi(r,[i,c])===u;const[d,f]=r,h=t["checked-data-type"]==="date"?Oo(f):f,x=t["checked-data-type"]==="date"?Oo(o):o;return gi([d,h],[i,x])===u}function r0(e,t){const n=t[1];return e.attrs[n]}function s0(e,t,n){const r=Object.keys(n)[0];return Yn(e,t,r)}function i0(e,t,n,r){if(n)return r0(e,n);if(r)return s0(e,t,r)}function l0(e,t,n){var r,s;if(!Array.isArray(n.fields))return bv(e,t);const i=new Map;for(const l of n.fields){const o=Yn(e,t,l),c=(r=o==null?void 0:o["forward-identity"])===null||r===void 0?void 0:r[2];c&&Qa(o)&&i.set(c,o)}if(!i.has("id")){const l=Yn(e,t,"id"),o=(s=l==null?void 0:l["forward-identity"])===null||s===void 0?void 0:s[2];o&&i.set(o,l)}return i}function o0(e,t,n,r,s,i){var l;let o=Tv(e,i);const c=r==null?void 0:r["start-cursor"],u=i0(e,t,c,s);if(u&&((l=u==null?void 0:u["forward-identity"])===null||l===void 0?void 0:l[2])!=="id"){const h=u["checked-data-type"]==="date",x=u.id;o=o.map(([v])=>{var y,w,g,p,m;let b=(m=(p=(g=(w=(y=e.eav.get(v))===null||y===void 0?void 0:y.get(x))===null||w===void 0?void 0:w.values())===null||g===void 0?void 0:g.next())===null||p===void 0?void 0:p.value)===null||m===void 0?void 0:m[2];return h&&(b=Oo(b)),[v,b]})}o.sort(n==="asc"?function(x,v){return gi(x,v)}:function(x,v){return gi(v,x)});let d={};const f=l0(e,t,i);for(const h of o){const[x]=h;if(d[x]||c&&u&&n0(c,u,n,h))continue;const v=wv(e,f,x);v&&(d[x]=v)}return d}function a0(e){var t;const n=(t=e.$)===null||t===void 0?void 0:t.order;return n&&n[Object.keys(n)[0]]||"asc"}function c0(e,{etype:t,level:n,form:r,join:s,pageInfo:i}){var l,o,c,u,d,f,h,x,v;const y=((l=r.$)===null||l===void 0?void 0:l.limit)||((o=r.$)===null||o===void 0?void 0:o.first)||((c=r.$)===null||c===void 0?void 0:c.last),w=(u=r.$)===null||u===void 0?void 0:u.offset,g=(d=r.$)===null||d===void 0?void 0:d.before,p=(f=r.$)===null||f===void 0?void 0:f.after,m=(h=r.$)===null||h===void 0?void 0:h.order,b=(x=r.$)===null||x===void 0?void 0:x.fields;if((w||g||p)&&(!i||!i["start-cursor"]))return[];const _=qv(Xv(e,t,n,(v=r.$)===null||v===void 0?void 0:v.where),s),j=Zv(Di,t,n),k=o0(e,t,a0(r),i,m,{where:_,find:j,fields:b});if(y!=null){const C=Object.entries(k);return C.length<=y?k:Object.fromEntries(C.slice(0,y))}return k}function u0(e,t){try{return c0(e,t)}catch(n){if(n instanceof Xn)return{};throw n}}function $h(e,t){const n=u0(e,t);return t0(Di,e,t,n)}function d0(e){const t={};for(const[n,r]of Object.entries(e))t[n]={startCursor:r["start-cursor"],endCursor:r["end-cursor"],hasNextPage:r["has-next-page?"],hasPreviousPage:r["has-previous-page?"]};return t}function f0({store:e,pageInfo:t,aggregate:n},r){const i={data:Object.keys(r).reduce(function(o,c){return n!=null&&n[c]||c==="$$ruleParams"||(o[c]=$h(e,{etype:c,form:r[c],level:0,pageInfo:t==null?void 0:t[c]})),o},{})};return t&&(i.pageInfo=d0(t)),n&&(i.aggregate=n),i}function h0(){const t={__etype:1,__ops:1,update:1,link:1,unlink:1,delete:1,merge:1,ruleParams:1};return new Set(Object.keys(t))}const p0=h0();function To(e,t,n){const r={__etype:e,__ops:n};return new Proxy(r,{get:(s,i)=>{if(i==="__ops")return n;if(i==="__etype")return e;if(p0.has(i))return l=>To(e,t,[...n,[i,e,t,l]])}})}function Mo(e){return e.startsWith("lookup__")}function Uh(e){const[t,n,...r]=e.split("__");return[n,JSON.parse(r.join("__"))]}function m0(e){return new Proxy({__etype:e},{get(t,n){if(n==="__etype")return e;const r=n;return Mo(r)?To(e,Uh(r),[]):To(e,r,[])}})}function Ja(){return new Proxy({},{get(e,t){return m0(t)}})}Ja();function g0(e){return e.__ops}function y0(e,t){const{attrIdMap:n,refSwapAttrIds:r}=e,s=[];for(const l of t){const o=n[l];if(o)s.push(o);else if(Array.isArray(l)&&l.length==2&&n[l[0]]){const[c,u]=l;s.push([n[c],u])}else s.push(l)}const[i]=t;if((i==="add-triple"||i==="retract-triple")&&r.has(t[2])){const l=s[1];s[1]=s[3],s[3]=l}return s}function ve(e,t,n){return Object.values(e).find(r=>{const[s,i,l]=r["forward-identity"];return i===t&&l===n})}function dn(e,t,n){return Object.values(e).find(r=>{const s=r["reverse-identity"];if(!s)return!1;const[i,l,o]=s;return l===t&&o===n})}function v0(e){if(Array.isArray(e))return e;const t=Object.entries(e);if(t.length!==1)throw new Error("lookup must be an object with a single unique attr and value.");return t[0]}function Io(e,t,n){return n.indexOf(".")!==-1&&!ve(e,t,n)}function Lo(e){const[t,n,...r]=e.split(".");if(r.length>0||n!=="id")throw new Error(`${e} is not a valid lookup attribute.`);return t}function x0(e,t,n){if(!Io(e,t,n))return ve(e,t,n);const r=Lo(n),s=ve(e,t,r)||dn(e,t,r);if(s&&s["value-type"]!=="ref")throw new Error(`${n} does not reference a valid link attribute.`);return s}function Ao(e){return typeof e=="string"&&!Mo(e)?null:typeof e=="string"&&Mo(e)?Uh(e):v0(e)}function Ae(e,t,n){const r=Ao(n);if(r===null)return n;const[s,i]=r,l=x0(e,t,s);if(!l||!l["unique?"])throw new Error(`${s} is not a unique attribute.`);return[l.id,i]}function Bh(e,t,n,r){const s=Ae(e,t,n);return Array.isArray(s)?[["add-triple",s,ve(e,t,"id").id,s]].concat(r):r}function w0(e,[t,n,r]){const s=Object.entries(r).flatMap(([i,l])=>{const o=Array.isArray(l)?l:[l],c=ve(e,t,i),u=dn(e,t,i);return o.map(d=>c?["add-triple",Ae(e,t,n),c.id,Ae(e,c["reverse-identity"][1],d)]:["add-triple",Ae(e,u["forward-identity"][1],d),u.id,Ae(e,t,n)])});return Bh(e,t,n,s)}function b0(e,[t,n,r]){const s=Object.entries(r).flatMap(([i,l])=>{const o=Array.isArray(l)?l:[l],c=ve(e,t,i),u=dn(e,t,i);return o.map(d=>c?["retract-triple",Ae(e,t,n),c.id,Ae(e,c["reverse-identity"][1],d)]:["retract-triple",Ae(e,u["forward-identity"][1],d),u.id,Ae(e,t,n)])});return Bh(e,t,n,s)}function j0(e,[t,n,r]){const s=Eh(r),i=Ae(e,t,n);return[["id",i]].concat(Object.entries(s)).map(([o,c])=>{const u=ve(e,t,o);return["add-triple",i,u.id,c]})}function S0(e,[t,n]){return[["delete-entity",Ae(e,t,n),t]]}function _0(e,[t,n,r]){const s=Eh(r),i=Ae(e,t,n),l=Object.entries(s).map(([c,u])=>{const d=ve(e,t,c);return["deep-merge-triple",i,d.id,u]});return[["add-triple",i,ve(e,t,"id").id,i]].concat(l)}function k0(e,[t,n,r]){return[["rule-params",Ae(e,t,n),t,r]]}function N0(e){const[t,n,r,s]=e;if(!s)return e;const i=Object.assign({},s);return delete i.id,[t,n,r,i]}function C0(e,t){const[n,...r]=N0(t);switch(n){case"merge":return _0(e,r);case"update":return j0(e,r);case"link":return w0(e,r);case"unlink":return b0(e,r);case"delete":return S0(e,r);case"ruleParams":return k0(e,r);default:throw new Error(`unsupported action ${n}`)}}function E0(e){switch(e){case"string":case"date":case"boolean":case"number":return e;default:return}}function P0(e,t,n){var r,s;const i=(s=(r=e.entities[t])===null||r===void 0?void 0:r.attrs)===null||s===void 0?void 0:s[n];if(n==="id")return null;if(!i)throw new Error(`${t}.${n} does not exist in your schema`);const{unique:l,indexed:o}=i==null?void 0:i.config,c=E0(i==null?void 0:i.valueType);return{"index?":o,"unique?":l,"checked-data-type":c}}function ml(e,t,n,r){const s=e?P0(e,t,n):null,i=he(),o=[he(),t,n];return Object.assign(Object.assign({id:i,"forward-identity":o,"value-type":"blob",cardinality:"one","unique?":!1,"index?":!1,isUnsynced:!0},s||{}),r||{})}function O0(e,t,n){return Object.values(e.links).find(s=>s.forward.on===t&&s.forward.label===n||s.reverse.on===t&&s.reverse.label===n)}function T0(e,t,n){const r=O0(e,t,n);if(!r)throw new Error(`Couldn't find the link ${t}.${n} in your schema`);const{forward:s,reverse:i}=r;return{"forward-identity":[he(),s.on,s.label],"reverse-identity":[he(),i.on,i.label],cardinality:s.has==="one"?"one":"many","unique?":i.has==="one"}}function Lu(e,t,n,r){const s=e?T0(e,t,n):null,i=he(),l=[he(),t,n],o=[he(),n,t];return Object.assign(Object.assign({id:i,"forward-identity":l,"reverse-identity":o,"value-type":"ref",cardinality:"many","unique?":!1,"index?":!1,isUnsynced:!0},s||{}),r||{})}const M0=new Set(["update","merge","link","unlink"]),I0=new Set(["link","unlink"]),L0=new Set(["update","merge"]),A0=new Set(["link","unlink","update","merge","delete","ruleParams"]),Ro={"unique?":!0,"index?":!0},R0=Object.assign(Object.assign({},Ro),{cardinality:"one"});function z0(e){const t=[],[n,r,s,i]=e;if(!A0.has(n))return t;const l=Ao(s);if(l&&t.push({etype:r,lookupPair:l}),n==="link")for(const[o,c]of Object.entries(i)){const u=Array.isArray(c)?c:[c];for(const d of u){const f=Ao(d);f&&t.push({etype:r,lookupPair:f,linkLabel:o})}}return t}function F0({attrs:e,schema:t},n){var r,s;const[i,l,o]=[new Set,Object.assign({},e),[]];function c(f){l[f.id]=f,o.push(["add-attr",f]),i.add(f.id)}function u(f){f!=null&&f.isUnsynced&&!i.has(f.id)&&(o.push(["add-attr",f]),i.add(f.id))}function d(f,h){const x=ve(l,f,h),v=dn(l,f,h);u(x),u(v),!x&&!v&&c(Lu(t,f,h,R0))}for(const f of n)for(const{etype:h,lookupPair:x,linkLabel:v}of z0(f)){const y=x[0];if(v){d(h,v);const w=ve(l,h,v),g=dn(l,h,v);u(w),u(g);const p=((r=w==null?void 0:w["reverse-identity"])===null||r===void 0?void 0:r[1])||((s=g==null?void 0:g["forward-identity"])===null||s===void 0?void 0:s[1])||v;if(Io(l,p,y))d(p,Lo(y));else{const m=ve(l,p,y);m||c(ml(t,p,y,Ro)),u(m)}}else if(Io(l,h,y))d(h,Lo(y));else{const w=ve(l,h,y);w||c(ml(t,h,y,Ro)),u(w)}}for(const f of n){const[h,x,v,y]=f;if(M0.has(h)){const w=Object.keys(y);w.push("id");for(const g of w){const p=ve(l,x,g);if(u(p),L0.has(h)&&(p||c(ml(t,x,g,g==="id"?{"unique?":!0}:null))),I0.has(h)){const m=dn(l,x,g);!p&&!m&&c(Lu(t,x,g)),u(m)}}}}return[l,o]}function D0(e,t){const r=(Array.isArray(t)?t:[t]).flatMap(o=>g0(o)),[s,i]=F0(e,r),l=r.flatMap(o=>C0(s,o));return[...i,...l]}var Au=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Wh{constructor(t){this.dbName=t,this._storeName="kv",this._dbPromise=this._init()}_init(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,1);r.onerror=s=>{n(s)},r.onsuccess=s=>{t(s.target.result)},r.onupgradeneeded=s=>{s.target.result.createObjectStore(this._storeName)}})}getItem(t){return Au(this,void 0,void 0,function*(){const n=yield this._dbPromise;return new Promise((r,s)=>{const o=n.transaction([this._storeName],"readonly").objectStore(this._storeName).get(t);o.onerror=c=>{s(c)},o.onsuccess=c=>{o.result?r(o.result):r(null)}})})}setItem(t,n){return Au(this,void 0,void 0,function*(){const r=yield this._dbPromise;return new Promise((s,i)=>{const c=r.transaction([this._storeName],"readwrite").objectStore(this._storeName).put(n,t);c.onerror=u=>{i(u)},c.onsuccess=u=>{s()}})})}}var $0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Vh{static getIsOnline(){return $0(this,void 0,void 0,function*(){return navigator.onLine})}static listen(t){const n=()=>{t(!0)},r=()=>{t(!1)};return addEventListener("online",n),addEventListener("offline",r),()=>{removeEventListener("online",n),removeEventListener("offline",r)}}}var U0=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Ya extends Error{constructor(t){var n;const r=((n=t.body)===null||n===void 0?void 0:n.message)||`API Error (${t.status})`;super(r);const s=new.target.prototype;Object.setPrototypeOf&&Object.setPrototypeOf(this,s),Error.captureStackTrace&&Error.captureStackTrace(this,Ya),this.name="InstantAPIError",this.status=t.status,this.body=t.body}get[Symbol.toStringTag](){return"InstantAPIError"}}function ht(e,t){return U0(this,void 0,void 0,function*(){const n=yield fetch(e,t),r=yield n.json();return n.status===200?Promise.resolve(r):Promise.reject(new Ya({status:n.status,body:r}))})}var rs=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function B0({apiURI:e,appId:t,email:n}){return ht(`${e}/runtime/auth/send_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":t,email:n})})}function W0(e){return rs(this,arguments,void 0,function*({apiURI:t,appId:n,email:r,code:s}){return yield ht(`${t}/runtime/auth/verify_magic_code`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,email:r,code:s})})})}function V0(e){return rs(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield ht(`${t}/runtime/auth/verify_refresh_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({"app-id":n,"refresh-token":r})})})}function Ru(e){return rs(this,arguments,void 0,function*({apiURI:t,appId:n,code:r,codeVerifier:s}){return yield ht(`${t}/runtime/oauth/token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,code:r,code_verifier:s})})})}function H0(e){return rs(this,arguments,void 0,function*({apiURI:t,appId:n,nonce:r,idToken:s,clientName:i,refreshToken:l}){return yield ht(`${t}/runtime/oauth/id_token`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,nonce:r,id_token:s,client_name:i,refresh_token:l})})})}function Q0(e){return rs(this,arguments,void 0,function*({apiURI:t,appId:n,refreshToken:r}){return yield ht(`${t}/runtime/signout`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({app_id:n,refresh_token:r})})})}var ss=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};function q0(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,file:s,refreshToken:i,contentType:l,contentDisposition:o}){const c={app_id:n,path:r,authorization:`Bearer ${i}`,"content-type":l||s.type};return o&&(c["content-disposition"]=o),yield ht(`${t}/storage/upload`,{method:"PUT",headers:c,body:s})})}function K0(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:s}){const{data:i}=yield ht(`${t}/storage/files?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"DELETE",headers:{"content-type":"application/json",authorization:`Bearer ${s}`}});return i})}function G0(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,fileName:r,refreshToken:s,metadata:i={}}){const{data:l}=yield ht(`${t}/storage/signed-upload-url`,{method:"POST",headers:{"content-type":"application/json",authorization:`Bearer ${s}`},body:JSON.stringify({app_id:n,filename:r})});return l})}function J0(e,t){return ss(this,void 0,void 0,function*(){return(yield fetch(e,{method:"PUT",body:t,headers:{"Content-Type":t.type}})).ok})}function Y0(e){return ss(this,arguments,void 0,function*({apiURI:t,appId:n,path:r,refreshToken:s}){const{data:i}=yield ht(`${t}/storage/signed-download-url?app_id=${n}&filename=${encodeURIComponent(r)}`,{method:"GET",headers:{"content-type":"application/json",authorization:`Bearer ${s}`}});return i})}let Xa=!1,Hh=!1,Qh=!1;typeof window<"u"&&typeof window.localStorage<"u"&&(Xa=!!window.localStorage.getItem("devBackend"),Hh=!!window.localStorage.getItem("__instantLogging"),Qh=!!window.localStorage.getItem("__devtoolLocalDash"));function zu(e,t){if(!t)return e;const n={};return t.forEach(r=>{n[r]=e[r]}),n}function X0(e,t,n){var r,s;const i={peers:{}};if(t&&"user"in t?t.user:!0){const o=zu((r=e.user)!==null&&r!==void 0?r:{},t==null?void 0:t.keys);i.user=Object.assign(Object.assign({},o),{peerId:n})}for(const o of Object.keys((s=e.peers)!==null&&s!==void 0?s:{})){const c=(t==null?void 0:t.peers)===void 0,u=Array.isArray(t==null?void 0:t.peers)&&(t==null?void 0:t.peers.includes(o));if(c||u){const d=zu(e.peers[o],t==null?void 0:t.keys);i.peers[o]=Object.assign(Object.assign({},d),{peerId:o})}}return i}function Z0(e,t){if(e.isLoading!==t.isLoading||e.error!==t.error||(e.user||t.user)&&(!e.user||!t.user||!_u(e.user,t.user))||!Ch(e.peers,t.peers))return!0;for(const r of Object.keys(e.peers))if(!_u(e.peers[r],t.peers[r]))return!0;return!1}class Fu{constructor(){this.promise=new Promise((t,n)=>{this._resolve=t,this._reject=n})}resolve(t){this._resolve(t)}reject(t){this._reject(t)}}var ks=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};class Du{constructor(t,n,r,s,i=c=>JSON.stringify(c),l=c=>JSON.parse(c),o=100){this._subs=[],this._persister=t,this._key=n,this._onMerge=s,this._loadedCbs=[],this._isLoading=!0,this.currentValue=r,this.toJSON=i,this.fromJSON=l,this._saveThrottleMs=o,this._pendingSaveCbs=[],this._version=0,this._load()}_load(){return ks(this,void 0,void 0,function*(){const t=this.fromJSON(yield this._persister.getItem(this._key));this._isLoading=!1,this._onMerge(t,this.currentValue);for(const n of this._loadedCbs)n()})}waitForLoaded(){return ks(this,void 0,void 0,function*(){if(!this._isLoading)return;yield new Promise(n=>{this._loadedCbs.push(n)})})}isLoading(){return this._isLoading}version(){return this._version}waitForSync(){return ks(this,void 0,void 0,function*(){if(!this._nextSave)return;yield new Promise(n=>{this._pendingSaveCbs.push(n)})})}_writeToStorage(){this._persister.setItem(this._key,this.toJSON(this.currentValue));for(const t of this._pendingSaveCbs)t();this._pendingSaveCbs.length=0}flush(){return ks(this,void 0,void 0,function*(){this._nextSave&&(clearTimeout(this._nextSave),this._writeToStorage())})}_enqueuePersist(t){if(this._nextSave){t&&this._pendingSaveCbs.push(t);return}this._nextSave=setTimeout(()=>{this._nextSave=null,this._writeToStorage()},this._saveThrottleMs)}set(t,n){this._version++,this.currentValue=t(this.currentValue),this._isLoading?this._loadedCbs.push(()=>this._enqueuePersist(n)):this._enqueuePersist(n);for(const r of this._subs)r(this.currentValue)}subscribe(t){return this._subs.push(t),t(this.currentValue),()=>{this._subs=this._subs.filter(n=>n!==t)}}}function qh(e,t=[]){e.forEach(n=>{const{data:r}=n,{"datalog-result":s}=r,{"join-rows":i}=s;for(const l of i)for(const o of l)t.push(o);qh(n["child-nodes"],t)})}function $u(e){const t=[];return qh(e,t),t}function ex(e){return Object.values(e.links).reduce((t,n)=>{var r,s,i,l;return(r=t[i=n.forward.on])!==null&&r!==void 0||(t[i]={}),t[n.forward.on][n.forward.label]={isForward:!0,isSingular:n.forward.has==="one",link:n},(s=t[l=n.reverse.on])!==null&&s!==void 0||(t[l]={}),t[n.reverse.on][n.reverse.label]={isForward:!1,isSingular:n.reverse.has==="one",link:n},t},{})}const Kh="v0.18.10";function tx(e){return{info:e?console.info.bind(console):()=>{},debug:e?console.debug.bind(console):()=>{},error:e?console.error.bind(console):()=>{}}}var se=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const mt={CONNECTING:"connecting",OPENED:"opened",AUTHENTICATED:"authenticated",CLOSED:"closed",ERRORED:"errored"},nx=3e4,rx=0,Uu=1,sx={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"},gl="_instant_oauth_redirect",yl="currentUser";let ix=0;function lx(e){const t=new WebSocket(e);return t._id=ix++,t}function ox(){return typeof window<"u"||typeof chrome<"u"}const Bu={"set-presence":!0,"set-presence-ok":!0,"refresh-presence":!0,"patch-presence":!0};function ax(e){var t;const n=JSON.parse(e);for(const r in n){const s=n[r];!((t=s==null?void 0:s.result)===null||t===void 0)&&t.store&&(s.result.store=cv(s.result.store))}return n}function cx(e){var t;const n={};for(const r in e){const s=e[r],i=Object.assign({},s);!((t=s.result)===null||t===void 0)&&t.store&&(i.result=Object.assign(Object.assign({},s.result),{store:av(s.result.store)})),n[r]=i}return JSON.stringify(n)}class ux{constructor(t,n=Wh,r=Vh,s){this._isOnline=!0,this._isShutdown=!1,this.status=mt.CONNECTING,this.queryCbs={},this.queryOnceDfds={},this.authCbs=[],this.attrsCbs=[],this.mutationErrorCbs=[],this.connectionStatusCbs=[],this.mutationDeferredStore=new Map,this._reconnectTimeoutId=null,this._reconnectTimeoutMs=0,this._localIdPromises={},this._errorMessage=null,this._oauthCallbackResponse=null,this._linkIndex=null,this._rooms={},this._roomsPendingLeave={},this._presence={},this._broadcastQueue=[],this._broadcastSubs={},this._currentUserCached={isLoading:!0,error:void 0,user:void 0},this._beforeUnloadCbs=[],this._dataForQueryCache={},this._onMergeQuerySubs=(i,l)=>{const o=i||{},c=Object.assign({},l);Object.entries(l).forEach(([d,f])=>{var h;const x=(h=o==null?void 0:o[d])===null||h===void 0?void 0:h.result,v=f.result;x&&!v&&(c[d].result=x)}),Object.keys(o).filter(d=>!l[d]).slice(0,10).forEach(d=>{c[d]=o[d]}),this.querySubs.set(d=>c),this.loadedNotifyAll()},this._onMergePendingMutations=(i,l)=>{const o=new Map([...i.entries(),...l.entries()]);this.pendingMutations.set(u=>o),this.loadedNotifyAll(),this._rewriteMutations(this.attrs,i).forEach((u,d)=>{!l.has(d)&&!u["tx-id"]&&this._sendMutation(d,u)})},this.getPreviousResult=i=>{const l=Te(i);return this.dataForQuery(l)},this.notifyOne=i=>{var l,o;const c=(l=this.queryCbs[i])!==null&&l!==void 0?l:[],u=(o=this._dataForQueryCache[i])===null||o===void 0?void 0:o.data,d=this.dataForQuery(i);d&&(Us(d,u)||c.forEach(f=>f.cb(d)))},this.notifyOneQueryOnce=i=>{var l;const o=(l=this.queryOnceDfds[i])!==null&&l!==void 0?l:[],c=this.dataForQuery(i);o.forEach(u=>{this._completeQueryOnce(u.q,i,u.dfd),u.dfd.resolve(c)})},this.notifyQueryError=(i,l)=>{(this.queryCbs[i]||[]).forEach(c=>c.cb({error:l}))},this.pushTx=i=>{try{const l=D0({attrs:this.optimisticAttrs(),schema:this.config.schema},i);return this.pushOps(l)}catch(l){return this.pushOps([],l)}},this.pushOps=(i,l)=>{const o=he(),c={op:"transact","tx-steps":i,error:l};this.pendingMutations.set(d=>(d.set(o,c),d));const u=new Fu;return this.mutationDeferredStore.set(o,u),this._sendMutation(o,c),this.notifyAll(),u.promise},this._wsOnOpen=i=>{const l=i.target;if(this._ws!==l){this._log.info("[socket][open]",l._id,"skip; this is no longer the current ws");return}this._log.info("[socket][open]",this._ws._id),this._setStatus(mt.OPENED),this.getCurrentUser().then(o=>{var c;this._trySend(he(),{op:"init","app-id":this.config.appId,"refresh-token":(c=o.user)===null||c===void 0?void 0:c.refresh_token,versions:this.versions,"__admin-token":this.config.__adminToken})})},this._wsOnMessage=i=>{const l=i.target,o=JSON.parse(i.data.toString());if(this._ws!==l){this._log.info("[socket][message]",l._id,o,"skip; this is no longer the current ws");return}this._handleReceive(l._id,JSON.parse(i.data.toString()))},this._wsOnError=i=>{const l=i.target;if(this._ws!==l){this._log.info("[socket][error]",l._id,"skip; this is no longer the current ws");return}this._log.error("[socket][error]",l._id,i)},this._wsOnClose=i=>{const l=i.target;if(this._ws!==l){this._log.info("[socket][close]",l._id,"skip; this is no longer the current ws");return}this._setStatus(mt.CLOSED);for(const o of Object.values(this._rooms))o.isConnected=!1;if(this._isShutdown){this._log.info("[socket][close]",l._id,"Reactor has been shut down and will not reconnect");return}this._log.info("[socket][close]",l._id,"schedule reconnect, ms =",this._reconnectTimeoutMs),setTimeout(()=>{if(this._reconnectTimeoutMs=Math.min(this._reconnectTimeoutMs+1e3,1e4),!this._isOnline){this._log.info("[socket][close]",l._id,"we are offline, no need to start socket");return}this._startSocket()},this._reconnectTimeoutMs)},this.config=Object.assign(Object.assign({},sx),t),this._log=tx(t.verbose||Xa||Hh),this.versions=Object.assign(Object.assign({},s||{}),{"@instantdb/core":Kh}),this.config.schema&&(this._linkIndex=ex(this.config.schema)),ox()&&(typeof BroadcastChannel=="function"&&(this._broadcastChannel=new BroadcastChannel("@instantdb"),this._broadcastChannel.addEventListener("message",i=>se(this,void 0,void 0,function*(){var l;if(((l=i.data)===null||l===void 0?void 0:l.type)==="auth"){const o=yield this.getCurrentUser();this.updateUser(o.user)}}))),this._oauthCallbackResponse=this._oauthLoginInit(),this._initStorage(n),this.getCurrentUser(),r.getIsOnline().then(i=>{this._isOnline=i,this._startSocket(),r.listen(l=>{l!==this._isOnline&&(this._log.info("[network] online =",l),this._isOnline=l,this._isOnline?this._startSocket():(this._log.info("Changing status from",this.status,"to",mt.CLOSED),this._setStatus(mt.CLOSED)))})}),typeof addEventListener<"u"&&(this._beforeUnload=this._beforeUnload.bind(this),addEventListener("beforeunload",this._beforeUnload)))}_initStorage(t){this._persister=new t(`instant_${this.config.appId}_5`),this.querySubs=new Du(this._persister,"querySubs",{},this._onMergeQuerySubs,cx,ax),this.pendingMutations=new Du(this._persister,"pendingMutations",new Map,this._onMergePendingMutations,n=>JSON.stringify([...n.entries()]),n=>new Map(JSON.parse(n))),this._beforeUnloadCbs.push(()=>{this.pendingMutations.flush(),this.querySubs.flush()})}_beforeUnload(){for(const t of this._beforeUnloadCbs)t()}_finishTransaction(t,n,r){const s=this.mutationDeferredStore.get(n);this.mutationDeferredStore.delete(n);const i=t!=="error"&&t!=="timeout";!s&&!i&&console.error("Mutation failed",Object.assign({status:t,clientId:n},r)),s&&(i?s.resolve({status:t,clientId:n}):s.reject(Object.assign({status:t,clientId:n},r)))}_setStatus(t,n){this.status=t,this._errorMessage=n,this.notifyConnectionStatusSubs(t)}_flushEnqueuedRoomData(t){var n,r;const s=(r=(n=this._presence[t])===null||n===void 0?void 0:n.result)===null||r===void 0?void 0:r.user,i=this._broadcastQueue[t];if(this._broadcastQueue[t]=[],s&&this._trySetPresence(t,s),i)for(const l of i){const{topic:o,roomType:c,data:u}=l;this._tryBroadcast(t,c,o,u)}}_handleReceive(t,n){var r,s,i,l;const o=!!this.config.schema&&("cardinalityInference"in this.config?!!this.config.cardinalityInference:!0);switch(Bu[n.op]||this._log.info("[receive]",t,n.op,n),n.op){case"init-ok":this._setStatus(mt.AUTHENTICATED),this._reconnectTimeoutMs=0,this._setAttrs(n.attrs),this._flushPendingMessages(),this._sessionId=n["session-id"];for(const F of Object.keys(this._rooms))this._tryJoinRoom(F);break;case"add-query-exists":this.notifyOneQueryOnce(Te(n.q));break;case"add-query-ok":const{q:c,result:u}=n,d=Te(c),f=(s=(r=u==null?void 0:u[0])===null||r===void 0?void 0:r.data)===null||s===void 0?void 0:s["page-info"],h=(l=(i=u==null?void 0:u[0])===null||i===void 0?void 0:i.data)===null||l===void 0?void 0:l.aggregate,x=$u(u),v=No(this.attrs,x,o,this._linkIndex);this.querySubs.set(F=>(F[d].result={store:v,pageInfo:f,aggregate:h},F)),this.notifyOne(d),this.notifyOneQueryOnce(d);break;case"refresh-ok":const{computations:y,attrs:w}=n;this._setAttrs(w);const g=y.map(F=>{var je,Je,Pe,E;const M=F["instaql-query"],T=F["instaql-result"],V=Te(M),X=$u(T),bn=No(this.attrs,X,o,this._linkIndex),pt=(Je=(je=T==null?void 0:T[0])===null||je===void 0?void 0:je.data)===null||Je===void 0?void 0:Je["page-info"],rr=(E=(Pe=T==null?void 0:T[0])===null||Pe===void 0?void 0:Pe.data)===null||E===void 0?void 0:E.aggregate;return{hash:V,store:bn,pageInfo:pt,aggregate:rr}});g.forEach(({hash:F,store:je,pageInfo:Je,aggregate:Pe})=>{this.querySubs.set(E=>(E[F].result={store:je,pageInfo:Je,aggregate:Pe},E))}),g.forEach(({hash:F})=>{this.notifyOne(F)});break;case"transact-ok":const{"client-event-id":p,"tx-id":m}=n,_=this._rewriteMutations(this.attrs,this.pendingMutations.currentValue).get(p);if(!_)break;this.pendingMutations.set(F=>(F.delete(p),F));const j=_["tx-steps"];this.querySubs.set(F=>{var je;for(const[Je,Pe]of Object.entries(F)){const E=(je=Pe==null?void 0:Pe.result)===null||je===void 0?void 0:je.store;if(!E)continue;const M=Nu(E,j);F[Je].result.store=M}return F});const k=_["tx-steps"].filter(([F,...je])=>F==="add-attr").map(([F,je])=>je).concat(Object.values(this.attrs));this._setAttrs(k),this._finishTransaction("synced",p);break;case"patch-presence":{const F=n["room-id"];this._patchPresencePeers(F,n.edits),this._notifyPresenceSubs(F);break}case"refresh-presence":{const F=n["room-id"];this._setPresencePeers(F,n.data),this._notifyPresenceSubs(F);break}case"server-broadcast":const C=n["room-id"],I=n.topic;this._notifyBroadcastSubs(C,I,n);break;case"join-room-ok":const O=n["room-id"],ee=this._rooms[O];if(!ee){this._roomsPendingLeave[O]&&(this._tryLeaveRoom(O),delete this._roomsPendingLeave[O]);break}ee.isConnected=!0,this._notifyPresenceSubs(O),this._flushEnqueuedRoomData(O);break;case"join-room-error":const Pt=n["room-id"],Ot=this._rooms[Pt];Ot&&(Ot.error=n.error),this._notifyPresenceSubs(Pt);break;case"error":this._handleReceiveError(n);break}}_handleMutationError(t,n,r){const s=this.pendingMutations.currentValue.get(n);s&&(t!=="timeout"||!s["tx-id"])&&(this.pendingMutations.set(i=>(i.delete(n),i)),this.notifyAll(),this.notifyAttrsSubs(),this.notifyMutationErrorSubs(r),this._finishTransaction(t,n,r))}_handleReceiveError(t){var n,r,s,i,l;const o=t["client-event-id"],c=this.pendingMutations.currentValue.get(o),u={message:t.message||"Uh-oh, something went wrong. Ping Joe & Stopa."};if(t.hint&&(u.hint=t.hint),c){const h={message:t.message,hint:t.hint};this._handleMutationError("error",o,h);return}if(!((n=t["original-event"])===null||n===void 0)&&n.hasOwnProperty("q")&&((r=t["original-event"])===null||r===void 0?void 0:r.op)==="add-query"){const h=(s=t["original-event"])===null||s===void 0?void 0:s.q,x=Te(h);this.notifyQueryError(Te(h),u),this.notifyQueryOnceError(h,x,o,u);return}if(((i=t["original-event"])===null||i===void 0?void 0:i.op)==="init"){if(t.type==="record-not-found"&&((l=t.hint)===null||l===void 0?void 0:l["record-type"])==="app-user"){this.changeCurrentUser(null);return}this._setStatus(mt.ERRORED,u),this.notifyAll();return}const f=Object.assign({},t);delete f.message,delete f.hint,console.error(t.message,f),t.hint&&console.error(`This error comes with some debugging information. Here it is: 
`,t.hint)}notifyQueryOnceError(t,n,r,s){var i;const l=(i=this.queryOnceDfds[n])===null||i===void 0?void 0:i.find(o=>o.eventId===r);l&&(l.dfd.reject(s),this._completeQueryOnce(t,n,l.dfd))}_setAttrs(t){this.attrs=t.reduce((n,r)=>(n[r.id]=r,n),{}),this.notifyAttrsSubs()}_startQuerySub(t,n){const r=he();return this.querySubs.set(s=>(s[n]=s[n]||{q:t,result:null,eventId:r},s)),this._trySendAuthed(r,{op:"add-query",q:t}),r}subscribeQuery(t,n,r){var s;r&&"ruleParams"in r&&(t=Object.assign({$$ruleParams:r.ruleParams},t));const i=Te(t),l=this.getPreviousResult(t);return l&&n(l),this.queryCbs[i]=(s=this.queryCbs[i])!==null&&s!==void 0?s:[],this.queryCbs[i].push({q:t,cb:n}),this._startQuerySub(t,i),()=>{this._unsubQuery(t,i,n)}}queryOnce(t,n){var r;n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const s=new Fu;if(!this._isOnline)return s.reject(new Error("We can't run `queryOnce`, because the device is offline.")),s.promise;if(!this.querySubs)return s.reject(new Error("We can't run `queryOnce` on the backend. Use adminAPI.query instead: https://www.instantdb.com/docs/backend#query")),s.promise;const i=Te(t),l=this._startQuerySub(t,i);return this.queryOnceDfds[i]=(r=this.queryOnceDfds[i])!==null&&r!==void 0?r:[],this.queryOnceDfds[i].push({q:t,dfd:s,eventId:l}),setTimeout(()=>s.reject(new Error("Query timed out")),nx),s.promise}_completeQueryOnce(t,n,r){this.queryOnceDfds[n]&&(this.queryOnceDfds[n]=this.queryOnceDfds[n].filter(s=>s.dfd!==r),this._cleanupQuery(t,n))}_unsubQuery(t,n,r){this.queryCbs[n]&&(this.queryCbs[n]=this.queryCbs[n].filter(s=>s.cb!==r),this._cleanupQuery(t,n))}_cleanupQuery(t,n){var r,s;!((r=this.queryCbs[n])===null||r===void 0)&&r.length||!((s=this.queryOnceDfds[n])===null||s===void 0)&&s.length||(delete this.queryCbs[n],delete this.queryOnceDfds[n],this._trySendAuthed(he(),{op:"remove-query",q:t}))}_rewriteMutations(t,n){if(!t)return n;const r=c=>{const[u,d,f]=c["forward-identity"];return ve(t,d,f)},s=c=>{const[u,d,f]=c["forward-identity"];return dn(t,d,f)},i={attrIdMap:{},refSwapAttrIds:new Set},l=c=>{const u=[];for(const d of c){const[f]=d;if(f==="add-attr"){const[x,v]=d,y=r(v);if(y){i.attrIdMap[v.id]=y.id;continue}if(v["value-type"]==="ref"){const w=s(v);if(w){i.attrIdMap[v.id]=w.id,i.refSwapAttrIds.add(v.id);continue}}}const h=y0(i,d);u.push(h)}return u},o=new Map;for(const[c,u]of n.entries())o.set(c,Object.assign(Object.assign({},u),{"tx-steps":l(u["tx-steps"])}));return o}optimisticAttrs(){var t;const n=[...this.pendingMutations.currentValue.values()].flatMap(o=>o["tx-steps"]),r=new Set(n.filter(([o,c])=>o==="delete-attr").map(([o,c])=>c)),s=[];for(const[o,c]of n)if(o==="add-attr")s.push(c);else if(o==="update-attr"&&c.id&&(!((t=this.attrs)===null||t===void 0)&&t[c.id])){const u=Object.assign(Object.assign({},this.attrs[c.id]),c);s.push(u)}const i=[...Object.values(this.attrs||{}),...s].filter(o=>!r.has(o.id));return Object.fromEntries(i.map(o=>[o.id,o]))}dataForQuery(t){const n=this._errorMessage;if(n)return{error:n};if(!this.querySubs||!this.pendingMutations)return;const r=this.querySubs.version(),s=this.querySubs.currentValue,i=this.pendingMutations.version(),l=this.pendingMutations.currentValue,{q:o,result:c}=s[t]||{};if(!c)return;const u=this._dataForQueryCache[t];if(u&&r===u.querySubVersion&&i===u.pendingMutationsVersion)return u.data;const{store:d,pageInfo:f,aggregate:h}=c,v=[...this._rewriteMutations(d.attrs,l).values()].flatMap(g=>g["tx-steps"]),y=Nu(d,v),w=f0({store:y,pageInfo:f,aggregate:h},o);return this._dataForQueryCache[t]={querySubVersion:r,pendingMutationsVersion:i,data:w},w}notifyAll(){Object.keys(this.queryCbs).forEach(t=>{this.notifyOne(t)})}loadedNotifyAll(){this.pendingMutations.isLoading()||this.querySubs.isLoading()||this.notifyAll()}shutdown(){var t;this._isShutdown=!0,(t=this._ws)===null||t===void 0||t.close()}_sendMutation(t,n){if(n.error){this._handleMutationError("error",t,{error:n.error,message:n.error.message});return}if(this.status!==mt.AUTHENTICATED){this._finishTransaction("enqueued",t);return}const r=Math.max(5e3,this.pendingMutations.currentValue.size*5e3);this._isOnline?(this._trySend(t,n),setTimeout(()=>{this._finishTransaction("pending",t)},3e3),setTimeout(()=>{this._isOnline&&this._handleMutationError("timeout",t,{message:"transaction timed out"})},r)):this._finishTransaction("enqueued",t)}_flushPendingMessages(){Object.keys(this.queryCbs).map(s=>this.querySubs.currentValue[s]).filter(s=>s).forEach(({eventId:s,q:i})=>{this._trySendAuthed(s,{op:"add-query",q:i})}),Object.values(this.queryOnceDfds).flat().forEach(({eventId:s,q:i})=>{this._trySendAuthed(s,{op:"add-query",q:i})}),this._rewriteMutations(this.attrs,this.pendingMutations.currentValue).forEach((s,i)=>{s["tx-id"]||this._sendMutation(i,s)})}_trySendAuthed(...t){this.status===mt.AUTHENTICATED&&this._trySend(...t)}_trySend(t,n,r){this._ws.readyState===Uu&&(Bu[n.op]||this._log.info("[send]",this._ws._id,n.op,n),this._ws.send(JSON.stringify(Object.assign({"client-event-id":t},n))))}_startSocket(){if(this._ws&&this._ws.readyState==rx){this._log.info("[socket][start]",this._ws._id,"maintained as current ws, we were still in a connecting state");return}const t=this._ws;this._ws=lx(`${this.config.websocketURI}?app_id=${this.config.appId}`),this._ws.onopen=this._wsOnOpen,this._ws.onmessage=this._wsOnMessage,this._ws.onclose=this._wsOnClose,this._ws.onerror=this._wsOnError,this._log.info("[socket][start]",this._ws._id),(t==null?void 0:t.readyState)===Uu&&(this._log.info("[socket][start]",this._ws._id,"close previous ws id = ",t._id),t.close())}getLocalId(t){return se(this,void 0,void 0,function*(){const n=`localToken_${t}`,r=yield this._persister.getItem(n);if(r)return r;if(this._localIdPromises[n])return this._localIdPromises[n];const s=he();return this._localIdPromises[n]=this._persister.setItem(n,s).then(()=>s),this._localIdPromises[n]})}_replaceUrlAfterOAuth(){if(typeof URL>"u")return;const t=new URL(window.location.href);if(t.searchParams.get(gl)){const n=t.toString();t.searchParams.delete(gl),t.searchParams.delete("code"),t.searchParams.delete("error");const r=t.pathname+(t.searchParams.size?"?"+t.searchParams:"")+t.hash;if(history.replaceState(history.state,"",r),typeof navigation=="object"&&typeof navigation.addEventListener=="function"&&typeof navigation.removeEventListener=="function"){let s=!1;const i=l=>{var o;s||(s=!0,navigation.removeEventListener("navigate",i),!l.userInitiated&&l.navigationType==="replace"&&((o=l.destination)===null||o===void 0?void 0:o.url)===n&&history.replaceState(history.state,"",r))};navigation.addEventListener("navigate",i)}}}_oauthLoginInit(){return se(this,void 0,void 0,function*(){var t,n,r,s;if(typeof window>"u"||typeof window.location>"u"||typeof URLSearchParams>"u")return null;const i=new URLSearchParams(window.location.search);if(!i.get(gl))return null;const l=i.get("error");if(l)return this._replaceUrlAfterOAuth(),{error:{message:l}};const o=i.get("code");if(!o)return null;this._replaceUrlAfterOAuth();try{const{user:c}=yield Ru({apiURI:this.config.apiURI,appId:this.config.appId,code:o});return this.setCurrentUser(c),null}catch(c){return((t=c==null?void 0:c.body)===null||t===void 0?void 0:t.type)==="record-not-found"&&((r=(n=c==null?void 0:c.body)===null||n===void 0?void 0:n.hint)===null||r===void 0?void 0:r["record-type"])==="app-oauth-code"&&(yield this._hasCurrentUser())?null:{error:{message:((s=c==null?void 0:c.body)===null||s===void 0?void 0:s.message)||"Error logging in."}}}})}_waitForOAuthCallbackResponse(){return se(this,void 0,void 0,function*(){return yield this._oauthCallbackResponse})}__subscribeMutationErrors(t){return this.mutationErrorCbs.push(t),()=>{this.mutationErrorCbs=this.mutationErrorCbs.filter(n=>n!==t)}}subscribeAuth(t){this.authCbs.push(t);const n=this._currentUserCached;n.isLoading||t(this._currentUserCached);let r=!1;return this.getCurrentUser().then(s=>{r||Us(s,n)||t(s)}),()=>{r=!0,this.authCbs=this.authCbs.filter(s=>s!==t)}}getAuth(){return se(this,void 0,void 0,function*(){const{user:t,error:n}=yield this.getCurrentUser();if(n)throw n;return t})}subscribeConnectionStatus(t){return this.connectionStatusCbs.push(t),()=>{this.connectionStatusCbs=this.connectionStatusCbs.filter(n=>n!==t)}}subscribeAttrs(t){return this.attrsCbs.push(t),this.attrs&&t(this.attrs),()=>{this.attrsCbs=this.attrsCbs.filter(n=>n!==t)}}notifyAuthSubs(t){this.authCbs.forEach(n=>n(t))}notifyMutationErrorSubs(t){this.mutationErrorCbs.forEach(n=>n(t))}notifyAttrsSubs(){if(!this.attrs)return;const t=this.optimisticAttrs();this.attrsCbs.forEach(n=>n(t))}notifyConnectionStatusSubs(t){this.connectionStatusCbs.forEach(n=>n(t))}setCurrentUser(t){return se(this,void 0,void 0,function*(){yield this._persister.setItem(yl,JSON.stringify(t))})}getCurrentUserCached(){return this._currentUserCached}getCurrentUser(){return se(this,void 0,void 0,function*(){const t=yield this._waitForOAuthCallbackResponse();if(t!=null&&t.error){const s={error:t.error,user:void 0};return this._currentUserCached=Object.assign({isLoading:!1},s),s}const n=yield this._persister.getItem(yl),r={user:JSON.parse(n),error:void 0};return this._currentUserCached=Object.assign({isLoading:!1},r),r})}_hasCurrentUser(){return se(this,void 0,void 0,function*(){const t=yield this._persister.getItem(yl);return JSON.parse(t)!=null})}changeCurrentUser(t){return se(this,void 0,void 0,function*(){var n;const{user:r}=yield this.getCurrentUser();if(!Us(r,t)){yield this.setCurrentUser(t),this.updateUser(t);try{(n=this._broadcastChannel)===null||n===void 0||n.postMessage({type:"auth"})}catch(s){console.error("Error posting message to broadcast channel",s)}}})}updateUser(t){const n={error:void 0,user:t};this._currentUserCached=Object.assign({isLoading:!1},n),this._dataForQueryCache={},this.querySubs.set(r=>(Object.keys(r).forEach(s=>{delete r[s].result}),r)),this._reconnectTimeoutMs=0,this._ws.close(),this._oauthCallbackResponse=null,this.notifyAuthSubs(n)}sendMagicCode({email:t}){return B0({apiURI:this.config.apiURI,appId:this.config.appId,email:t})}signInWithMagicCode(t){return se(this,arguments,void 0,function*({email:n,code:r}){const s=yield W0({apiURI:this.config.apiURI,appId:this.config.appId,email:n,code:r});return yield this.changeCurrentUser(s.user),s})}signInWithCustomToken(t){return se(this,void 0,void 0,function*(){const n=yield V0({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:t});return yield this.changeCurrentUser(n.user),n})}potentiallyInvalidateToken(t,n){var r;const s=(r=t==null?void 0:t.user)===null||r===void 0?void 0:r.refresh_token;if(!s)return;if(n.invalidateToken===!1){this._log.info("[auth-invalidate] skipped invalidateToken");return}Q0({apiURI:this.config.apiURI,appId:this.config.appId,refreshToken:s}).then(()=>{this._log.info("[auth-invalidate] completed invalidateToken")}).catch(l=>{})}signOut(t){return se(this,void 0,void 0,function*(){const n=yield this.getCurrentUser();this.potentiallyInvalidateToken(n,t),yield this.changeCurrentUser(null)})}createAuthorizationURL({clientName:t,redirectURL:n}){const{apiURI:r,appId:s}=this.config;return`${r}/runtime/oauth/start?app_id=${s}&client_name=${t}&redirect_uri=${n}`}exchangeCodeForToken(t){return se(this,arguments,void 0,function*({code:n,codeVerifier:r}){const s=yield Ru({apiURI:this.config.apiURI,appId:this.config.appId,code:n,codeVerifier:r});return yield this.changeCurrentUser(s.user),s})}issuerURI(){const{apiURI:t,appId:n}=this.config;return`${t}/runtime/${n}`}signInWithIdToken(t){return se(this,arguments,void 0,function*({idToken:n,clientName:r,nonce:s}){var i;const l=yield this.getCurrentUser(),o=(i=l==null?void 0:l.user)===null||i===void 0?void 0:i.refresh_token,c=yield H0({apiURI:this.config.apiURI,appId:this.config.appId,idToken:n,clientName:r,nonce:s,refreshToken:o});return yield this.changeCurrentUser(c.user),c})}joinRoom(t){return this._rooms[t]||(this._rooms[t]={isConnected:!1,error:void 0}),this._presence[t]=this._presence[t]||{},this._tryJoinRoom(t),()=>{this._cleanupRoom(t)}}_cleanupRoom(t){var n,r,s,i;if(!(!((r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0)&&r.length)&&!Object.keys((s=this._broadcastSubs[t])!==null&&s!==void 0?s:{}).length){const l=(i=this._rooms[t])===null||i===void 0?void 0:i.isConnected;delete this._rooms[t],delete this._presence[t],delete this._broadcastSubs[t],l?this._tryLeaveRoom(t):this._roomsPendingLeave[t]=!0}}getPresence(t,n,r={}){const s=this._rooms[n],i=this._presence[n];return!s||!i||!i.result?null:Object.assign(Object.assign({},X0(i.result,r,this._sessionId)),{isLoading:!s.isConnected,error:s.error})}publishPresence(t,n,r){const s=this._rooms[n],i=this._presence[n];if(!s||!i)return;i.result=i.result||{};const l=Object.assign(Object.assign({},i.result.user),r);i.result.user=l,s.isConnected&&(this._trySetPresence(n,l),this._notifyPresenceSubs(n))}_trySetPresence(t,n){this._trySendAuthed(he(),{op:"set-presence","room-id":t,data:n})}_tryJoinRoom(t){this._trySendAuthed(he(),{op:"join-room","room-id":t}),delete this._roomsPendingLeave[t]}_tryLeaveRoom(t){this._trySendAuthed(he(),{op:"leave-room","room-id":t})}subscribePresence(t,n,r,s){const i=this.joinRoom(n),l=Object.assign(Object.assign({},r),{roomId:n,cb:s,prev:null});return this._presence[n]=this._presence[n]||{},this._presence[n].handlers=this._presence[n].handlers||[],this._presence[n].handlers.push(l),this._notifyPresenceSub(n,l),()=>{var o,c,u;this._presence[n].handlers=(u=(c=(o=this._presence[n])===null||o===void 0?void 0:o.handlers)===null||c===void 0?void 0:c.filter(d=>d!==l))!==null&&u!==void 0?u:[],i()}}_notifyPresenceSubs(t){var n,r;(r=(n=this._presence[t])===null||n===void 0?void 0:n.handlers)===null||r===void 0||r.forEach(s=>{this._notifyPresenceSub(t,s)})}_notifyPresenceSub(t,n){const r=this.getPresence("",t,n);r&&(n.prev&&!Z0(r,n.prev)||(n.prev=r,n.cb(r)))}_patchPresencePeers(t,n){var r,s,i;const l=((s=(r=this._presence[t])===null||r===void 0?void 0:r.result)===null||s===void 0?void 0:s.peers)||{};let o=Object.fromEntries(Object.entries(l).map(([u,d])=>[u,{data:d}]));(i=this._presence[t])===null||i===void 0||i.result;const c=ko(o,u=>{for(let[d,f,h]of n)switch(f){case"+":iv(u,d,h);break;case"r":ku(u,d,h);break;case"-":Oh(u,d);break}delete u[this._sessionId]});this._setPresencePeers(t,c)}_setPresencePeers(t,n){const r=Object.assign({},n);delete r[this._sessionId];const s=Object.fromEntries(Object.entries(r).map(([i,l])=>[i,l.data]));this._presence=ko(this._presence,i=>{ku(i,[t,"result","peers"],s)})}publishTopic({roomType:t,roomId:n,topic:r,data:s}){var i;const l=this._rooms[n];if(l){if(!l.isConnected){this._broadcastQueue[n]=(i=this._broadcastQueue[n])!==null&&i!==void 0?i:[],this._broadcastQueue[n].push({topic:r,roomType:t,data:s});return}this._tryBroadcast(n,t,r,s)}}_tryBroadcast(t,n,r,s){this._trySendAuthed(he(),{op:"client-broadcast","room-id":t,roomType:n,topic:r,data:s})}subscribeTopic(t,n,r){const s=this.joinRoom(t);return this._broadcastSubs[t]=this._broadcastSubs[t]||{},this._broadcastSubs[t][n]=this._broadcastSubs[t][n]||[],this._broadcastSubs[t][n].push(r),this._presence[t]=this._presence[t]||{},()=>{this._broadcastSubs[t][n]=this._broadcastSubs[t][n].filter(i=>i!==r),this._broadcastSubs[t][n].length||delete this._broadcastSubs[t][n],s()}}_notifyBroadcastSubs(t,n,r){var s,i,l;(l=(i=(s=this._broadcastSubs)===null||s===void 0?void 0:s[t])===null||i===void 0?void 0:i[n])===null||l===void 0||l.forEach(o=>{var c,u,d,f,h,x;const v=(c=r.data)===null||c===void 0?void 0:c.data,y=r.data["peer-id"]===this._sessionId?(d=(u=this._presence[t])===null||u===void 0?void 0:u.result)===null||d===void 0?void 0:d.user:(x=(h=(f=this._presence[t])===null||f===void 0?void 0:f.result)===null||h===void 0?void 0:h.peers)===null||x===void 0?void 0:x[r.data["peer-id"]];return o(v,y)})}uploadFile(t,n,r){return se(this,void 0,void 0,function*(){var s;const i=yield this.getCurrentUser(),l=(s=i==null?void 0:i.user)===null||s===void 0?void 0:s.refresh_token;return q0(Object.assign(Object.assign({},r),{apiURI:this.config.apiURI,appId:this.config.appId,path:t,file:n,refreshToken:l}))})}deleteFile(t){return se(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),s=(n=r==null?void 0:r.user)===null||n===void 0?void 0:n.refresh_token;return yield K0({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:s})})}upload(t,n){return se(this,void 0,void 0,function*(){var r;const s=yield this.getCurrentUser(),i=(r=s==null?void 0:s.user)===null||r===void 0?void 0:r.refresh_token,l=t||n.name,o=yield G0({apiURI:this.config.apiURI,appId:this.config.appId,fileName:l,refreshToken:i});return yield J0(o,n)})}getDownloadUrl(t){return se(this,void 0,void 0,function*(){var n;const r=yield this.getCurrentUser(),s=(n=r==null?void 0:r.user)===null||n===void 0?void 0:n.refresh_token;return yield Y0({apiURI:this.config.apiURI,appId:this.config.appId,path:t,refreshToken:s})})}}let Ns;function dx(e,t){Ns==null||Ns.dispose();const n=yx(t),r=px(t,o),s=hx(fx(e));function i(d){var f;d.source===s.element.contentWindow&&((f=d.data)===null||f===void 0?void 0:f.type)==="close"&&n.isVisible()&&o()}function l(d){const f=d.shiftKey&&d.ctrlKey&&d.key==="0",h=d.key==="Escape"||d.key==="Esc";(f||h&&n.isVisible())&&o()}function o(){n.isVisible()?n.element.style.display="none":(n.element.style.display="block",n.element.contains(s.element)||n.element.appendChild(s.element))}function c(){n.element.remove(),r.element.remove(),removeEventListener("keydown",l),removeEventListener("message",i)}function u(){document.body.appendChild(n.element),document.body.appendChild(r.element),addEventListener("keydown",l),addEventListener("message",i),Ns={dispose:c}}return u()}function fx(e){return`${Xa||Qh?"http://localhost:3000":"https://instantdb.com"}/_devtool?appId=${e}`}function hx(e){const t=document.createElement("iframe");return t.src=e,t.className="instant-devtool-iframe",Object.assign(t.style,{width:"100%",height:"100%",backgroundColor:"white",border:"none"}),{element:t}}function px(e,t){const n=`
    <svg width="32" height="32" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="512" height="512" fill="black"/>
      <rect x="97.0973" y="91.3297" width="140" height="330" fill="white"/>
    </svg>
  `,r=document.createElement("button");return r.innerHTML=n,r.className="instant-devtool-toggler",Object.assign(r.style,Object.assign(Object.assign({position:"fixed"},mx(e.position)),{height:"32px",width:"32px",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"9010",padding:"0",margin:"0",border:"none",cursor:"pointer"})),r.addEventListener("click",t),{element:r}}function mx(e){switch(e){case"bottom-left":return{bottom:"24px",left:"24px"};case"bottom-right":return{bottom:"24px",right:"24px"};case"top-right":return{top:"24px",right:"24px"};case"top-left":return{top:"24px",left:"24px"}}}function gx(e){switch(e){case"bottom-left":return{bottom:"24px",right:"24px",left:"60px",top:"72px"};case"bottom-right":return{bottom:"24px",left:"24px",right:"60px",top:"72px"};case"top-right":return{top:"24px",left:"24px",right:"60px",bottom:"72px"};case"top-left":return{top:"24px",right:"24px",left:"60px",bottom:"72px"}}}function yx(e){const t=document.createElement("div");Object.assign(t.style,Object.assign(Object.assign({position:"fixed"},gx(e.position)),{display:"block",borderRadius:"4px",border:"1px #ccc solid",boxShadow:"0px 0px 8px #00000044",backgroundColor:"#eee",zIndex:"999990"})),t.style.display="none",t.className="instant-devtool-container";function n(){return t.style.display!=="none"}return{element:t,isVisible:n}}const vx={apiURI:"https://api.instantdb.com",websocketURI:"wss://api.instantdb.com/runtime/session"};function xx(){var e;return globalThis.__instantDbStore=(e=globalThis.__instantDbStore)!==null&&e!==void 0?e:{},globalThis.__instantDbStore}function zo(e){const t=e.__adminToken;return e.appId+"_"+(e.websocketURI||"default_ws_uri")+"_"+(e.apiURI||"default_api_uri")+"_"+(t||"client_only")}const Fo=xx();class wx{constructor(t){this.db=t,this.sendMagicCode=n=>this.db.sendMagicCode(n),this.signInWithMagicCode=n=>this.db.signInWithMagicCode(n),this.signInWithToken=n=>this.db.signInWithCustomToken(n),this.createAuthorizationURL=n=>this.db.createAuthorizationURL(n),this.signInWithIdToken=n=>this.db.signInWithIdToken(n),this.exchangeOAuthCode=n=>this.db.exchangeCodeForToken(n),this.issuerURI=()=>this.db.issuerURI(),this.signOut=(n={invalidateToken:!0})=>this.db.signOut(n)}}class bx{constructor(t){this.db=t,this.uploadFile=(n,r,s={})=>this.db.uploadFile(n,r,s),this.delete=n=>this.db.deleteFile(n),this.upload=(n,r)=>this.db.upload(n,r),this.put=this.upload,this.getDownloadUrl=n=>this.db.getDownloadUrl(n)}}function jx(e){return JSON.parse(JSON.stringify(e))}class Sx{constructor(t){this.tx=Ja(),this._reactor=t,this.auth=new wx(this._reactor),this.storage=new bx(this._reactor)}transact(t){return this._reactor.pushTx(t)}getLocalId(t){return this._reactor.getLocalId(t)}subscribeQuery(t,n,r){return this._reactor.subscribeQuery(t,n,r)}subscribeAuth(t){return this._reactor.subscribeAuth(t)}getAuth(){return this._reactor.getAuth()}subscribeConnectionStatus(t){return this._reactor.subscribeConnectionStatus(t)}joinRoom(t="_defaultRoomType",n="_defaultRoomId"){return{leaveRoom:this._reactor.joinRoom(n),subscribeTopic:(s,i)=>this._reactor.subscribeTopic(n,s,i),subscribePresence:(s,i)=>this._reactor.subscribePresence(t,n,s,i),publishTopic:(s,i)=>this._reactor.publishTopic({roomType:t,roomId:n,topic:s,data:i}),publishPresence:s=>this._reactor.publishPresence(t,n,s),getPresence:s=>this._reactor.getPresence(t,n,s)}}shutdown(){delete Fo[zo(this._reactor.config)],this._reactor.shutdown()}queryOnce(t,n){return this._reactor.queryOnce(t,n)}}function _x(e,t,n,r){const s=Fo[zo(e)];if(s)return s;const i=new ux(Object.assign(Object.assign(Object.assign({},vx),e),{cardinalityInference:!!e.schema}),t||Wh,n||Vh,Object.assign(Object.assign({},r||{}),{"@instantdb/core":Kh})),l=new Sx(i);return Fo[zo(e)]=l,kx(e.appId,e.devtool),l}function kx(e,t){if(typeof window>"u"||typeof window.location>"u"||typeof document>"u"||typeof t=="boolean"&&!t)return;const n=Object.assign({position:"bottom-right",allowedHosts:["localhost"]},typeof t=="object"?t:{});n.allowedHosts.includes(window.location.hostname)&&dx(e,n)}const Nx={isLoading:!0,data:void 0,pageInfo:void 0,error:void 0};function Cx(e){return Object.assign({isLoading:!e,data:void 0,pageInfo:void 0,error:void 0},e||{})}function Ex(e,t,n){t&&n&&"ruleParams"in n&&(t=Object.assign({$$ruleParams:n.ruleParams},t));const r=t?jx(t):null,s=Te(r),i=S.useRef(Cx(e._reactor.getPreviousResult(r))),l=S.useCallback(c=>r?e.subscribeQuery(r,d=>{i.current=Object.assign({isLoading:!d,data:void 0,pageInfo:void 0,error:void 0},d),c()}):()=>{},[s]);return{state:S.useSyncExternalStore(l,()=>i.current,()=>Nx),query:r}}function Px(){const e=S.useRef(null);S.useEffect(()=>{n()},[]);function t(r,s){clearTimeout(e.current),e.current=setTimeout(s,r)}function n(){clearTimeout(e.current)}return{set:t,clear:n}}const Ox=1e3;function Tx(e,t,n){S.useEffect(()=>e._core._reactor.subscribeTopic(e.id,t,(s,i)=>{n(s,i)}),[e.id,t])}function Mx(e,t){return S.useEffect(()=>e._core._reactor.joinRoom(e.id),[e.id]),S.useCallback(r=>{e._core._reactor.publishTopic({roomType:e.type,roomId:e.id,topic:t,data:r})},[e.id,t])}function Ix(e,t={}){var n,r;const[s,i]=S.useState(()=>{var c;return(c=e._core._reactor.getPresence(e.type,e.id,t))!==null&&c!==void 0?c:{peers:{},isLoading:!0}});S.useEffect(()=>e._core._reactor.subscribePresence(e.type,e.id,t,u=>{i(u)}),[e.id,t.user,(n=t.peers)===null||n===void 0?void 0:n.join(),(r=t.keys)===null||r===void 0?void 0:r.join()]);const l=S.useCallback(c=>{e._core._reactor.publishPresence(e.type,e.id,c)},[e.type,e.id]);return S.useMemo(()=>Object.assign(Object.assign({},s),{publishPresence:l}),[s,l])}function Lx(e,t,n){S.useEffect(()=>e._core._reactor.joinRoom(e.id),[e.id]),S.useEffect(()=>e._core._reactor.publishPresence(e.type,e.id,t),[e.type,e.id,n??JSON.stringify(t)])}function Ax(e,t,n={}){const r=Px(),s=nn.usePresence(e,{keys:[t]}),i=S.useMemo(()=>{var d;const f=e._core._reactor.getPresence(e.type,e.id);return n!=null&&n.writeOnly?[]:Object.values((d=f==null?void 0:f.peers)!==null&&d!==void 0?d:{}).filter(h=>h[t]===!0)},[n==null?void 0:n.writeOnly,s]),l=S.useCallback(d=>{var f;e._core._reactor.publishPresence(e.type,e.id,{[t]:d}),d&&((n==null?void 0:n.timeout)===null||(n==null?void 0:n.timeout)===0||r.set((f=n==null?void 0:n.timeout)!==null&&f!==void 0?f:Ox,()=>{e._core._reactor.publishPresence(e.type,e.id,{[t]:null})}))},[e.type,e.id,t,n==null?void 0:n.timeout,r]),o=S.useCallback(d=>{const h=!((n==null?void 0:n.stopOnEnter)&&d.key==="Enter");l(h)},[n.stopOnEnter,l]),c=S.useCallback(()=>{l(!1)},[l]),u=S.useMemo(()=>({onKeyDown:o,onBlur:c}),[o,c]);return{active:i,setActive:l,inputProps:u}}const nn={useTopicEffect:Tx,usePublishTopic:Mx,usePresence:Ix,useSyncPresence:Lx,useTypingIndicator:Ax};class Rx{constructor(t,n,r){this.useTopicEffect=(s,i)=>{nn.useTopicEffect(this,s,i)},this.usePublishTopic=s=>nn.usePublishTopic(this,s),this.usePresence=(s={})=>nn.usePresence(this,s),this.useSyncPresence=(s,i)=>nn.useSyncPresence(this,s,i),this.useTypingIndicator=(s,i={})=>nn.useTypingIndicator(this,s,i),this._core=t,this.type=n,this.id=r}}var zx=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function o(d){try{u(r.next(d))}catch(f){l(f)}}function c(d){try{u(r.throw(d))}catch(f){l(f)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((r=r.apply(e,t||[])).next())})};const Fx={isLoading:!0,user:void 0,error:void 0};class Dx{constructor(t,n){this.tx=Ja(),this.getLocalId=r=>this._core.getLocalId(r),this.useLocalId=r=>{const[s,i]=S.useState(null);return S.useEffect(()=>{zx(this,void 0,void 0,function*(){const o=yield this.getLocalId(r);i(o)})},[r]),s},this.rooms=nn,this.transact=r=>this._core.transact(r),this.useQuery=(r,s)=>Ex(this._core,r,s).state,this.useAuth=()=>{const r=S.useRef(this._core._reactor._currentUserCached),s=S.useCallback(l=>this._core.subscribeAuth(c=>{r.current=Object.assign({isLoading:!1},c),l()}),[]);return S.useSyncExternalStore(s,()=>r.current,()=>Fx)},this.useConnectionStatus=()=>{const r=S.useRef(this._core._reactor.status),s=S.useCallback(l=>this._core.subscribeConnectionStatus(c=>{c!==r.current&&(r.current=c,l())}),[]);return S.useSyncExternalStore(s,()=>r.current,()=>"connecting")},this.queryOnce=(r,s)=>this._core.queryOnce(r,s),this._core=_x(t,this.constructor.Storage,this.constructor.NetworkListener,n),this.auth=this._core.auth,this.storage=this._core.storage}room(t="_defaultRoomType",n="_defaultRoomId"){return new Rx(this._core,t,n)}getAuth(){return this._core.getAuth()}}class $x extends Dx{}const Ux="v0.18.10";function Bx(e){return new $x(e,{"@instantdb/react":Ux})}const Y=Bx({appId:"d38c26a5-d1b9-4151-82b2-a2a993687d4e"});function $i({isOpen:e,onClose:t,initialMode:n="login"}){const[r,s]=S.useState(n),[i,l]=S.useState(""),[o,c]=S.useState(""),[u,d]=S.useState(""),[f,h]=S.useState(!1),[x,v]=S.useState(null),[y,w]=S.useState("email");if(!e)return null;const g=async _=>{_.preventDefault(),h(!0),v(null);try{await Y.auth.sendMagicCode({email:i}),c(i),w("code")}catch(j){v(j instanceof Error?j.message:"Failed to send code")}finally{h(!1)}},p=async _=>{_.preventDefault(),h(!0),v(null);try{await Y.auth.signInWithMagicCode({email:o,code:u}),t()}catch(j){v(j instanceof Error?j.message:"Invalid code")}finally{h(!1)}},m=()=>{const _=Y.auth.createAuthorizationURL({clientName:"google-web",redirectURL:window.location.href});window.location.href=_},b=()=>{w("email"),l(""),d(""),c(""),v(null)};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:a.jsxs("div",{className:"bg-cream-50 rounded-2xl w-full max-w-md p-6 relative",children:[a.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:r==="login"?"Welcome back":"Create account"}),a.jsx("p",{className:"text-charcoal-light text-sm mb-6",children:r==="login"?"Sign in to access your saved shortlists and shopping lists.":"Save your color selections and shopping lists."}),a.jsxs("button",{onClick:m,className:"w-full py-3 px-4 border border-charcoal/20 rounded-full flex items-center justify-center gap-3 hover:bg-cream-100 transition-colors mb-4",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a.jsx("span",{className:"text-charcoal font-medium",children:"Continue with Google"})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"flex-1 h-px bg-charcoal/10"}),a.jsx("span",{className:"text-xs text-charcoal-light",children:"or"}),a.jsx("div",{className:"flex-1 h-px bg-charcoal/10"})]}),y==="email"?a.jsxs("form",{onSubmit:g,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-charcoal mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ry,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-charcoal-light"}),a.jsx("input",{type:"email",id:"email",value:i,onChange:_=>l(_.target.value),placeholder:"you@example.com",className:"w-full pl-11 pr-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50",required:!0})]})]}),x&&a.jsx("p",{className:"text-red-600 text-sm mb-4",children:x}),a.jsx("button",{type:"submit",disabled:f,className:"btn-primary w-full flex items-center justify-center gap-2",children:f?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"w-5 h-5 animate-spin"}),"Sending code..."]}):"Send login code"})]}):a.jsxs("form",{onSubmit:p,children:[a.jsxs("p",{className:"text-sm text-charcoal mb-4",children:["We sent a code to ",a.jsx("strong",{children:o})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-charcoal mb-2",children:"Enter code"}),a.jsx("input",{type:"text",id:"code",value:u,onChange:_=>d(_.target.value),placeholder:"123456",className:"w-full px-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50 text-center text-lg tracking-widest",required:!0})]}),x&&a.jsx("p",{className:"text-red-600 text-sm mb-4",children:x}),a.jsx("button",{type:"submit",disabled:f,className:"btn-primary w-full flex items-center justify-center gap-2 mb-3",children:f?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify code"}),a.jsx("button",{type:"button",onClick:b,className:"w-full text-sm text-charcoal-light hover:text-charcoal transition-colors",children:"Use different email"})]}),a.jsx("p",{className:"text-center text-sm text-charcoal-light mt-6",children:r==="login"?a.jsxs(a.Fragment,{children:["New here?"," ",a.jsx("button",{onClick:()=>s("signup"),className:"text-charcoal font-medium hover:underline",children:"Create account"})]}):a.jsxs(a.Fragment,{children:["Already have an account?"," ",a.jsx("button",{onClick:()=>s("login"),className:"text-charcoal font-medium hover:underline",children:"Sign in"})]})})]})})}function Wx(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"})}function Vx(){var i;const e=Be(),{user:t}=Y.useAuth(),[n,r]=S.useState(!1),s=Wx("2026-01-04T21:55:23.468Z");return a.jsxs(a.Fragment,{children:[a.jsx($i,{isOpen:n,onClose:()=>r(!1)}),a.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[a.jsx("div",{className:"flex justify-end px-4 pt-4",children:t?a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 text-sm text-charcoal",children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-gold/20 flex items-center justify-center",children:a.jsx(hi,{className:"w-4 h-4 text-gold"})}),a.jsx("span",{className:"max-w-[120px] truncate",children:(i=t.email)==null?void 0:i.split("@")[0]})]}):a.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign in"})]})}),a.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 pt-6 pb-8",children:[a.jsxs("div",{className:"mb-12",children:[a.jsx("h1",{className:"font-serif text-3xl text-charcoal tracking-tight",children:"The Color Edit"}),a.jsx("p",{className:"mt-2 text-charcoal-lighter text-sm",children:"Find your perfect palette"})]}),a.jsxs("div",{className:"mb-12 flex gap-3",children:[a.jsx("div",{className:"w-16 h-24 rounded-xl shadow-sm",style:{backgroundColor:"#D9D0C3"}}),a.jsx("div",{className:"w-16 h-28 rounded-xl shadow-sm -mt-2",style:{backgroundColor:"#CCC5B7"}}),a.jsx("div",{className:"w-16 h-24 rounded-xl shadow-sm",style:{backgroundColor:"#C9C5BD"}}),a.jsx("div",{className:"w-16 h-20 rounded-xl shadow-sm mt-2",style:{backgroundColor:"#C7D1C7"}})]}),a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"font-serif text-2xl text-charcoal leading-snug mb-3",children:"Get to a confident 5-swatch shortlist in under 5 minutes"}),a.jsx("p",{className:"text-charcoal-light text-base leading-relaxed",children:"Curated recommendations with trim, finish, and where to buy. No guesswork. No overwhelm."})]}),a.jsxs("div",{className:"flex gap-6 mb-10 text-sm text-charcoal-lighter",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),a.jsx("span",{children:"Button-driven"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gold"}),a.jsx("span",{children:"Expert-backed"})]})]})]}),a.jsxs("div",{className:"px-6 pb-8 space-y-3 safe-area-inset-bottom",children:[a.jsxs("button",{onClick:()=>e("/setup"),className:"btn-primary flex items-center justify-center gap-3",children:[a.jsx(za,{className:"w-5 h-5"}),"Get my 5-swatch shortlist"]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center gap-2 opacity-50 cursor-not-allowed",children:[a.jsx(ky,{className:"w-4 h-4"}),"Browse Collections"]}),a.jsxs("button",{className:"btn-secondary flex-1 flex items-center justify-center gap-2 opacity-50 cursor-not-allowed",children:[a.jsx(My,{className:"w-4 h-4"}),"My House Palette"]})]}),a.jsx("p",{className:"text-center text-xs text-charcoal-lighter pt-4",children:"Digital swatches are a starting point. Always test real samples."}),a.jsxs("p",{className:"text-center text-xs text-charcoal-lighter/50 pt-2",children:["Last updated ",s]})]})]})]})}const Za=[{id:"bm-oc-20",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Pale Oak",code:"OC-20",hex:"#D9D0C3",rgb:{r:217,g:208,b:195},lab:{l:83.2,a:1.8,b:7.2},lrv:69,undertone:{temperature:"warm",leansPrimary:"pink",leansSecondary:"yellow"},stability:.72,depthCategory:"light",popularity:.95,tags:["bestseller","greige","neutral","warm neutral"],description:"A sophisticated greige that reads warm without veering into beige territory. Grounded enough for a living room, soft enough for a bedroom.",bestIn:"South/west light, rooms with warm wood tones",watchOut:"Can read pink in cool north light",suggestedTrims:["bm-oc-17","bm-oc-65"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"sw-7036",relationship:"cross-brand match"},{colorId:"bm-oc-28",relationship:"less pink"}]},{id:"bm-hc-172",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Revere Pewter",code:"HC-172",hex:"#CCC5B7",rgb:{r:204,g:197,b:183},lab:{l:79.1,a:.5,b:7.8},lrv:55,undertone:{temperature:"warm",leansPrimary:"green",leansSecondary:"yellow"},stability:.68,depthCategory:"light",popularity:.92,tags:["bestseller","greige","warm","classic"],description:"The quintessential greige  warm, welcoming, and endlessly versatile. A modern classic that works in almost any space.",bestIn:"Cozy spaces with warm light, pairs with oak and walnut",watchOut:"Green undertone shows in north light",suggestedTrims:["bm-oc-17","bm-oc-131"],suggestedFinishes:["matte","eggshell"],similarColors:[{colorId:"sw-7015",relationship:"less green"}]},{id:"bm-oc-17",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"White Dove",code:"OC-17",hex:"#F0EBE1",rgb:{r:240,g:235,b:225},lab:{l:93.2,a:.3,b:4.8},lrv:85,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.88,depthCategory:"light",popularity:.94,tags:["white","trim","bestseller","warm white"],description:"A warm, soft white that feels cozy rather than stark. The perfect trim white for warm-toned spaces.",bestIn:"Trim and ceilings in warm-palette rooms",watchOut:"Can look cream next to pure whites",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"sw-7012",relationship:"cross-brand match"}]},{id:"bm-oc-65",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Chantilly Lace",code:"OC-65",hex:"#F5F3EE",rgb:{r:245,g:243,b:238},lab:{l:96.1,a:.1,b:2.1},lrv:92,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.95,depthCategory:"light",popularity:.91,tags:["white","trim","crisp","clean white"],description:"A crisp, clean white that reads bright without being cold. Works with virtually any palette.",bestIn:"Modern spaces, crisp trim, clean aesthetics",watchOut:"May feel stark in warm, cozy rooms",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"sw-7757",relationship:"cross-brand match"}]},{id:"bm-2163-40",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Sea Salt",code:"2163-40",hex:"#C9D5CE",rgb:{r:201,g:213,b:206},lab:{l:84.2,a:-4.8,b:2.1},lrv:65,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.65,depthCategory:"light",popularity:.78,tags:["green","spa","coastal","fresh"],description:"A whisper of green with coastal freshness. Evokes sea glass and quiet mornings.",bestIn:"Bathrooms, bedrooms with natural light",watchOut:"Can shift quite green in warm light",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"sw-6204",relationship:"similar feel"}]},{id:"bm-oc-28",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Collingwood",code:"OC-28",hex:"#D5D0C8",rgb:{r:213,g:208,b:200},lab:{l:83.5,a:.8,b:4.2},lrv:62,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.82,depthCategory:"light",popularity:.85,tags:["greige","neutral","versatile"],description:"A true neutral greige with minimal undertone drama. Goes with everything.",bestIn:"Any room, any light direction",watchOut:"Can feel flat in dim spaces",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"sw-7015",relationship:"similar neutral"}]},{id:"bm-hc-80",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Bleeker Beige",code:"HC-80",hex:"#CABFA8",rgb:{r:202,g:191,b:168},lab:{l:77.5,a:2.1,b:12.3},lrv:53,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"green"},stability:.7,depthCategory:"light",popularity:.75,tags:["beige","warm","traditional"],description:"A rich, warm beige with golden undertones. Traditional warmth with modern appeal.",bestIn:"Living rooms, dining rooms with warm light",watchOut:"Yellow undertone amplified in south light",suggestedTrims:["bm-oc-17","bm-oc-131"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"bm-2137-40",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Sea Haze",code:"2137-40",hex:"#C4CFC9",rgb:{r:196,g:207,b:201},lab:{l:82.1,a:-4.2,b:1.8},lrv:60,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.68,depthCategory:"light",popularity:.72,tags:["green","gray","spa","calming"],description:"A sophisticated gray-green that feels like a deep breath. Calming without being cold.",bestIn:"Bedrooms, bathrooms, meditation spaces",watchOut:"Green undertone can dominate in warm light",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["matte","eggshell"],similarColors:[]},{id:"bm-2111-60",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Balboa Mist",code:"2111-60",hex:"#D9D4CC",rgb:{r:217,g:212,b:204},lab:{l:84.8,a:.8,b:4.2},lrv:67,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"pink"},stability:.8,depthCategory:"light",popularity:.88,tags:["greige","neutral","light","airy"],description:"A light, airy greige that opens up spaces. Just enough warmth to feel inviting.",bestIn:"Any room needing brightness without starkness",watchOut:"Slight pink can show in north light",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-20",relationship:"lighter version"}]},{id:"bm-hc-173",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Edgecomb Gray",code:"HC-173",hex:"#D5CEBF",rgb:{r:213,g:206,b:191},lab:{l:82.5,a:1.2,b:8.1},lrv:63,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"green"},stability:.71,depthCategory:"light",popularity:.86,tags:["greige","warm","sandy"],description:"A warm, sandy greige with golden undertones. Feels like afternoon sunlight.",bestIn:"Living areas with abundant natural light",watchOut:"Yellow can intensify in warm light",suggestedTrims:["bm-oc-17","bm-oc-131"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"bm-1593",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Stonington Gray",code:"HC-170",hex:"#C5C7C4",rgb:{r:197,g:199,b:196},lab:{l:80.2,a:-.5,b:1.2},lrv:59,undertone:{temperature:"cool",leansPrimary:"neutral",leansSecondary:"blue"},stability:.84,depthCategory:"light",popularity:.82,tags:["gray","cool","modern","clean"],description:"A true gray with barely-there blue undertones. Modern and sophisticated.",bestIn:"Contemporary spaces, works with cool metallics",watchOut:"Can feel cold in north-facing rooms",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"sw-7071",relationship:"similar tone"}]},{id:"bm-1611",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Hale Navy",code:"HC-154",hex:"#3C4D5E",rgb:{r:60,g:77,b:94},lab:{l:32.5,a:-2.8,b:-11.2},lrv:8,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:null},stability:.78,depthCategory:"dark",popularity:.88,tags:["navy","blue","dramatic","statement"],description:"A rich, sophisticated navy that commands attention without overwhelming. Timeless elegance.",bestIn:"Accent walls, libraries, dining rooms",watchOut:"Needs good lighting to avoid feeling too dark",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-7036",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Accessible Beige",code:"SW 7036",hex:"#D1C4B2",rgb:{r:209,g:196,b:178},lab:{l:79.5,a:2.1,b:10.2},lrv:58,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.85,depthCategory:"light",popularity:.93,tags:["bestseller","greige","neutral","accessible"],description:"The ultimate neutral  warm enough to feel welcoming, balanced enough to go with anything.",bestIn:"Any room, extremely versatile",watchOut:"Can feel flat in dark rooms",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-20",relationship:"cross-brand match"}]},{id:"sw-7015",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Repose Gray",code:"SW 7015",hex:"#C9C5BD",rgb:{r:201,g:197,b:189},lab:{l:79.2,a:.5,b:4.1},lrv:58,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.88,depthCategory:"light",popularity:.94,tags:["bestseller","greige","neutral","balanced"],description:"A perfectly balanced greige  not too warm, not too cool. The Goldilocks of neutrals.",bestIn:"Open floor plans, any light condition",watchOut:"Very slight purple can appear in cool light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-28",relationship:"similar neutral"}]},{id:"sw-7012",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Creamy",code:"SW 7012",hex:"#F4EBD9",rgb:{r:244,g:235,b:217},lab:{l:93.5,a:.8,b:9.2},lrv:81,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.86,depthCategory:"light",popularity:.89,tags:["white","trim","warm","creamy"],description:"A warm, buttery white that adds coziness. The warm-white alternative to stark trim.",bestIn:"Trim in warm-palette rooms, cozy bedrooms",watchOut:"Too yellow for cool palettes",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"bm-oc-17",relationship:"cross-brand match"}]},{id:"sw-7757",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"High Reflective White",code:"SW 7757",hex:"#F7F6F1",rgb:{r:247,g:246,b:241},lab:{l:97.1,a:0,b:2},lrv:93,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.96,depthCategory:"light",popularity:.85,tags:["white","trim","crisp","pure"],description:"The crispest, cleanest white. Maximum light reflection for modern, fresh spaces.",bestIn:"Modern trim, ceilings, clean aesthetics",watchOut:"Can feel clinical in cozy spaces",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"bm-oc-65",relationship:"cross-brand match"}]},{id:"sw-6119",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Antique White",code:"SW 6119",hex:"#F2E6D0",rgb:{r:242,g:230,b:208},lab:{l:91.8,a:1.5,b:11.8},lrv:72,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.79,depthCategory:"light",popularity:.82,tags:["cream","warm","soft","classic"],description:"A soft, creamy off-white with golden warmth. Classic comfort in a color.",bestIn:"Restful bedrooms, traditional living rooms",watchOut:"Can feel too yellow in cool north light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"sw-7029",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Agreeable Gray",code:"SW 7029",hex:"#D0CAC1",rgb:{r:208,g:202,b:193},lab:{l:81.2,a:.8,b:5.1},lrv:60,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.83,depthCategory:"light",popularity:.96,tags:["bestseller","greige","warm","popular"],description:"The most popular paint color for a reason  warm, neutral, and agreeable with everything.",bestIn:"Whole-house color, open floor plans",watchOut:"Ubiquitous  may feel generic",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[{colorId:"bm-oc-20",relationship:"similar warmth"}]},{id:"sw-6106",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Kilim Beige",code:"SW 6106",hex:"#CABEA4",rgb:{r:202,g:190,b:164},lab:{l:77.1,a:2.2,b:13.8},lrv:52,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"orange"},stability:.72,depthCategory:"light",popularity:.74,tags:["beige","warm","earthy","golden"],description:"A warm, golden beige with earthy depth. Brings warmth without feeling dated.",bestIn:"Living rooms with warm woods, south-facing",watchOut:"Yellow undertone intensifies in direct sun",suggestedTrims:["sw-7012","sw-7757"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-6204",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Sea Salt",code:"SW 6204",hex:"#C7D1C7",rgb:{r:199,g:209,b:199},lab:{l:83.1,a:-4.1,b:3.2},lrv:63,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.64,depthCategory:"light",popularity:.87,tags:["green","spa","coastal","calming"],description:"A soft sage-meets-sea-glass. The ultimate spa color for bathrooms and bedrooms.",bestIn:"Bathrooms, bedrooms, coastal aesthetics",watchOut:"Can shift significantly between warm and cool light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"bm-2163-40",relationship:"cross-brand match"}]},{id:"sw-7071",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Gray Screen",code:"SW 7071",hex:"#C5C5C2",rgb:{r:197,g:197,b:194},lab:{l:79.5,a:0,b:1.2},lrv:59,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.9,depthCategory:"light",popularity:.78,tags:["gray","neutral","modern","clean"],description:"A true neutral gray with almost no undertone. Clean, modern, and incredibly versatile.",bestIn:"Modern spaces, works with any accent color",watchOut:"Can feel cold without warm elements",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"bm-1593",relationship:"similar neutral"}]},{id:"sw-6258",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Tricorn Black",code:"SW 6258",hex:"#2F2F30",rgb:{r:47,g:47,b:48},lab:{l:19.8,a:.2,b:-.5},lrv:3,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.92,depthCategory:"dark",popularity:.84,tags:["black","dramatic","bold","accent"],description:"A true, balanced black. Dramatic without any color shift. Pure sophistication.",bestIn:"Accent walls, doors, trim for contrast",watchOut:"Shows dust and fingerprints easily",suggestedTrims:["sw-7757"],suggestedFinishes:["satin","semigloss"],similarColors:[]},{id:"sw-7016",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Mindful Gray",code:"SW 7016",hex:"#B5AFA6",rgb:{r:181,g:175,b:166},lab:{l:71.5,a:.8,b:5.2},lrv:48,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.81,depthCategory:"mid",popularity:.8,tags:["greige","warm","mid-tone","grounding"],description:"A grounded mid-tone greige. More depth than Agreeable Gray, same versatility.",bestIn:"Accent walls, lower cabinets, grounding spaces",watchOut:"Can feel heavy in small rooms",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-6217",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Topsail",code:"SW 6217",hex:"#D8E3E0",rgb:{r:216,g:227,b:224},lab:{l:89.5,a:-3.8,b:.2},lrv:75,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:"green"},stability:.72,depthCategory:"light",popularity:.76,tags:["blue","green","coastal","airy"],description:"A barely-there blue-green, like sea foam catching morning light. Ethereal and fresh.",bestIn:"Bathrooms, bedrooms, coastal spaces",watchOut:"Can read very different in warm vs cool light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"sw-6244",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Naval",code:"SW 6244",hex:"#34495E",rgb:{r:52,g:73,b:94},lab:{l:30.8,a:-3.2,b:-13.5},lrv:7,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:null},stability:.76,depthCategory:"dark",popularity:.86,tags:["navy","blue","dramatic","bold","coty"],description:"A saturated, confident navy. Statement-making without being overwhelming.",bestIn:"Accent walls, front doors, built-ins",watchOut:"Needs adequate lighting to avoid cave feeling",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[{colorId:"bm-1611",relationship:"cross-brand match"}]},{id:"behr-n520-2",brand:"Behr",brandId:"behr",line:"Premium Plus",name:"Silver Drop",code:"N520-2",hex:"#D4D4D2",rgb:{r:212,g:212,b:210},lab:{l:84.8,a:0,b:.8},lrv:66,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.91,depthCategory:"light",popularity:.79,tags:["gray","neutral","light","modern"],description:"A light, true gray with incredible neutrality. Modern minimalism in paint form.",bestIn:"Contemporary spaces, any light direction",watchOut:"May feel too cool in warm, cozy rooms",suggestedTrims:["behr-ppu18-06"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"behr-ppu18-06",brand:"Behr",brandId:"behr",line:"Premium Plus Ultra",name:"Ultra Pure White",code:"PPU18-06",hex:"#F6F4EF",rgb:{r:246,g:244,b:239},lab:{l:96.5,a:.1,b:2.2},lrv:91,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.95,depthCategory:"light",popularity:.88,tags:["white","trim","pure","clean"],description:"A clean, crisp white with minimal undertone. The go-to for pure, fresh trim.",bestIn:"Trim, ceilings, modern spaces",watchOut:"Can feel stark in warm-toned rooms",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[{colorId:"sw-7757",relationship:"cross-brand match"}]},{id:"behr-ppu24-10",brand:"Behr",brandId:"behr",line:"Premium Plus Ultra",name:"Perfect Taupe",code:"PPU24-10",hex:"#C0B8AA",rgb:{r:192,g:184,b:170},lab:{l:74.5,a:1.5,b:7.8},lrv:50,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.79,depthCategory:"mid",popularity:.77,tags:["taupe","neutral","warm","earthy"],description:"A sophisticated mid-tone taupe. Earthy and grounding with quiet elegance.",bestIn:"Living rooms, bedrooms with natural light",watchOut:"Can feel heavy in small, dark rooms",suggestedTrims:["behr-ppu18-06"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"behr-n220-2",brand:"Behr",brandId:"behr",line:"Premium Plus",name:"Stonewashed",code:"N220-2",hex:"#DDD6CB",rgb:{r:221,g:214,b:203},lab:{l:85.5,a:1,b:6.2},lrv:68,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.8,depthCategory:"light",popularity:.75,tags:["beige","warm","light","soft"],description:"A soft, washed-out beige with gentle warmth. Relaxed and inviting.",bestIn:"Bedrooms, living areas with south exposure",watchOut:"Yellow can show in very warm light",suggestedTrims:["behr-ppu18-06"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"ppg-1025-3",brand:"PPG",brandId:"ppg",line:"Timeless",name:"Whiskers",code:"PPG1025-3",hex:"#D5CEC4",rgb:{r:213,g:206,b:196},lab:{l:82.8,a:1.2,b:5.8},lrv:63,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"yellow"},stability:.82,depthCategory:"light",popularity:.72,tags:["greige","warm","soft","neutral"],description:"A soft, warm greige with gentle presence. Understated elegance.",bestIn:"Any room needing quiet warmth",watchOut:'Subtle  may not read as a "color"',suggestedTrims:["ppg-1001-1"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"ppg-1001-1",brand:"PPG",brandId:"ppg",line:"Timeless",name:"Delicate White",code:"PPG1001-1",hex:"#F5F2ED",rgb:{r:245,g:242,b:237},lab:{l:95.8,a:.2,b:2.5},lrv:89,undertone:{temperature:"neutral",leansPrimary:"neutral",leansSecondary:null},stability:.93,depthCategory:"light",popularity:.8,tags:["white","trim","soft","clean"],description:"A soft white with just enough warmth to feel inviting. The friendly white.",bestIn:"Trim, walls, any space needing brightness",watchOut:"May not feel crisp enough for ultra-modern",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[]},{id:"bm-oc-131",brand:"Benjamin Moore",brandId:"bm",line:"Off-White Collection",name:"Simply White",code:"OC-117",hex:"#F5F1E6",rgb:{r:245,g:241,b:230},lab:{l:95.2,a:.2,b:5},lrv:89,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:null},stability:.88,depthCategory:"light",popularity:.91,tags:["white","trim","warm","bestseller"],description:"A clean white with just a whisper of warmth. Bright but never cold.",bestIn:"Whole-house white, works warm or cool",watchOut:"Slight yellow visible next to pure whites",suggestedTrims:[],suggestedFinishes:["semigloss","satin"],similarColors:[]},{id:"sw-7043",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Worldly Gray",code:"SW 7043",hex:"#C4BEB2",rgb:{r:196,g:190,b:178},lab:{l:76.8,a:.5,b:6.2},lrv:52,undertone:{temperature:"warm",leansPrimary:"green",leansSecondary:"yellow"},stability:.75,depthCategory:"mid",popularity:.77,tags:["greige","warm","earthy","grounded"],description:"An earthy mid-tone greige with subtle green. Sophisticated and grounding.",bestIn:"Living rooms, whole-house neutral",watchOut:"Green undertone shows in certain light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-7641",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Collonade Gray",code:"SW 7641",hex:"#C2BCB1",rgb:{r:194,g:188,b:177},lab:{l:76.2,a:.8,b:5.8},lrv:53,undertone:{temperature:"warm",leansPrimary:"neutral",leansSecondary:"green"},stability:.78,depthCategory:"mid",popularity:.82,tags:["greige","warm","mid-tone","classic"],description:"A warm, classic greige with timeless appeal. Not too anything.",bestIn:"Traditional to transitional spaces",watchOut:"Slight green can appear in north light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"bm-af-685",brand:"Benjamin Moore",brandId:"bm",line:"Affinity",name:"Thunder",code:"AF-685",hex:"#7A7B7D",rgb:{r:122,g:123,b:125},lab:{l:51.5,a:-.2,b:-1},lrv:20,undertone:{temperature:"cool",leansPrimary:"neutral",leansSecondary:"blue"},stability:.88,depthCategory:"mid",popularity:.74,tags:["gray","dark","dramatic","cool"],description:"A sophisticated charcoal gray. Modern drama without the commitment of black.",bestIn:"Accent walls, cabinets, exterior trim",watchOut:"Can feel heavy in small rooms",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-9170",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Acacia Haze",code:"SW 9170",hex:"#A5B3A5",rgb:{r:165,g:179,b:165},lab:{l:71.8,a:-6.2,b:4.8},lrv:45,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:null},stability:.7,depthCategory:"mid",popularity:.81,tags:["green","sage","earthy","organic"],description:"A sophisticated sage with grayed-out calm. Nature-inspired without being earthy.",bestIn:"Living rooms, bedrooms, home offices",watchOut:"Green intensifies in warm light",suggestedTrims:["sw-7757","sw-7012"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"bm-hc-158",brand:"Benjamin Moore",brandId:"bm",line:"Historical Collection",name:"Newburyport Blue",code:"HC-158",hex:"#485769",rgb:{r:72,g:87,b:105},lab:{l:36.8,a:-2.5,b:-10.8},lrv:10,undertone:{temperature:"cool",leansPrimary:"blue",leansSecondary:null},stability:.79,depthCategory:"dark",popularity:.78,tags:["blue","navy","classic","historical"],description:"A slightly softer navy with gray undertones. Historical charm with modern appeal.",bestIn:"Accent walls, exterior doors, built-ins",watchOut:"Can read almost black in dim lighting",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","satin"],similarColors:[]},{id:"sw-6126",brand:"Sherwin-Williams",brandId:"sw",line:"Living Well",name:"Navajo White",code:"SW 6126",hex:"#F3E5D0",rgb:{r:243,g:229,b:208},lab:{l:91.5,a:2.2,b:12.5},lrv:76,undertone:{temperature:"warm",leansPrimary:"yellow",leansSecondary:"orange"},stability:.76,depthCategory:"light",popularity:.73,tags:["cream","warm","golden","soft"],description:"A warm, golden cream with southwestern warmth. Cozy and sun-kissed.",bestIn:"Living rooms, bedrooms with warm light",watchOut:"Can feel too yellow in bright light",suggestedTrims:["sw-7012","sw-7757"],suggestedFinishes:["eggshell","matte"],similarColors:[]},{id:"bm-2135-50",brand:"Benjamin Moore",brandId:"bm",line:"Color Preview",name:"Gray Owl",code:"OC-52",hex:"#C9CCC6",rgb:{r:201,g:204,b:198},lab:{l:81.5,a:-1.5,b:2.2},lrv:64,undertone:{temperature:"cool",leansPrimary:"green",leansSecondary:"blue"},stability:.74,depthCategory:"light",popularity:.85,tags:["gray","green","cool","versatile"],description:"A light gray with subtle green-blue. Fresh and airy with organic undertones.",bestIn:"Open floor plans, north-facing rooms",watchOut:"Green undertone can dominate",suggestedTrims:["bm-oc-65","bm-oc-17"],suggestedFinishes:["eggshell","matte"],similarColors:[]}],Wu=Za.filter(e=>e.tags.includes("white")||e.tags.includes("trim"));function Do(e){return Za.find(t=>t.id===e)}function Hx(e,t){const{lab:n,lrv:r}=e,s=Math.sqrt(n.a**2+n.b**2),i=n.a*.6+n.b*.4;let l;t.cozyToCrisp<50?l=(i+10)/20:l=(-i+10)/20,l=Math.max(0,Math.min(1,l));let o;return t.calmToMoody<50?o=(1-s/30)*.5+r/100*.5:o=s/30*.3+(1-r/100)*.7,o=Math.max(0,Math.min(1,o)),(l+o)/2}function Qx(e,t){const{stability:n}=e,s=[t.direction==="unknown",t.bulbTemp==="unknown",t.primaryUsage==="both"].filter(Boolean).length/3,i=n,l=s*(1-n)*.3;return Math.max(.3,i-l)}function qx(e,t){const n={fear_green:"green",fear_pink:"pink",fear_purple:"purple",fear_babyblue:"blue",fear_dingy:"neutral",fear_yellow:"yellow"};if(t.length===0)return 1;let r=0;for(const s of t){const i=n[s];i===e.leansPrimary?r+=.5:i===e.leansSecondary&&(r+=.25)}return Math.max(.2,1-r)}function Kx(e,t){return t==="any"?.8:e===t?1:{"light-mid":.6,"mid-light":.6,"mid-dark":.6,"dark-mid":.6,"light-dark":.3,"dark-light":.3}[`${e}-${t}`]??.5}function Gx(e,t){return t.length===0||t.includes("any")?e:e.filter(n=>t.includes(n.brandId))}function Vu(e,t,n){const r=[];return n.vibeMatch>.8&&(t.vibe.cozyToCrisp<40?r.push("warm, cozy feel"):t.vibe.cozyToCrisp>60&&r.push("crisp, clean aesthetic")),t.undertoneFears.length>0&&n.undertoneSafety>.8&&r.push("avoids the undertones you flagged"),t.fixedElements.includes("wood_warm")&&e.undertone.temperature==="warm"&&r.push("complements your warm wood"),t.fixedElements.includes("hardware_brass")&&e.undertone.temperature==="warm"&&r.push("pairs well with brass"),t.fixedElements.includes("hardware_chrome")&&e.undertone.temperature!=="warm"&&r.push("works with chrome hardware"),n.lightingTolerance>.85&&r.push("stable in varying light"),r.length===0&&r.push("balanced undertones and good versatility"),r.slice(0,2).join(", ").replace(/^./,s=>s.toUpperCase())+"."}function vl(e,t){const n=e.undertone,r=Wu.filter(o=>o.undertone.temperature==="warm"&&o.undertone.leansPrimary!==n.leansPrimary),s=Wu.filter(o=>(o.undertone.temperature==="cool"||o.undertone.temperature==="neutral")&&o.undertone.leansPrimary!==n.leansPrimary),i=r.sort((o,c)=>c.popularity-o.popularity)[0]||null;return{crisp:s.sort((o,c)=>c.popularity-o.popularity)[0]||null,warm:i}}function xl(e){return{bathroom:"Satin",kitchen:"Eggshell",hallway:"Eggshell",nursery:"Eggshell",living:"Eggshell",bedroom:"Matte",office:"Eggshell",exterior:"Satin"}[e]||"Eggshell"}function Jx(e,t){const n={vibe:.25,lighting:.2,undertone:.2,depth:.1,trend:.25},r=Hx(e,t.vibe),s=Qx(e,t.lighting),i=qx(e.undertone,t.undertoneFears),l=Kx(e.depthCategory,t.depthPreference),o=n.vibe*r+n.lighting*s+n.undertone*i+n.depth*l+n.trend*e.popularity;return{overall:Math.round(o*100),vibeMatch:r,lightingTolerance:s,undertoneSafety:i,depthMatch:l}}function Yx(e){let t=Gx(Za,e.brandPreferences);if(e.depthPreference!=="any"){const c=t.filter(u=>u.depthCategory===e.depthPreference);c.length>=10&&(t=c)}t=t.filter(c=>!c.tags.includes("trim")||c.tags.length>1);const n=t.map(c=>({color:c,scores:Jx(c,e)}));n.sort((c,u)=>u.scores.overall-c.scores.overall);const r=[],s=new Set,i=n.filter(c=>c.scores.lightingTolerance>=.75&&c.scores.undertoneSafety>=.8&&!s.has(c.color.id));for(const c of i.slice(0,2)){const u=vl(c.color,e.vibe);r.push({...c,tag:"safe_win",reasoning:Vu(c.color,e,c.scores),suggestedTrim:u,suggestedFinish:xl(e.roomType)}),s.add(c.color.id)}const l=n.filter(c=>!s.has(c.color.id)).sort((c,u)=>u.scores.vibeMatch-c.scores.vibeMatch);for(const c of l.slice(0,2)){const u=vl(c.color,e.vibe);r.push({...c,tag:"vibe_match",reasoning:Vu(c.color,e,c.scores),suggestedTrim:u,suggestedFinish:xl(e.roomType)}),s.add(c.color.id)}const o=n.filter(c=>!s.has(c.color.id)&&c.scores.vibeMatch>=.6&&c.scores.undertoneSafety>=.5);if(o.length>0){const c=o[0],u=vl(c.color,e.vibe);r.push({...c,tag:"wildcard",reasoning:"A bit bolder  adds personality while staying within your comfort zone.",suggestedTrim:u,suggestedFinish:xl(e.roomType)})}return r.slice(0,5)}function Xx(e,t){const n=["Near the door frame or trim","In the darkest corner of the room","On the main wall at eye level"],r=["Morning with natural light","Afternoon at peak brightness",`Evening with your ${t.lighting.bulbTemp==="warm"?"warm":"regular"} bulbs on`],s=[];if(t.undertoneFears.includes("fear_pink")){const i=e.filter(l=>l.color.undertone.leansPrimary!=="pink").slice(0,2).map(l=>l.color.name);i.length>0&&s.push({ifLooksToo:"pink",tryInstead:i})}if(t.undertoneFears.includes("fear_green")){const i=e.filter(l=>l.color.undertone.leansPrimary!=="green").slice(0,2).map(l=>l.color.name);i.length>0&&s.push({ifLooksToo:"green",tryInstead:i})}if(t.undertoneFears.includes("fear_yellow")){const i=e.filter(l=>l.color.undertone.leansPrimary!=="yellow").slice(0,2).map(l=>l.color.name);i.length>0&&s.push({ifLooksToo:"yellow",tryInstead:i})}return{placements:n,timesToCheck:r,alternates:s}}function Zx(e,t,n,r){const s=n.includes("wipe_clean")||n.includes("scuff_resistance")||r,i={bm:{walls:{better:{name:"Regal Select",why:"Great coverage and washability for most rooms"},best:{name:"Aura",why:"Premium durability and color richness"}},trim:{better:{name:"Advance",why:"Smooth, hard finish for trim and doors"},best:{name:"Advance",why:"Smooth, hard finish for trim and doors"}},cabinets:{better:{name:"Advance",why:"Self-leveling for smooth cabinet finish"},best:{name:"Advance",why:"Self-leveling for smooth cabinet finish"}}},sw:{walls:{better:{name:"Duration Home",why:"Excellent washability for active homes"},best:{name:"Emerald Interior",why:"Best-in-class durability and coverage"}},trim:{better:{name:"ProClassic",why:"Hard, durable finish for trim"},best:{name:"Emerald Urethane",why:"Maximum hardness and flow"}},cabinets:{better:{name:"ProClassic",why:"Smooth application for cabinets"},best:{name:"Emerald Urethane",why:"Professional-grade cabinet finish"}}},behr:{walls:{better:{name:"Ultra",why:"Good coverage and durability"},best:{name:"Dynasty",why:"One-coat coverage with scuff defense"}},trim:{better:{name:"Ultra",why:"Durable finish for trim"},best:{name:"Dynasty",why:"Premium hardness for trim"}},cabinets:{better:{name:"Cabinet & Trim Enamel",why:"Designed for cabinet durability"},best:{name:"Cabinet & Trim Enamel",why:"Designed for cabinet durability"}}}},l=t==="doors"||t==="trim"?"trim":t==="cabinets"?"cabinets":"walls",o=i[e]||i.sw,c=o[l]||o.walls;return s?{tier:"Best",...c.best}:{tier:"Better",...c.better}}function e1(e){return{new_drywall:{needed:!0,type:"Drywall primer",why:"Seals porous new drywall for even coverage"},painted_good:{needed:!1,type:null,why:"Existing paint provides a good base"},painted_rough:{needed:!0,type:"Bonding primer",why:"Helps new paint adhere to rough surfaces"},glossy:{needed:!0,type:"Bonding primer",why:"Creates tooth for paint adhesion on slick surfaces"},stained_wood:{needed:!0,type:"Stain-blocking primer",why:"Prevents wood tannins from bleeding through"},cabinet_slick:{needed:!0,type:"Bonding primer",why:"Essential for adhesion on factory finishes"},masonry:{needed:!0,type:"Masonry primer",why:"Seals alkaline surfaces and improves adhesion"}}[e]||{needed:!1,type:null,why:"Standard surface preparation"}}function t1(e,t,n){const r={small:200,medium:400,large:600,very_large:900},s=t/8,i=r[e]*s,l=375,o=2,c=1.1;let u=i*o*c;return n==="trim"||n==="doors"?u=i*.15*o*c:n==="ceiling"&&(u=i*.8*o*c),{gallons:Math.ceil(u/l),coats:o,note:"Includes 10% buffer for touch-ups"}}const wl=[{id:"roomType",title:"What room are you painting?",type:"single",options:[{label:"Living room",value:"living"},{label:"Bedroom",value:"bedroom"},{label:"Kitchen",value:"kitchen"},{label:"Bathroom",value:"bathroom"},{label:"Hallway",value:"hallway"},{label:"Home office",value:"office"},{label:"Nursery",value:"nursery"}]},{id:"lightDirection",title:"Which way do the windows face?",subtitle:"This affects how colors shift throughout the day.",type:"single",options:[{label:"North",value:"north"},{label:"South",value:"south"},{label:"East",value:"east"},{label:"West",value:"west"},{label:"Not sure",value:"unknown"}]},{id:"primaryUsage",title:"When do you use this room most?",type:"single",options:[{label:"Mostly daytime",value:"day"},{label:"Mostly evening",value:"night"},{label:"Both equally",value:"both"}]},{id:"bulbTemp",title:"What kind of light bulbs?",subtitle:'Check the bulb packaging  it says "K" for Kelvin.',type:"single",options:[{label:"Warm White (2700K3000K)",value:"warm"},{label:"Neutral White (3500K4000K)",value:"neutral"},{label:"Cool White / Daylight (5000K+)",value:"cool"},{label:"Not sure",value:"unknown"}]},{id:"roomImage",title:"Show us your room",subtitle:"Upload a photo and we'll visualize each color on your walls.",type:"image"},{id:"vibe",title:"What feeling are you after?",type:"slider",sliders:[{label:"Temperature",left:"Cozy & warm",right:"Crisp & clean",key:"cozyToCrisp"},{label:"Mood",left:"Calm & restful",right:"Moody & dramatic",key:"calmToMoody"}]},{id:"undertoneFears",title:"Any undertones you want to avoid?",subtitle:"We'll steer away from colors that tend to shift this way.",type:"multi",options:[{label:"Turns green",value:"fear_green"},{label:"Turns pink",value:"fear_pink"},{label:"Turns purple",value:"fear_purple"},{label:"Looks baby-blue",value:"fear_babyblue"},{label:"Looks dingy gray",value:"fear_dingy"},{label:"Looks too yellow",value:"fear_yellow"}]},{id:"brandPreferences",title:"Any preferred brands?",subtitle:"Optional. We'll show matches across all brands otherwise.",type:"multi",options:[{label:"Sherwin-Williams",value:"sw"},{label:"Benjamin Moore",value:"bm"},{label:"Behr",value:"behr"},{label:"PPG",value:"ppg"},{label:"Any brand",value:"any"}]},{id:"depthPreference",title:"How light or dark?",type:"single",options:[{label:"Light & airy",value:"light"},{label:"Mid-tone",value:"mid"},{label:"Dark & cozy",value:"dark"},{label:"Show me options",value:"any"}]}];function n1(){const e=Be(),{setProfile:t,setShortlist:n,setRoomImage:r}=Et(),[s,i]=S.useState(0),[l,o]=S.useState(!1),[c,u]=S.useState(null),d=S.useRef(null),[f,h]=S.useState({roomType:"",lightDirection:"",primaryUsage:"",bulbTemp:"",roomImage:"",cozyToCrisp:50,calmToMoody:50,undertoneFears:[],brandPreferences:[],depthPreference:""}),x=j=>{var C;const k=(C=j.target.files)==null?void 0:C[0];if(k){const I=new FileReader;I.onloadend=()=>{const O=I.result;u(O),h(ee=>({...ee,roomImage:O})),r(O)},I.readAsDataURL(k)}},v=()=>{u(null),h(j=>({...j,roomImage:""})),r(null),d.current&&(d.current.value="")},y=wl[s],w=s===wl.length-1,g=j=>{h(k=>({...k,[y.id]:j})),w||setTimeout(()=>i(k=>k+1),200)},p=j=>{const k=f[y.id]||[],C=k.includes(j)?k.filter(I=>I!==j):[...k,j];h(I=>({...I,[y.id]:C}))},m=(j,k)=>{h(C=>({...C,[j]:k}))},b=()=>y.type==="single"?!!f[y.id]:(y.type==="multi",!0),_=async()=>{o(!0);const j={roomType:f.roomType,lighting:{direction:f.lightDirection,primaryUsage:f.primaryUsage,bulbTemp:f.bulbTemp},fixedElements:[],vibe:{cozyToCrisp:f.cozyToCrisp,calmToMoody:f.calmToMoody},undertoneFears:f.undertoneFears,brandPreferences:f.brandPreferences,depthPreference:f.depthPreference};t(j);const k=Yx(j);n(k),await new Promise(C=>setTimeout(C,1500)),e("/shortlist")};return a.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[a.jsxs("header",{className:"px-4 py-4 flex items-center justify-between",children:[a.jsx("button",{onClick:()=>s>0?i(j=>j-1):e("/"),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex gap-1.5",children:wl.map((j,k)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${k===s?"bg-charcoal":k<s?"bg-gold":"bg-charcoal/20"}`},k))}),a.jsx("div",{className:"w-9"})," "]}),a.jsxs("div",{className:"px-6 pt-6 pb-4 flex flex-col",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:y.title}),y.subtitle&&a.jsx("p",{className:"text-charcoal-light text-sm",children:y.subtitle})]}),a.jsxs("div",{className:"mb-4",children:[y.type==="single"&&y.options&&a.jsx("div",{className:"flex flex-wrap gap-3",children:y.options.map(j=>a.jsx("button",{onClick:()=>g(j.value),className:f[y.id]===j.value?"btn-pill-selected":"btn-pill",children:j.label},j.value))}),y.type==="multi"&&y.options&&a.jsx("div",{className:"flex flex-wrap gap-3",children:y.options.map(j=>{const k=(f[y.id]||[]).includes(j.value);return a.jsxs("button",{onClick:()=>p(j.value),className:k?"chip-selected":"chip",children:[k&&a.jsx(Gn,{className:"w-4 h-4"}),j.label]},j.value)})}),y.type==="slider"&&y.sliders&&a.jsx("div",{className:"space-y-8",children:y.sliders.map(j=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm text-charcoal-light mb-3",children:[a.jsx("span",{children:j.left}),a.jsx("span",{children:j.right})]}),a.jsx("input",{type:"range",min:"0",max:"100",value:f[j.key],onChange:k=>m(j.key,Number(k.target.value)),className:`w-full h-2 bg-charcoal/10 rounded-full appearance-none cursor-pointer
                             [&::-webkit-slider-thumb]:appearance-none
                             [&::-webkit-slider-thumb]:w-6
                             [&::-webkit-slider-thumb]:h-6
                             [&::-webkit-slider-thumb]:rounded-full
                             [&::-webkit-slider-thumb]:bg-charcoal
                             [&::-webkit-slider-thumb]:shadow-md
                             [&::-webkit-slider-thumb]:cursor-pointer`})]},j.key))}),y.type==="image"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:x,className:"hidden",id:"room-image-upload"}),c?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:c,alt:"Room preview",className:"w-full max-h-[60vh] object-contain rounded-2xl"}),a.jsx("button",{onClick:v,className:"absolute top-3 right-3 p-2 bg-charcoal/80 text-white rounded-full hover:bg-charcoal transition-colors",children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsx("p",{className:"text-center text-charcoal-light text-sm mt-3",children:"Looking good! We'll show your colors on these walls."})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{htmlFor:"room-image-upload",className:"flex flex-col items-center justify-center w-full h-48 border-2 border-dashed border-charcoal/20 rounded-2xl cursor-pointer hover:border-charcoal/40 hover:bg-cream-100 transition-colors",children:[a.jsx(Hy,{className:"w-10 h-10 text-charcoal/40 mb-3"}),a.jsx("span",{className:"text-charcoal font-medium",children:"Upload a photo"}),a.jsx("span",{className:"text-charcoal-light text-sm mt-1",children:"or drag and drop"})]}),a.jsxs("button",{onClick:()=>{var j;return(j=d.current)==null?void 0:j.click()},className:"w-full py-3 px-4 border border-charcoal/20 rounded-full flex items-center justify-center gap-2 text-charcoal hover:bg-cream-100 transition-colors",children:[a.jsx(Ny,{className:"w-5 h-5"}),"Take a photo"]})]})]})]})]}),a.jsxs("div",{className:"px-6 pb-6 pt-2 safe-area-inset-bottom",children:[w?a.jsx("button",{onClick:_,disabled:!b()||l,className:"btn-primary flex items-center justify-center gap-3 disabled:opacity-50",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-cream-50/30 border-t-cream-50 rounded-full animate-spin"}),"Creating your shortlist..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Wy,{className:"w-5 h-5"}),"Create my 5-swatch shortlist"]})}):y.type==="multi"||y.type==="slider"||y.type==="image"?a.jsxs("button",{onClick:()=>i(j=>j+1),className:"btn-primary flex items-center justify-center gap-2",children:[y.type==="image"&&c?"Looks great!":"Continue",a.jsx(es,{className:"w-4 h-4"})]}):null,y.type==="multi"&&a.jsx("button",{onClick:()=>{h(j=>({...j,[y.id]:[]})),i(j=>j+1)},className:"mt-3 w-full py-2 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:y.id==="undertoneFears"?"No concerns":"Skip"}),y.type==="image"&&!c&&a.jsx("button",{onClick:()=>i(j=>j+1),className:"mt-3 w-full py-2 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:"Skip for now"})]})]})}const r1="https://color-edit-api.rkrigney.workers.dev";async function s1(e,t){try{console.log(`[Visualization] Requesting ${t.name} (${t.hex})`);const n=await fetch(r1,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({roomImageBase64:e,paintColor:t})}),r=await n.json();return n.ok?r.success&&r.imageUrl?(console.log("[Visualization] Successfully generated image"),{success:!0,imageUrl:r.imageUrl}):{success:!1,error:r.error||"No image generated"}:(console.error("[Visualization] API error:",r),{success:!1,error:r.error||`Request failed (${n.status})`})}catch(n){return console.error("[Visualization] Error:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}const Gh=new Map;function i1(e,t){return`${e.slice(-100)}-${t}`}function l1(e){return Gh.get(e)}function o1(e,t){Gh.set(e,t)}function a1({imageUrl:e,colorName:t}){const[n,r]=S.useState(50),s=n<50?(50-n)/50:0,i=n>50?(n-50)/50:0,l=()=>n<25?"Warm White (2700K)":n<45?"Warm (3000K)":n<55?"Neutral (3500K)":n<75?"Cool (4500K)":"Daylight (5000K+)";return a.jsxs("div",{className:"relative w-full",children:[a.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-t-xl",children:[a.jsx("img",{src:e,alt:`Room with ${t}`,className:"absolute inset-0 w-full h-full object-cover"}),a.jsx("img",{src:e,alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none transition-opacity duration-150",style:{filter:"sepia(25%) saturate(120%) brightness(108%) hue-rotate(-8deg)",opacity:s}}),a.jsx("img",{src:e,alt:"",className:"absolute inset-0 w-full h-full object-cover pointer-events-none transition-opacity duration-150",style:{filter:"saturate(95%) brightness(100%) hue-rotate(15deg) contrast(105%)",opacity:i}}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 flex justify-center",children:a.jsx("span",{className:"bg-black/60 text-white text-xs px-3 py-1 rounded-full",children:l()})})]}),a.jsxs("div",{className:"bg-charcoal/5 px-4 py-3 rounded-b-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xo,{className:"w-4 h-4 text-amber-500 flex-shrink-0"}),a.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:o=>r(Number(o.target.value)),className:`flex-1 h-2 bg-gradient-to-r from-amber-200 via-gray-200 to-blue-200 rounded-full appearance-none cursor-pointer
                     [&::-webkit-slider-thumb]:appearance-none
                     [&::-webkit-slider-thumb]:w-5
                     [&::-webkit-slider-thumb]:h-5
                     [&::-webkit-slider-thumb]:rounded-full
                     [&::-webkit-slider-thumb]:bg-white
                     [&::-webkit-slider-thumb]:shadow-md
                     [&::-webkit-slider-thumb]:border-2
                     [&::-webkit-slider-thumb]:border-charcoal/20
                     [&::-webkit-slider-thumb]:cursor-pointer`}),a.jsx(xh,{className:"w-4 h-4 text-blue-500 flex-shrink-0"})]}),a.jsx("p",{className:"text-center text-xs text-charcoal-light mt-2",children:"Drag to preview lighting conditions"})]})]})}function c1({shortlist:e,profile:t}){const{user:n}=Y.useAuth(),[r,s]=S.useState(!1),[i,l]=S.useState(!1),[o,c]=S.useState(!1),[u,d]=S.useState(""),[f,h]=S.useState(!1),x=()=>{if(!n){c(!0);return}const y=`${(t==null?void 0:t.roomType)||"Room"} - ${new Date().toLocaleDateString()}`;d(y),l(!0)},v=async()=>{if(!(!n||!u.trim())){s(!0);try{const y=crypto.randomUUID();await Y.transact(Y.tx.savedShortlists[y].update({userId:n.id,name:u.trim(),createdAt:Date.now(),roomType:(t==null?void 0:t.roomType)||"living",shortlistData:JSON.stringify(e)})),h(!0),l(!1),setTimeout(()=>h(!1),2e3)}catch(y){console.error("Failed to save shortlist:",y)}finally{s(!1)}}};return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:x,disabled:r,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm transition-colors ${f?"bg-emerald-100 text-emerald-700":"bg-charcoal/10 text-charcoal hover:bg-charcoal/20"}`,children:[r?a.jsx(De,{className:"w-4 h-4 animate-spin"}):f?a.jsx(Gn,{className:"w-4 h-4"}):a.jsx(wh,{className:"w-4 h-4"}),f?"Saved!":"Save shortlist"]}),i&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:a.jsxs("div",{className:"bg-cream-50 rounded-2xl w-full max-w-sm p-6 relative",children:[a.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 p-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-serif text-xl text-charcoal mb-4",children:"Save Shortlist"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"shortlist-name",className:"block text-sm font-medium text-charcoal mb-2",children:"Name your shortlist"}),a.jsx("input",{type:"text",id:"shortlist-name",value:u,onChange:y=>d(y.target.value),placeholder:"e.g., Living Room Ideas",className:"w-full px-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50",autoFocus:!0})]}),a.jsx("button",{onClick:v,disabled:r||!u.trim(),className:"btn-primary w-full flex items-center justify-center gap-2",children:r?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save"})]})}),a.jsx($i,{isOpen:o,onClose:()=>c(!1)})]})}const u1={safe_win:{label:"Safe Win",bg:"bg-emerald-50",text:"text-emerald-700"},vibe_match:{label:"Vibe Match",bg:"bg-violet-50",text:"text-violet-700"},wildcard:{label:"Wildcard",bg:"bg-amber-50",text:"text-amber-700"}};function d1({scored:e,onCompare:t,roomImage:n}){var b,_;const r=Be(),{color:s,tag:i,scores:l,reasoning:o,suggestedTrim:c,suggestedFinish:u}=e,d=u1[i],[f,h]=S.useState(null),[x,v]=S.useState(!1),[y,w]=S.useState(null),[g,p]=S.useState(!0);S.useEffect(()=>{if(!n)return;const j=i1(n,s.id),k=l1(j);if(k){h(k);return}(async()=>{v(!0),w(null),console.log(`[Gemini] Starting visualization for ${s.name} (${s.hex})`);const I=await s1(n,{name:s.name,hex:s.hex});I.success&&I.imageUrl?(console.log(`[Gemini] Successfully generated visualization for ${s.name}`),h(I.imageUrl),o1(j,I.imageUrl)):(console.error(`[Gemini] Failed to generate visualization for ${s.name}:`,I.error),w(I.error||"Failed to generate")),v(!1)})()},[n,s.id,s.name,s.hex]);const m=()=>{const j=s.undertone.temperature==="neutral"?"":`${s.undertone.temperature} `,k=s.undertone.leansPrimary==="neutral"?"neutral":`${s.undertone.leansPrimary} lean`;return`${j}${k}`.trim()};return a.jsxs("div",{className:"card overflow-hidden",children:[f&&g?a.jsxs("div",{className:"relative",children:[a.jsx(a1,{imageUrl:f,colorName:s.name}),a.jsx("div",{className:`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-medium ${d.bg} ${d.text} z-10`,children:d.label}),a.jsx("button",{onClick:()=>p(!g),className:"absolute top-3 right-3 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors z-10",title:"Show color swatch",children:a.jsx(Iy,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden",children:[x&&n?a.jsxs("div",{className:"w-full h-full relative",children:[a.jsx("img",{src:n,alt:"Your room",className:"w-full h-full object-cover blur-sm brightness-75"}),a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[a.jsx("div",{className:"w-12 h-12 rounded-full mb-2 flex items-center justify-center",style:{backgroundColor:s.hex},children:a.jsx(De,{className:"w-6 h-6 text-white animate-spin"})}),a.jsx("span",{className:"text-white text-sm font-medium drop-shadow-md",children:"Painting walls..."})]})]}):y&&n?a.jsxs("div",{className:"w-full h-full relative",children:[a.jsx("div",{className:"w-full h-full",style:{backgroundColor:s.hex}}),a.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-black/60 text-white text-xs px-2 py-1 rounded",children:"Visualization unavailable"})]}):a.jsx("div",{className:"w-full h-full",style:{backgroundColor:s.hex}}),a.jsx("div",{className:`absolute top-3 left-3 px-2.5 py-1 rounded-full text-xs font-medium ${d.bg} ${d.text}`,children:d.label})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-serif text-lg text-charcoal",children:s.name}),a.jsxs("p",{className:"text-sm text-charcoal-light",children:[s.brand," ",s.code]})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg shadow-md border border-charcoal/10 flex-shrink-0",style:{backgroundColor:s.hex},title:`${s.name} - ${s.hex}`})]}),a.jsxs("p",{className:"text-sm text-charcoal-light mb-3 capitalize",children:[m(),"  LRV ",s.lrv]}),a.jsxs("div",{className:"space-y-1.5 mb-4 text-sm",children:[a.jsxs("p",{className:"text-charcoal",children:[a.jsx("span",{className:"text-charcoal-light",children:"Best in:"})," ",s.bestIn]}),a.jsxs("p",{className:"text-charcoal",children:[a.jsx("span",{className:"text-charcoal-light",children:"Watch out:"})," ",s.watchOut]})]}),a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-charcoal/10 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gold rounded-full transition-all",style:{width:`${l.overall}%`}})}),a.jsx("span",{className:"text-sm font-medium text-charcoal",children:l.overall})]}),a.jsxs("p",{className:"text-sm text-charcoal italic mb-4",children:['"',o,'"']}),a.jsxs("div",{className:"flex gap-4 text-sm text-charcoal-light mb-4",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-charcoal",children:"Trim:"})," ",((b=c.crisp)==null?void 0:b.name)||((_=c.warm)==null?void 0:_.name)||"White"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-charcoal",children:"Finish:"})," ",u]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>r(`/product-picker/${s.id}`),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-xs",children:[a.jsx(vh,{className:"w-4 h-4"}),"Choose paint type"]}),a.jsx("button",{onClick:t,className:"btn-secondary px-3",children:a.jsx(Oy,{className:"w-4 h-4"})})]})]}),a.jsxs("button",{onClick:()=>r(`/color/${s.id}`),className:"w-full py-3 border-t border-charcoal/5 text-sm text-charcoal-light hover:text-charcoal hover:bg-cream-100 transition-colors flex items-center justify-center gap-2",children:["View paint story",a.jsx(es,{className:"w-4 h-4"})]})]})}function f1(){const e=Be(),{shortlist:t,profile:n,setCompareColors:r,compareColors:s,roomImage:i}=Et();if(!n||t.length===0)return a.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-charcoal-light mb-4",children:"No shortlist generated yet."}),a.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary",children:"Start over"})]})});const l={living:"Living room",bedroom:"Bedroom",kitchen:"Kitchen",bathroom:"Bathroom",hallway:"Hallway",office:"Home office",nursery:"Nursery"},o=u=>{s[0]?s[1]?r([u,null]):(r([s[0],u]),e("/compare")):r([u,null])},c=[s[0],s[1]].filter(Boolean).length;return a.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[a.jsx("header",{className:"px-4 py-4 border-b border-charcoal/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e("/setup"),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Your Shortlist"}),a.jsx("p",{className:"text-xs text-charcoal-light",children:l[n.roomType]})]}),a.jsx(c1,{shortlist:t,profile:n})]})}),a.jsx("div",{className:"px-4 py-3 bg-cream-100 text-center",children:a.jsx("p",{className:"text-xs text-charcoal-light",children:"Digital swatches are a starting point. Always test with real samples."})}),i&&a.jsx("div",{className:"px-4 py-3 bg-emerald-50 text-center",children:a.jsx("p",{className:"text-xs text-emerald-700",children:" AI is visualizing each color on your room photo"})}),a.jsx("div",{className:"p-4 space-y-4",children:t.map(u=>a.jsx(d1,{scored:u,onCompare:()=>o(u),roomImage:i},u.color.id))}),c>0&&a.jsxs("div",{className:"fixed bottom-20 left-4 right-4 bg-charcoal text-cream-50 rounded-full py-3 px-4 flex items-center justify-between shadow-lg",children:[a.jsxs("span",{className:"text-sm",children:[c,"/2 colors selected"]}),c===2?a.jsxs("button",{onClick:()=>e("/compare"),className:"text-sm font-medium flex items-center gap-2",children:["Compare now",a.jsx(es,{className:"w-4 h-4"})]}):a.jsx("button",{onClick:()=>r([null,null]),className:"text-sm text-cream-50/70",children:"Clear"})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>e("/sampling-plan"),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:"Sampling plan"}),a.jsxs("button",{onClick:()=>e("/shopping-list"),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[a.jsx(ts,{className:"w-4 h-4"}),"Shopping list"]}),a.jsx("button",{onClick:()=>e("/stores"),className:"btn-secondary px-4",children:a.jsx(Ri,{className:"w-4 h-4"})})]})})]})}function h1(){const{id:e}=fh(),t=Be(),{shortlist:n}=Et(),r=e?Do(e):null,s=n.find(o=>o.color.id===e);if(!r)return a.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-charcoal-light mb-4",children:"Color not found."}),a.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go back"})]})});const i=()=>{const o=r.undertone.temperature==="neutral"?"":`${r.undertone.temperature} `,c=r.undertone.leansPrimary==="neutral"?"neutral":r.undertone.leansPrimary,u=r.undertone.leansSecondary?` with ${r.undertone.leansSecondary} hints`:"";return`A ${o}${c}${u}`},l=r.similarColors.map(o=>Do(o.colorId)).filter(Boolean).slice(0,3);return a.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[a.jsxs("div",{className:"h-64 relative",style:{backgroundColor:r.hex},children:[a.jsx("button",{onClick:()=>t(-1),className:"absolute top-4 left-4 p-2 bg-white/90 backdrop-blur-sm rounded-full text-charcoal hover:bg-white transition-colors shadow-sm",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("button",{className:"absolute top-4 right-4 p-2 bg-white/90 backdrop-blur-sm rounded-full text-charcoal hover:bg-white transition-colors shadow-sm",children:a.jsx(Ty,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"px-6 py-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"font-serif text-3xl text-charcoal mb-1",children:r.name}),a.jsxs("p",{className:"text-charcoal-light",children:[r.brand,"  ",r.code]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{className:"text-charcoal leading-relaxed",children:[i(),". Light Reflectance Value of ",r.lrv,"  ",r.depthCategory==="light"?"bright and airy":r.depthCategory==="mid"?"balanced depth":"rich and cozy","."]})}),a.jsx("div",{className:"mb-8 p-5 bg-cream-100 rounded-xl",children:a.jsxs("p",{className:"font-serif text-lg text-charcoal leading-relaxed italic",children:['"',r.description,'"']})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[a.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light uppercase tracking-wide mb-2",children:"Best in"}),a.jsx("p",{className:"text-sm text-charcoal",children:r.bestIn})]}),a.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light uppercase tracking-wide mb-2",children:"Watch out"}),a.jsx("p",{className:"text-sm text-charcoal",children:r.watchOut})]})]}),(s==null?void 0:s.suggestedTrim)&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"font-serif text-lg text-charcoal mb-4",children:"Recommended Trim"}),a.jsxs("div",{className:"flex gap-3",children:[s.suggestedTrim.crisp&&a.jsxs("div",{className:"flex-1 p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("div",{className:"w-full h-16 rounded-lg mb-3",style:{backgroundColor:s.suggestedTrim.crisp.hex}}),a.jsx("p",{className:"text-sm font-medium text-charcoal",children:s.suggestedTrim.crisp.name}),a.jsx("p",{className:"text-xs text-charcoal-light",children:"Crisp option"})]}),s.suggestedTrim.warm&&a.jsxs("div",{className:"flex-1 p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("div",{className:"w-full h-16 rounded-lg mb-3",style:{backgroundColor:s.suggestedTrim.warm.hex}}),a.jsx("p",{className:"text-sm font-medium text-charcoal",children:s.suggestedTrim.warm.name}),a.jsx("p",{className:"text-xs text-charcoal-light",children:"Warm option"})]})]})]}),l.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"font-serif text-lg text-charcoal mb-4",children:"Similar Alternatives"}),a.jsx("div",{className:"space-y-3",children:r.similarColors.map((o,c)=>{const u=l[c];return u?a.jsxs("button",{onClick:()=>t(`/color/${o.colorId}`),className:"w-full flex items-center gap-4 p-3 bg-white rounded-xl border border-charcoal/5 hover:border-charcoal/15 transition-colors text-left",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex-shrink-0",style:{backgroundColor:u.hex}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-charcoal",children:u.name}),a.jsx("p",{className:"text-xs text-charcoal-light",children:o.relationship})]})]},o.colorId):null})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"font-serif text-lg text-charcoal mb-4",children:"Technical Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"Hex"}),a.jsx("p",{className:"text-sm font-mono text-charcoal",children:r.hex})]}),a.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"LRV"}),a.jsx("p",{className:"text-sm text-charcoal",children:r.lrv})]}),a.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"RGB"}),a.jsxs("p",{className:"text-sm font-mono text-charcoal",children:[r.rgb.r,", ",r.rgb.g,", ",r.rgb.b]})]}),a.jsxs("div",{className:"p-3 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light mb-1",children:"Finishes"}),a.jsx("p",{className:"text-sm text-charcoal capitalize",children:r.suggestedFinishes.join(", ")})]})]})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(o=>a.jsx("span",{className:"px-3 py-1 bg-cream-100 text-charcoal-light text-xs rounded-full",children:o},o))})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>t(`/product-picker/${r.id}`),className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[a.jsx(vh,{className:"w-4 h-4"}),"Choose paint type & finish"]}),a.jsx("button",{className:"btn-secondary px-4",children:a.jsx(ts,{className:"w-5 h-5"})})]})})]})}function p1(){const e=Be(),{compareColors:t,setCompareColors:n}=Et(),[r,s]=t;if(!r||!s)return a.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-charcoal-light mb-4",children:"Select two colors to compare."}),a.jsx("button",{onClick:()=>e("/shortlist"),className:"btn-primary",children:"Back to shortlist"})]})});const i=o=>{o==="both"?(n([null,null]),e("/shortlist")):(n([null,null]),e("/shortlist"))},l=({label:o,leftValue:c,rightValue:u,leftWins:d})=>a.jsxs("div",{className:"flex border-b border-charcoal/5 last:border-0",children:[a.jsx("div",{className:`flex-1 p-3 text-sm ${d===!0?"bg-emerald-50/50":""}`,children:c}),a.jsx("div",{className:"w-24 p-3 text-xs text-charcoal-light text-center bg-cream-100 flex items-center justify-center",children:o}),a.jsx("div",{className:`flex-1 p-3 text-sm text-right ${d===!1?"bg-emerald-50/50":""}`,children:u})]});return a.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[a.jsx("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>{n([null,null]),e("/shortlist")},className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Compare"}),a.jsx("div",{className:"w-9"})]})}),a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-1 h-40 relative",style:{backgroundColor:r.color.hex},children:a.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:a.jsx("p",{className:"text-sm font-medium text-charcoal bg-white/90 backdrop-blur-sm px-3 py-2 rounded-lg",children:r.color.name})})}),a.jsx("div",{className:"w-px bg-cream-50"}),a.jsx("div",{className:"flex-1 h-40 relative",style:{backgroundColor:s.color.hex},children:a.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:a.jsx("p",{className:"text-sm font-medium text-charcoal bg-white/90 backdrop-blur-sm px-3 py-2 rounded-lg text-right",children:s.color.name})})})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/5 overflow-hidden",children:[a.jsx(l,{label:"Brand",leftValue:r.color.brand,rightValue:s.color.brand}),a.jsx(l,{label:"Code",leftValue:r.color.code,rightValue:s.color.code}),a.jsx(l,{label:"LRV",leftValue:String(r.color.lrv),rightValue:String(s.color.lrv),leftWins:r.color.lrv>s.color.lrv?!0:r.color.lrv<s.color.lrv?!1:null}),a.jsx(l,{label:"Undertone",leftValue:`${r.color.undertone.temperature}, ${r.color.undertone.leansPrimary}`,rightValue:`${s.color.undertone.temperature}, ${s.color.undertone.leansPrimary}`}),a.jsx(l,{label:"Stability",leftValue:`${Math.round(r.color.stability*100)}%`,rightValue:`${Math.round(s.color.stability*100)}%`,leftWins:r.color.stability>s.color.stability?!0:r.color.stability<s.color.stability?!1:null}),a.jsx(l,{label:"Match Score",leftValue:String(r.scores.overall),rightValue:String(s.scores.overall),leftWins:r.scores.overall>s.scores.overall?!0:r.scores.overall<s.scores.overall?!1:null})]})}),a.jsx("div",{className:"px-4 space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/5 p-4",children:[a.jsx("p",{className:"text-sm font-medium text-charcoal mb-3",children:r.color.name}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Gn,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-charcoal-light",children:r.color.bestIn})]}),a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Jn,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-charcoal-light",children:r.color.watchOut})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/5 p-4",children:[a.jsx("p",{className:"text-sm font-medium text-charcoal mb-3",children:s.color.name}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Gn,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-charcoal-light",children:s.color.bestIn})]}),a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Jn,{className:"w-4 h-4 text-amber-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-charcoal-light",children:s.color.watchOut})]})]})]})]})}),a.jsx("div",{className:"px-4 mt-4",children:a.jsx("div",{className:"bg-cream-100 rounded-xl p-4",children:a.jsxs("p",{className:"text-sm text-charcoal-light text-center",children:["Both colors work well for your space. ",r.scores.overall>s.scores.overall?`${r.color.name} scores slightly higher for your preferences.`:s.scores.overall>r.scores.overall?`${s.color.name} scores slightly higher for your preferences.`:"They're equally matched for your preferences."]})})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>i("left"),className:"flex-1 btn-secondary text-sm",children:["Pick ",r.color.name.split(" ")[0]]}),a.jsxs("button",{onClick:()=>i("right"),className:"flex-1 btn-secondary text-sm",children:["Pick ",s.color.name.split(" ")[0]]}),a.jsx("button",{onClick:()=>i("both"),className:"btn-secondary px-4 text-sm",children:"Keep both"})]})})]})}const bl=[{id:"surface",title:"What are you painting?",options:[{label:"Walls",value:"walls"},{label:"Trim",value:"trim"},{label:"Doors",value:"doors"},{label:"Cabinets",value:"cabinets"},{label:"Ceiling",value:"ceiling"}]},{id:"condition",title:"What's the surface like now?",options:[{label:"New drywall",value:"new_drywall"},{label:"Previously painted (good shape)",value:"painted_good"},{label:"Previously painted (rough/chalky)",value:"painted_rough"},{label:"Glossy surface (semi-gloss/oil)",value:"glossy"},{label:"Stained wood or tannins",value:"stained_wood"},{label:"Cabinet (factory finish)",value:"cabinet_slick"},{label:"Brick / masonry",value:"masonry"}]},{id:"priorities",title:"What matters most?",subtitle:"Pick up to 2",options:[{label:"Easy wipe-clean",value:"wipe_clean"},{label:"Scuff resistance",value:"scuff_resistance"},{label:"Moisture resistance",value:"moisture"},{label:"Best touch-ups",value:"touch_up"},{label:"Lowest odor / low VOC",value:"low_voc"},{label:"Budget-friendly",value:"budget"}]},{id:"sheen",title:"What sheen?",options:[{label:"Matte",value:"matte",hint:"Soft, hides flaws, marks easier"},{label:"Eggshell",value:"eggshell",hint:"The safe default for most rooms"},{label:"Satin",value:"satin",hint:"More wipeable, shows more texture"},{label:"Semi-gloss",value:"semigloss",hint:"Trim/doors, high wipeability"},{label:"Not sure  choose for me",value:"auto",hint:"We'll pick based on your room"}]},{id:"roomSize",title:"Room size?",subtitle:"For quantity estimate",options:[{label:"Small (bathroom, closet)",value:"small"},{label:"Medium (bedroom, office)",value:"medium"},{label:"Large (living room)",value:"large"},{label:"Very large (great room)",value:"very_large"}]}];function m1(){const{colorId:e}=fh(),t=Be(),{addToShoppingList:n,profile:r}=Et(),s=e?Do(e):null,[i,l]=S.useState(0),[o,c]=S.useState(!1),[u,d]=S.useState({surface:"",condition:"",priorities:[],sheen:"",roomSize:""});if(!s)return a.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-charcoal-light mb-4",children:"Color not found."}),a.jsx("button",{onClick:()=>t(-1),className:"btn-primary",children:"Go back"})]})});const f=bl[i],h=i===bl.length-1,x=y=>{if(f.id==="priorities"){const w=u.priorities||[];w.includes(y)?d(g=>({...g,priorities:w.filter(p=>p!==y)})):w.length<2&&d(g=>({...g,priorities:[...w,y]}))}else d(w=>({...w,[f.id]:y})),!h&&f.id!=="priorities"&&setTimeout(()=>l(w=>w+1),200)},v=()=>{const y=u.priorities,w=Zx(s.brandId,u.surface,y,o),g=e1(u.condition),p=t1(u.roomSize,9,u.surface);let m=u.sheen;if(m==="auto"){const j=(r==null?void 0:r.roomType)||"living";j==="bathroom"?m="satin":j==="kitchen"||j==="hallway"?m="eggshell":j==="bedroom"&&!o?m="matte":m="eggshell"}let b="light";s.lrv<20?b="ultradeep":s.lrv<40?b="deep":s.lrv<60&&(b="medium");const _={id:`${s.id}-${u.surface}-${Date.now()}`,roomName:(r==null?void 0:r.roomType)||"living",surface:u.surface,color:s,productLine:w.name,sheen:m,base:b,quantity:{gallons:p.gallons,coats:p.coats},primer:{needed:g.needed,type:g.type,gallons:g.needed?1:0},productSpec:{surface:u.surface,room:(r==null?void 0:r.roomType)||"living",condition:u.condition,priorities:y,sheen:m,brand:s.brandId,noRegretsMode:o}};n(_),t("/shopping-list")};return a.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[a.jsxs("header",{className:"px-4 py-4 flex items-center justify-between border-b border-charcoal/5",children:[a.jsx("button",{onClick:()=>i>0?l(y=>y-1):t(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg",style:{backgroundColor:s.hex}}),a.jsx("span",{className:"text-sm font-medium text-charcoal",children:s.name})]}),a.jsx("div",{className:"w-9"})]}),a.jsx("div",{className:"px-4 py-3 flex gap-1",children:bl.map((y,w)=>a.jsx("div",{className:`flex-1 h-1 rounded-full transition-colors ${w<=i?"bg-charcoal":"bg-charcoal/15"}`},w))}),a.jsxs("div",{className:"px-6 pt-4 pb-4",children:[a.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:f.title}),f.subtitle&&a.jsx("p",{className:"text-charcoal-light text-sm mb-6",children:f.subtitle}),i===0&&a.jsxs("button",{onClick:()=>c(!o),className:`w-full mb-6 p-4 rounded-xl border flex items-center gap-3 transition-colors ${o?"bg-emerald-50 border-emerald-200":"bg-white border-charcoal/10 hover:border-charcoal/20"}`,children:[a.jsx(By,{className:`w-5 h-5 ${o?"text-emerald-600":"text-charcoal-light"}`}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("p",{className:`text-sm font-medium ${o?"text-emerald-700":"text-charcoal"}`,children:"No-regrets mode"}),a.jsx("p",{className:"text-xs text-charcoal-light",children:"Defaults to forgiving sheen + high durability"})]}),a.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${o?"bg-emerald-500":"bg-charcoal/20"}`,children:a.jsx("div",{className:`w-5 h-5 rounded-full bg-white shadow-sm transform transition-transform mt-0.5 ${o?"translate-x-4.5 ml-0.5":"translate-x-0.5"}`})})]}),a.jsx("div",{className:"space-y-3",children:f.options.map(y=>{const w=f.id==="priorities"?(u.priorities||[]).includes(y.value):u[f.id]===y.value;return a.jsxs("button",{onClick:()=>x(y.value),className:`w-full p-4 rounded-xl border text-left transition-colors flex items-center gap-3 ${w?"bg-charcoal text-cream-50 border-charcoal":"bg-white border-charcoal/10 hover:border-charcoal/20"}`,children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:y.label}),y.hint&&a.jsx("p",{className:`text-xs mt-0.5 ${w?"text-cream-50/70":"text-charcoal-light"}`,children:y.hint})]}),w&&a.jsx(Gn,{className:"w-5 h-5"})]},y.value)})})]}),a.jsx("div",{className:"px-6 pb-6 pt-2 safe-area-inset-bottom",children:h?a.jsxs("button",{onClick:v,disabled:!u.roomSize,className:"btn-primary flex items-center justify-center gap-2 disabled:opacity-50",children:[a.jsx(ts,{className:"w-5 h-5"}),"Add to shopping list"]}):f.id==="priorities"?a.jsxs("button",{onClick:()=>l(y=>y+1),className:"btn-primary flex items-center justify-center gap-2",children:["Continue",a.jsx(es,{className:"w-4 h-4"})]}):null})]})}function g1({shoppingList:e}){const{user:t}=Y.useAuth(),[n,r]=S.useState(!1),[s,i]=S.useState(!1),[l,o]=S.useState(!1),[c,u]=S.useState(""),[d,f]=S.useState(!1),h=()=>{if(!t){o(!0);return}const v=`Shopping List - ${new Date().toLocaleDateString()}`;u(v),i(!0)},x=async()=>{if(!(!t||!c.trim())){r(!0);try{const v=crypto.randomUUID();await Y.transact(Y.tx.savedShoppingLists[v].update({userId:t.id,name:c.trim(),createdAt:Date.now(),shoppingListData:JSON.stringify(e)})),f(!0),i(!1),setTimeout(()=>f(!1),2e3)}catch(v){console.error("Failed to save shopping list:",v)}finally{r(!1)}}};return e.length===0?null:a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:h,disabled:n,className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm transition-colors ${d?"bg-emerald-100 text-emerald-700":"bg-charcoal/10 text-charcoal hover:bg-charcoal/20"}`,children:[n?a.jsx(De,{className:"w-4 h-4 animate-spin"}):d?a.jsx(Gn,{className:"w-4 h-4"}):a.jsx(wh,{className:"w-4 h-4"}),d?"Saved!":"Save list"]}),s&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:a.jsxs("div",{className:"bg-cream-50 rounded-2xl w-full max-w-sm p-6 relative",children:[a.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 p-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(Jn,{className:"w-5 h-5"})}),a.jsx("h3",{className:"font-serif text-xl text-charcoal mb-4",children:"Save Shopping List"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"list-name",className:"block text-sm font-medium text-charcoal mb-2",children:"Name your list"}),a.jsx("input",{type:"text",id:"list-name",value:c,onChange:v=>u(v.target.value),placeholder:"e.g., Bedroom Makeover",className:"w-full px-4 py-3 border border-charcoal/20 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-gold/50",autoFocus:!0})]}),a.jsx("button",{onClick:x,disabled:n||!c.trim(),className:"btn-primary w-full flex items-center justify-center gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(De,{className:"w-5 h-5 animate-spin"}),"Saving..."]}):"Save"})]})}),a.jsx($i,{isOpen:l,onClose:()=>o(!1)})]})}function y1(){const e=Be(),{shoppingList:t,removeFromShoppingList:n,clearShoppingList:r}=Et(),s=d=>`Hi, I'm looking for ${d.color.brand} ${d.productLine}, ${d.sheen} finish, ${d.base} base, ${d.quantity.gallons} gallon${d.quantity.gallons>1?"s":""}, color code ${d.color.code} (${d.color.name}). Do you have it in stock or can you mix it today?`,i=()=>t.map(d=>{let f=`${d.roomName} - ${d.surface}
`;return f+=`  ${d.color.name} (${d.color.code})
`,f+=`  ${d.color.brand} ${d.productLine}
`,f+=`  ${d.sheen}, ${d.base} base
`,f+=`  Qty: ${d.quantity.gallons} gal (${d.quantity.coats} coats)
`,d.primer.needed&&(f+=`  Primer: ${d.primer.type}, ${d.primer.gallons} gal
`),f}).join(`
`),l=async()=>{const d=i();await navigator.clipboard.writeText(d),alert("Shopping list copied to clipboard!")},o=async()=>{const d=i();navigator.share?await navigator.share({title:"The Color Edit - Shopping List",text:d}):l()};if(t.length===0)return a.jsxs("div",{className:"min-h-screen bg-cream-50 flex flex-col",children:[a.jsxs("header",{className:"px-4 py-4 flex items-center border-b border-charcoal/5",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"ml-2 font-serif text-lg text-charcoal",children:"Shopping List"})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-charcoal-light mb-4",children:"Your shopping list is empty."}),a.jsx("p",{className:"text-sm text-charcoal-lighter mb-6",children:"Choose paint type & finish for colors in your shortlist to add them here."}),a.jsx("button",{onClick:()=>e("/shortlist"),className:"btn-secondary",children:"Back to shortlist"})]})})]});const c=t.reduce((d,f)=>d+f.quantity.gallons,0),u=t.reduce((d,f)=>d+(f.primer.gallons||0),0);return a.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[a.jsx("header",{className:"px-4 py-4 border-b border-charcoal/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Shopping List"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(g1,{shoppingList:t}),a.jsx("button",{onClick:r,className:"p-2 text-charcoal-light hover:text-red-500 transition-colors",children:a.jsx(fi,{className:"w-5 h-5"})})]})]})}),a.jsxs("div",{className:"px-4 py-4 bg-cream-100",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-charcoal-light",children:"Total paint:"}),a.jsxs("span",{className:"font-medium text-charcoal",children:[c," gallon",c!==1?"s":""]})]}),u>0&&a.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[a.jsx("span",{className:"text-charcoal-light",children:"Total primer:"}),a.jsxs("span",{className:"font-medium text-charcoal",children:[u," gallon",u!==1?"s":""]})]})]}),a.jsx("div",{className:"p-4 space-y-4",children:t.map(d=>a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex gap-4 mb-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-xl flex-shrink-0",style:{backgroundColor:d.color.hex}}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-charcoal",children:d.color.name}),a.jsxs("p",{className:"text-sm text-charcoal-light",children:[d.color.brand,"  ",d.color.code]}),a.jsxs("p",{className:"text-xs text-charcoal-lighter mt-1 capitalize",children:[d.roomName,"  ",d.surface]})]}),a.jsx("button",{onClick:()=>n(d.id),className:"p-2 text-charcoal-light hover:text-red-500 transition-colors",children:a.jsx(fi,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-charcoal-light",children:"Product:"})," ",a.jsx("span",{className:"text-charcoal",children:d.productLine})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-charcoal-light",children:"Sheen:"})," ",a.jsx("span",{className:"text-charcoal capitalize",children:d.sheen})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-charcoal-light",children:"Base:"})," ",a.jsx("span",{className:"text-charcoal capitalize",children:d.base})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-charcoal-light",children:"Quantity:"})," ",a.jsxs("span",{className:"text-charcoal",children:[d.quantity.gallons," gal (",d.quantity.coats," coats)"]})]})]}),d.primer.needed&&a.jsx("div",{className:"mt-3 p-3 bg-amber-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsx("span",{className:"font-medium",children:"Primer needed:"})," ",d.primer.type,", ",d.primer.gallons," gallon"]})}),a.jsxs("div",{className:"mt-4 p-3 bg-cream-100 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs text-charcoal-light uppercase tracking-wide",children:"Call-ahead script"}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(s(d)),className:"text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(vu,{className:"w-4 h-4"})})]}),a.jsxs("p",{className:"text-xs text-charcoal leading-relaxed",children:['"',s(d),'"']})]})]},d.id))}),a.jsx("div",{className:"px-4 mb-4",children:a.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("p",{className:"text-sm font-medium text-charcoal mb-2",children:"Don't forget supplies"}),a.jsxs("ul",{className:"text-sm text-charcoal-light space-y-1",children:[a.jsx("li",{children:' Roller covers (3/8" for smooth, 1/2" for textured)'}),a.jsx("li",{children:' Quality angled brush (2.5" for cutting in)'}),a.jsx("li",{children:" Painter's tape"}),a.jsx("li",{children:" Drop cloths"}),a.jsx("li",{children:" Paint tray or bucket grid"})]})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:l,className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[a.jsx(vu,{className:"w-4 h-4"}),"Copy as text"]}),a.jsxs("button",{onClick:o,className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[a.jsx(Uy,{className:"w-4 h-4"}),"Share list"]}),a.jsxs("button",{onClick:()=>e("/stores"),className:"btn-primary px-4 flex items-center gap-2",children:[a.jsx(Ri,{className:"w-4 h-4"}),"Find stores"]})]})})]})}const v1="https://color-edit-api.rkrigney.workers.dev",jl={sw:"Sherwin-Williams",bm:"Benjamin Moore",behr:"Behr",ppg:"PPG",valspar:"Valspar"};function x1(e,t){const n=e.toLowerCase(),r=[];return(n.includes("sherwin")||n.includes("sw"))&&r.push("sw"),(n.includes("benjamin moore")||n.includes("bm"))&&r.push("bm"),n.includes("home depot")&&r.push("behr","ppg"),n.includes("lowe")&&r.push("valspar","sw"),n.includes("ace hardware")&&r.push("bm","sw"),n.includes("ppg")&&r.push("ppg"),r.length===0&&(t.includes("paint_store")||n.includes("paint"))&&r.push("sw","bm"),r}function w1(e){const t=e.toLowerCase();return t.includes("sherwin")||t.includes("benjamin moore")||t.includes("ppg")?"brand_store":t.includes("home depot")||t.includes("lowe")?"big_box":t.includes("ace")||t.includes("true value")?"hardware":"independent"}function b1(){const e=Be(),[t,n]=S.useState([]),[r,s]=S.useState(""),[i,l]=S.useState(null),[o,c]=S.useState(!0),[u,d]=S.useState(null),[f,h]=S.useState("requesting");S.useEffect(()=>{x()},[]);const x=()=>{if(c(!0),d(null),h("requesting"),!navigator.geolocation){d("Geolocation is not supported by your browser"),h("error"),c(!1);return}navigator.geolocation.getCurrentPosition(async m=>{h("granted"),await v(m.coords.latitude,m.coords.longitude)},m=>{console.error("Geolocation error:",m),h("denied"),d("Please enable location access to find stores near you"),c(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},v=async(m,b)=>{try{const _=await fetch(`${v1}/stores`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({latitude:m,longitude:b,radius:32187,limit:5})});if(!_.ok)throw new Error("Failed to fetch stores");const j=await _.json();if(j.success&&j.stores){const k=j.stores.map((C,I)=>{var O,ee;return{id:C.place_id||`store-${I}`,name:C.name,brandAffiliation:x1(C.name,C.types||[]),storeType:w1(C.name),distance:C.distance?Math.round(C.distance*10)/10:0,address:C.vicinity||C.formatted_address||"",city:"",state:"",phone:C.formatted_phone_number||"",hours:(O=C.opening_hours)!=null&&O.open_now?"Open now":"Hours unavailable",isOpen:((ee=C.opening_hours)==null?void 0:ee.open_now)??!0,isFavorite:!1}});n(k)}else d("No paint stores found within 20 miles")}catch(_){console.error("Error fetching stores:",_),d("Unable to find nearby stores. Please try again.")}finally{c(!1)}},y=t.filter(m=>{if(r){const b=r.toLowerCase();return m.name.toLowerCase().includes(b)||m.address.toLowerCase().includes(b)||m.brandAffiliation.some(_=>{var j;return(j=jl[_])==null?void 0:j.toLowerCase().includes(b)})}return!0}).filter(m=>i?m.brandAffiliation.includes(i):!0).sort((m,b)=>m.isFavorite&&!b.isFavorite?-1:!m.isFavorite&&b.isFavorite?1:m.distance-b.distance),w=m=>{n(b=>b.map(_=>_.id===m?{..._,isFavorite:!_.isFavorite}:_))},g=m=>{const b=encodeURIComponent(m.address);window.open(`https://www.google.com/maps/dir/?api=1&destination=${b}`,"_blank")},p=m=>{m&&window.open(`tel:${m.replace(/[^0-9]/g,"")}`,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[a.jsxs("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Find Stores"}),a.jsx("div",{className:"w-9"})]}),a.jsxs("div",{className:"relative mb-3",children:[a.jsx($y,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-charcoal-light"}),a.jsx("input",{type:"text",placeholder:"Search stores or brands...",value:r,onChange:m=>s(m.target.value),className:`w-full pl-10 pr-4 py-3 bg-white border border-charcoal/10 rounded-xl text-sm
                     placeholder:text-charcoal-lighter focus:outline-none focus:border-charcoal/30`})]}),a.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-4 px-4",children:[a.jsx("button",{onClick:()=>l(null),className:`flex-shrink-0 ${i?"btn-pill":"btn-pill-selected"} text-xs`,children:"All"}),["sw","bm","behr","ppg"].map(m=>a.jsx("button",{onClick:()=>l(i===m?null:m),className:`flex-shrink-0 ${i===m?"btn-pill-selected":"btn-pill"} text-xs`,children:jl[m]},m))]})]}),o&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[a.jsx(De,{className:"w-8 h-8 text-charcoal animate-spin mb-4"}),a.jsx("p",{className:"text-charcoal-light text-center",children:f==="requesting"?"Requesting location access...":"Finding paint stores near you..."})]}),!o&&u&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[a.jsx(zy,{className:"w-12 h-12 text-charcoal-light mb-4"}),a.jsx("p",{className:"text-charcoal text-center mb-2 font-medium",children:"Location Required"}),a.jsx("p",{className:"text-charcoal-light text-center text-sm mb-6",children:u}),a.jsx("button",{onClick:x,className:"btn-primary",children:"Try Again"})]}),!o&&!u&&t.length>0&&a.jsx("div",{className:"px-4 py-3 bg-cream-100 text-center",children:a.jsxs("p",{className:"text-xs text-charcoal-light",children:["Showing ",t.length," paint stores within 20 miles. Call ahead to confirm availability."]})}),!o&&!u&&a.jsxs("div",{className:"p-4 space-y-3",children:[y.map(m=>a.jsxs("div",{className:"card p-4",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-medium text-charcoal truncate",children:m.name}),m.isFavorite&&a.jsx(xu,{className:"w-4 h-4 text-gold fill-gold flex-shrink-0"})]}),a.jsxs("p",{className:"text-sm text-charcoal-light",children:[m.distance," mi away"]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs ${m.isOpen?"bg-emerald-50 text-emerald-700":"bg-charcoal/5 text-charcoal-light"}`,children:m.isOpen?"Open":"Closed"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal-light mb-2",children:[a.jsx(Ri,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"truncate",children:m.address})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-charcoal-light mb-3",children:[a.jsx(Ey,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{children:m.hours})]}),m.brandAffiliation.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:m.brandAffiliation.map(b=>a.jsx("span",{className:"px-2 py-0.5 bg-cream-100 text-charcoal-light text-xs rounded-full",children:jl[b]||b},b))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>g(m),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[a.jsx(Fy,{className:"w-4 h-4"}),"Directions"]}),m.phone&&a.jsxs("button",{onClick:()=>p(m.phone),className:"flex-1 btn-secondary flex items-center justify-center gap-2 text-sm",children:[a.jsx(Dy,{className:"w-4 h-4"}),"Call"]}),a.jsx("button",{onClick:()=>w(m.id),className:`btn-secondary px-3 ${m.isFavorite?"text-gold":""}`,children:a.jsx(xu,{className:`w-4 h-4 ${m.isFavorite?"fill-gold":""}`})})]})]},m.id)),y.length===0&&t.length>0&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-charcoal-light",children:"No stores found matching your search."})})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:a.jsx("button",{onClick:()=>e("/shopping-list"),className:"btn-primary w-full",children:"Back to shopping list"})})]})}function j1(){const e=Be(),{shortlist:t,profile:n}=Et();if(!n||t.length===0)return a.jsx("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-charcoal-light mb-4",children:"No shortlist available."}),a.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary",children:"Start over"})]})});const r=Xx(t,n),s=[Vy,xo,xh];return a.jsxs("div",{className:"min-h-screen bg-cream-50 pb-24",children:[a.jsxs("header",{className:"px-4 py-4 flex items-center border-b border-charcoal/5",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"ml-2 font-serif text-lg text-charcoal",children:"Sampling Plan"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"font-serif text-2xl text-charcoal mb-2",children:"How to test your samples"}),a.jsx("p",{className:"text-charcoal-light",children:"Follow this plan to see how your colors really perform in your space."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-sm text-charcoal-light uppercase tracking-wide mb-3",children:"Your shortlist"}),a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-6 px-6",children:t.map(i=>a.jsxs("div",{className:"flex-shrink-0 w-20",children:[a.jsx("div",{className:"w-20 h-16 rounded-xl mb-2",style:{backgroundColor:i.color.hex}}),a.jsx("p",{className:"text-xs text-charcoal truncate",children:i.color.name})]},i.color.id))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[a.jsx(Ri,{className:"w-5 h-5 text-gold"}),"Where to place samples"]}),a.jsx("div",{className:"space-y-3",children:r.placements.map((i,l)=>a.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("div",{className:"w-8 h-8 bg-cream-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-sm font-medium text-charcoal",children:l+1})}),a.jsx("p",{className:"text-sm text-charcoal pt-1",children:i})]},l))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[a.jsx(xo,{className:"w-5 h-5 text-gold"}),"When to check"]}),a.jsx("div",{className:"space-y-3",children:r.timesToCheck.map((i,l)=>{const o=s[l];return a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-white rounded-xl border border-charcoal/5",children:[a.jsx("div",{className:"w-8 h-8 bg-cream-100 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(o,{className:"w-4 h-4 text-charcoal-light"})}),a.jsx("p",{className:"text-sm text-charcoal",children:i})]},l)})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[a.jsx(Py,{className:"w-5 h-5 text-gold"}),"What to compare against"]}),a.jsxs("div",{className:"p-4 bg-white rounded-xl border border-charcoal/5 space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),a.jsx("p",{className:"text-sm text-charcoal",children:"Hold the sample next to your floors"})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),a.jsx("p",{className:"text-sm text-charcoal",children:"Hold it next to counters, cabinets, or fixed elements"})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),a.jsx("p",{className:"text-sm text-charcoal",children:"Step back and view from across the room"})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-charcoal mt-2"}),a.jsx("p",{className:"text-sm text-charcoal",children:"Look at it from the hallway or doorway"})]})]})]}),r.alternates.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h3",{className:"font-serif text-lg text-charcoal mb-4 flex items-center gap-2",children:[a.jsx(Ly,{className:"w-5 h-5 text-gold"}),"If it's not quite right"]}),a.jsx("div",{className:"space-y-3",children:r.alternates.map((i,l)=>a.jsx("div",{className:"p-4 bg-amber-50 rounded-xl border border-amber-100",children:a.jsxs("p",{className:"text-sm text-amber-800",children:[a.jsxs("span",{className:"font-medium",children:["If it looks too ",i.ifLooksToo,":"]})," ","try ",i.tryInstead.join(" or ")]})},l))})]}),a.jsxs("div",{className:"p-4 bg-cream-100 rounded-xl",children:[a.jsx("h4",{className:"text-sm font-medium text-charcoal mb-2",children:"Pro tips"}),a.jsxs("ul",{className:"text-sm text-charcoal-light space-y-2",children:[a.jsx("li",{children:" Paint samples are worth it  digital swatches can only get you so far"}),a.jsx("li",{children:' Use large sample boards (at least 12"12") for accuracy'}),a.jsx("li",{children:" Apply 2 coats to your sample boards for true color"}),a.jsx("li",{children:" Live with samples for at least 2448 hours before deciding"})]})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-cream-50 border-t border-charcoal/10 px-4 py-3 safe-area-inset-bottom",children:a.jsxs("button",{onClick:()=>e("/shopping-list"),className:"btn-primary w-full flex items-center justify-center gap-2",children:["Got it  show shopping list",a.jsx(es,{className:"w-4 h-4"})]})})]})}function S1(){var x;const e=Be(),{user:t}=Y.useAuth(),{setShortlist:n,setProfile:r}=Et(),[s,i]=S.useState(null),{isLoading:l,data:o,error:c}=Y.useQuery(t?{savedShortlists:{$:{where:{userId:t.id},order:{createdAt:"desc"}}}}:null);if(!t)return e("/"),null;const u=v=>{try{const y=JSON.parse(v.shortlistData);n(y),r({roomType:v.roomType,lighting:{direction:"unknown",primaryUsage:"both",bulbTemp:"unknown"},fixedElements:[],vibe:{cozyToCrisp:50,calmToMoody:50},undertoneFears:[],brandPreferences:[],depthPreference:"any"}),e("/shortlist")}catch(y){console.error("Failed to load shortlist:",y)}},d=async v=>{i(v);try{await Y.transact(Y.tx.savedShortlists[v].delete())}catch(y){console.error("Failed to delete shortlist:",y)}finally{i(null)}},f=v=>new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),h={living:"Living room",bedroom:"Bedroom",kitchen:"Kitchen",bathroom:"Bathroom",hallway:"Hallway",office:"Home office",nursery:"Nursery"};return a.jsxs("div",{className:"min-h-screen bg-cream-50",children:[a.jsx("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Saved Shortlists"}),a.jsx("div",{className:"w-9"})]})}),a.jsx("div",{className:"p-4",children:l?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(De,{className:"w-8 h-8 animate-spin text-charcoal-light"})}):c?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-charcoal-light",children:"Failed to load saved shortlists."})}):(x=o==null?void 0:o.savedShortlists)!=null&&x.length?a.jsx("div",{className:"space-y-3",children:o.savedShortlists.map(v=>{const w=JSON.parse(v.shortlistData).slice(0,5);return a.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/10 overflow-hidden",children:[a.jsxs("button",{onClick:()=>u(v),className:"w-full p-4 text-left hover:bg-cream-100/50 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-charcoal",children:v.name}),a.jsx("p",{className:"text-sm text-charcoal-light",children:h[v.roomType]||v.roomType})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-charcoal-light",children:[a.jsx(yh,{className:"w-3 h-3"}),f(v.createdAt)]})]}),a.jsx("div",{className:"flex gap-1.5",children:w.map((g,p)=>a.jsx("div",{className:"w-10 h-10 rounded-lg shadow-sm",style:{backgroundColor:g.color.hex},title:g.color.name},p))})]}),a.jsx("div",{className:"border-t border-charcoal/5 px-4 py-2 flex justify-end",children:a.jsx("button",{onClick:()=>d(v.id),disabled:s===v.id,className:"p-2 text-charcoal-light hover:text-red-600 transition-colors disabled:opacity-50",children:s===v.id?a.jsx(De,{className:"w-4 h-4 animate-spin"}):a.jsx(fi,{className:"w-4 h-4"})})})]},v.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(za,{className:"w-12 h-12 text-charcoal/20 mx-auto mb-4"}),a.jsx("p",{className:"text-charcoal-light mb-4",children:"No saved shortlists yet."}),a.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary",children:"Create your first shortlist"})]})})]})}function _1(){var f;const e=Be(),{user:t}=Y.useAuth(),{setShoppingListFromSaved:n}=Et(),[r,s]=S.useState(null),{isLoading:i,data:l,error:o}=Y.useQuery(t?{savedShoppingLists:{$:{where:{userId:t.id},order:{createdAt:"desc"}}}}:null);if(!t)return e("/"),null;const c=h=>{try{const x=JSON.parse(h.shoppingListData);n(x),e("/shopping-list")}catch(x){console.error("Failed to load shopping list:",x)}},u=async h=>{s(h);try{await Y.transact(Y.tx.savedShoppingLists[h].delete())}catch(x){console.error("Failed to delete shopping list:",x)}finally{s(null)}},d=h=>new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return a.jsxs("div",{className:"min-h-screen bg-cream-50",children:[a.jsx("header",{className:"sticky top-0 bg-cream-50/95 backdrop-blur-sm z-10 px-4 py-4 border-b border-charcoal/5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-charcoal-light hover:text-charcoal transition-colors",children:a.jsx(it,{className:"w-5 h-5"})}),a.jsx("h1",{className:"font-serif text-lg text-charcoal",children:"Saved Shopping Lists"}),a.jsx("div",{className:"w-9"})]})}),a.jsx("div",{className:"p-4",children:i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(De,{className:"w-8 h-8 animate-spin text-charcoal-light"})}):o?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-charcoal-light",children:"Failed to load saved shopping lists."})}):(f=l==null?void 0:l.savedShoppingLists)!=null&&f.length?a.jsx("div",{className:"space-y-3",children:l.savedShoppingLists.map(h=>{const x=JSON.parse(h.shoppingListData),v=x.length,y=x.reduce((w,g)=>w+g.quantity.gallons,0);return a.jsxs("div",{className:"bg-white rounded-xl border border-charcoal/10 overflow-hidden",children:[a.jsxs("button",{onClick:()=>c(h),className:"w-full p-4 text-left hover:bg-cream-100/50 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-charcoal",children:h.name}),a.jsxs("p",{className:"text-sm text-charcoal-light",children:[v," ",v===1?"item":"items","  ",y," ",y===1?"gallon":"gallons"]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-charcoal-light",children:[a.jsx(yh,{className:"w-3 h-3"}),d(h.createdAt)]})]}),a.jsxs("div",{className:"flex gap-1.5",children:[x.slice(0,5).map((w,g)=>a.jsx("div",{className:"w-10 h-10 rounded-lg shadow-sm",style:{backgroundColor:w.color.hex},title:w.color.name},g)),x.length>5&&a.jsxs("div",{className:"w-10 h-10 rounded-lg bg-charcoal/10 flex items-center justify-center text-xs text-charcoal-light",children:["+",x.length-5]})]})]}),a.jsx("div",{className:"border-t border-charcoal/5 px-4 py-2 flex justify-end",children:a.jsx("button",{onClick:()=>u(h.id),disabled:r===h.id,className:"p-2 text-charcoal-light hover:text-red-600 transition-colors disabled:opacity-50",children:r===h.id?a.jsx(De,{className:"w-4 h-4 animate-spin"}):a.jsx(fi,{className:"w-4 h-4"})})})]},h.id)})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ts,{className:"w-12 h-12 text-charcoal/20 mx-auto mb-4"}),a.jsx("p",{className:"text-charcoal-light mb-4",children:"No saved shopping lists yet."}),a.jsx("button",{onClick:()=>e("/setup"),className:"btn-primary",children:"Start creating your palette"})]})})]})}function k1(){var h,x,v;const e=Be(),{isLoading:t,user:n,error:r}=Y.useAuth(),[s,i]=S.useState(!1),[l,o]=S.useState(!1),{data:c}=Y.useQuery(n?{savedShortlists:{$:{where:{userId:n.id}}},savedShoppingLists:{$:{where:{userId:n.id}}}}:null),u=()=>{Y.auth.signOut(),i(!1)};if(t)return a.jsx("div",{className:"p-2",children:a.jsx(De,{className:"w-5 h-5 animate-spin text-charcoal-light"})});if(r&&console.error("Auth error:",r),!n)return a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-charcoal-light hover:text-charcoal transition-colors",children:[a.jsx(hi,{className:"w-4 h-4"}),a.jsx("span",{children:"Sign in"})]}),a.jsx($i,{isOpen:l,onClose:()=>o(!1)})]});const d=((h=c==null?void 0:c.savedShortlists)==null?void 0:h.length)||0,f=((x=c==null?void 0:c.savedShoppingLists)==null?void 0:x.length)||0;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>i(!s),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-charcoal hover:bg-cream-100 rounded-full transition-colors",children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-gold/20 flex items-center justify-center",children:a.jsx(hi,{className:"w-4 h-4 text-gold"})}),a.jsx("span",{className:"max-w-[120px] truncate",children:(v=n.email)==null?void 0:v.split("@")[0]}),a.jsx(Cy,{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`})]}),s&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-xl shadow-lg border border-charcoal/10 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-charcoal/5",children:[a.jsx("p",{className:"text-xs text-charcoal-light",children:"Signed in as"}),a.jsx("p",{className:"text-sm text-charcoal truncate",children:n.email})]}),a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{onClick:()=>{e("/saved-shortlists"),i(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-cream-100 transition-colors",children:[a.jsx(za,{className:"w-4 h-4 text-charcoal-light"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("span",{className:"text-sm text-charcoal",children:"Saved Shortlists"})}),d>0&&a.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-0.5 rounded-full",children:d})]}),a.jsxs("button",{onClick:()=>{e("/saved-shopping-lists"),i(!1)},className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-cream-100 transition-colors",children:[a.jsx(ts,{className:"w-4 h-4 text-charcoal-light"}),a.jsx("div",{className:"flex-1 text-left",children:a.jsx("span",{className:"text-sm text-charcoal",children:"Saved Shopping Lists"})}),f>0&&a.jsx("span",{className:"text-xs bg-gold/20 text-gold px-2 py-0.5 rounded-full",children:f})]})]}),a.jsx("div",{className:"border-t border-charcoal/5 pt-2",children:a.jsxs("button",{onClick:u,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-cream-100 transition-colors text-red-600",children:[a.jsx(Ay,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Sign out"})]})})]})]})]})}const Jh=S.createContext(null);function Et(){const e=S.useContext(Jh);if(!e)throw new Error("useAppContext must be used within AppProvider");return e}function N1({children:e}){const t=Ra(),r=!["/setup","/product-picker"].some(s=>t.pathname.startsWith(s));return a.jsxs("div",{className:"min-h-screen bg-cream-50",children:[r&&a.jsx("div",{className:"sticky top-0 z-50 bg-cream-50/95 backdrop-blur-sm border-b border-charcoal/5",children:a.jsx("div",{className:"flex justify-end px-4 py-2",children:a.jsx(k1,{})})}),e]})}function C1(){const[e,t]=S.useState(null),[n,r]=S.useState([]),[s,i]=S.useState([null,null]),[l,o]=S.useState([]),[c,u]=S.useState(null),d=v=>{o(y=>[...y.filter(w=>w.id!==v.id),v])},f=v=>{o(y=>y.filter(w=>w.id!==v))},h=()=>{o([])},x=v=>{o(v)};return a.jsx(Jh.Provider,{value:{profile:e,setProfile:t,shortlist:n,setShortlist:r,compareColors:s,setCompareColors:i,shoppingList:l,addToShoppingList:d,removeFromShoppingList:f,clearShoppingList:h,setShoppingListFromSaved:x,roomImage:c,setRoomImage:u},children:a.jsx(by,{basename:"/thecoloredit",children:a.jsx(N1,{children:a.jsxs(vy,{children:[a.jsx(We,{path:"/",element:a.jsx(Vx,{})}),a.jsx(We,{path:"/setup",element:a.jsx(n1,{})}),a.jsx(We,{path:"/shortlist",element:a.jsx(f1,{})}),a.jsx(We,{path:"/color/:id",element:a.jsx(h1,{})}),a.jsx(We,{path:"/compare",element:a.jsx(p1,{})}),a.jsx(We,{path:"/product-picker/:colorId",element:a.jsx(m1,{})}),a.jsx(We,{path:"/shopping-list",element:a.jsx(y1,{})}),a.jsx(We,{path:"/stores",element:a.jsx(b1,{})}),a.jsx(We,{path:"/sampling-plan",element:a.jsx(j1,{})}),a.jsx(We,{path:"/saved-shortlists",element:a.jsx(S1,{})}),a.jsx(We,{path:"/saved-shopping-lists",element:a.jsx(_1,{})})]})})})})}Sl.createRoot(document.getElementById("root")).render(a.jsx(td.StrictMode,{children:a.jsx(C1,{})}));
